{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"AOS-Startup-Advanced-Build/","title":"AOS Startup Procedure: Advanced Build (VPS + Local Ollama)","text":"<p>Robust deployment: Run nanobot gateway on a rented cloud server with AI inference on your local computer. For privacy, self-hosting, and 24/7 operation.</p>"},{"location":"AOS-Startup-Advanced-Build/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.4.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> <li>Applies To: Path B (Advanced Build) only</li> <li>Estimated Setup Time: 60-90 minutes</li> <li>Estimated Startup Time: 10 minutes</li> <li>Architecture: VPS (gateway) \u2194 Local Ollama (inference) via Tailscale tunnel</li> </ul>"},{"location":"AOS-Startup-Advanced-Build/#for-complete-beginners-advanced-build-overview","title":"For Complete Beginners: Advanced Build Overview","text":"<p>What is Advanced Build? - You rent a small cloud server (called a VPS\u2014Virtual Private Server) - Nanobot gateway runs on that rented server - The AI \"brain\" (Ollama) runs on your personal computer at home - Your server and home computer talk to each other securely through Tailscale (an encrypted tunnel) - You pay a monthly fee for the rented server (~$5-10/month) but NO per-query AI costs</p> <p>Why would you choose this? - \u2705 You need 24/7 operation (the server is always on) - \u2705 You want zero cloud AI costs (run your own free AI locally) - \u2705 You want maximum privacy (AI inference stays on your computer) - \u2705 You're building a production system - \u2705 You're willing to spend 60-90 minutes setting up</p> <p>Who should NOT choose this? - \u274c You want the quickest possible setup (Simple Build is 25 minutes) - \u274c You're just trying nanobot for the first time (start with Simple Build) - \u274c You don't have a spare computer to run Ollama 24/7 - \u274c You're not comfortable with terminals and server concepts - \u2192 For those cases, see AOS-Startup-Simple-Build</p>"},{"location":"AOS-Startup-Advanced-Build/#cost-expectations","title":"Cost Expectations","text":"<p>To get started: - $5-10 for first month of VPS service - $0 for everything else (Ollama is free, Tailscale is free for personal use)</p> <p>Per month (ongoing): - VPS: $5-10/month (whether you use it or not) - AI inference: $0 (Ollama runs on your computer for free) - Electricity: ~$10-20/month to run your home computer with Ollama 24/7</p> <p>Total: ~$15-30/month (vs $0-100/month for Simple Build, depending on cloud API usage)</p> <p>Break-even calculation: If you use nanobot heavily and pay $0.01 per 1000 tokens on cloud APIs, you'd pay $5-30/month for Simple Build. Advanced Build at $15-30/month becomes cheaper after 2-3 months of heavy use.</p>"},{"location":"AOS-Startup-Advanced-Build/#architecture-overview","title":"Architecture Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Your Home/Office Network                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502  Your Discord  \u2502              \u2502  Your Computer               \u2502 \u2502\n\u2502 \u2502  Slack Channel \u2502              \u2502  (Running Ollama)            \u2502 \u2502\n\u2502 \u2502  etc.          \u2502              \u2502                              \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502 \u2502\n\u2502          \u2502 Messages             \u2502  \u2502  Ollama AI Inference \u2502    \u2502 \u2502\n\u2502          \u2502                      \u2502  \u2502  (Free, local)       \u2502    \u2502 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u2500\u2500\u253c\u2500 Secure Tailscale \u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2518 \u2502\n           \u2502                      \u2502  \u2502 Encrypted Tunnel    \u2502      \u2502\n           \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n           \u2514\u2500\u2524 Tailscale Tunnel \u2502 \u2502                              \u2502\n             \u2502 (Encrypted)      \u2502 \u2502                              \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502 Cloud VPS Server    \u2502\n           \u2502 (Rented from        \u2502\n           \u2502  DigitalOcean,      \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502  Linode, etc.)      \u2502  \u2502 Nanobot Gateway         \u2502\n           \u2502                     \u2502  \u2502 Listening for messages  \u2502\n           \u2502 Ubuntu 22.04        \u2502  \u2502 from Discord/Slack/etc. \u2502\n           \u2502                     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502                     \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>How it works: 1. You send a message in Discord/Slack 2. Nanobot gateway (on VPS) receives it 3. Gateway sends request to your local Ollama (via secure Tailscale tunnel) 4. Ollama generates response on your computer 5. Response goes back to VPS gateway 6. Gateway posts response back to Discord/Slack</p>"},{"location":"AOS-Startup-Advanced-Build/#part-1-setup-do-this-first","title":"PART 1: SETUP (Do This First)","text":"<p>This section covers all prerequisites. Setting up Advanced Build takes about 60-90 minutes because you're configuring two machines (VPS + local).</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b1-rent-a-virtual-private-server-vps","title":"Step B1: Rent a Virtual Private Server (VPS)","text":"<p>A VPS is a rented computer in a data center. You control it via internet. Think of it like renting office space: you get your own space that you control.</p>"},{"location":"AOS-Startup-Advanced-Build/#choose-a-vps-provider","title":"Choose a VPS Provider","text":"<p>Popular options (all offer similar features):</p> Provider Cost Region Best For DigitalOcean $5-6/month Multiple (US, Europe, Asia) Beginners (very easy interface) Linode $5-10/month Multiple (US, Europe, Asia) Reliability, same company as Akamai Hetzner \u20ac3-5/month Europe Europe-based, very cheap AWS EC2 Pay-as-you-go Everywhere Complex, requires AWS account <p>Recommendation for beginners: DigitalOcean. It has the easiest interface.</p>"},{"location":"AOS-Startup-Advanced-Build/#create-a-vps-with-these-specs","title":"Create a VPS with These Specs","text":"<p>On your chosen provider:</p> <ol> <li>Click \"Create\" or \"New Droplet\" or \"New Instance\"</li> <li>Select these settings:</li> <li>Operating System: Ubuntu 22.04 LTS or newer (NOT Windows)</li> <li>CPU: 1-2 vCPUs (virtual cores). One vCPU is one processor core on the rented server. For nanobot, 1 is enough; 2 is safer if you run other things too.</li> <li>RAM: 1-2 GB (RAM is fast temporary memory; 2 GB gives more breathing room)</li> <li>Storage: 10-20 GB SSD (storage to save files; nanobot logs take minimal space, so 10-20 is plenty)</li> <li>Region: Choose closest to you (lower latency = faster responses)</li> <li> <p>Authentication: SSH Key (if you know what that is) OR Password (easier for beginners)</p> </li> <li> <p>Click \"Create\" and wait 1-2 minutes for it to boot up</p> </li> </ol>"},{"location":"AOS-Startup-Advanced-Build/#what-you-get-after-creation","title":"What You Get After Creation","text":"<p>Your provider will email you (or show on screen): - VPS IP Address (e.g., <code>203.0.113.10</code>) - Root Password OR SSH Key (for access) - How to connect (SSH command)</p> <p>Save these securely.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b2-connect-to-your-vps-via-ssh","title":"Step B2: Connect to Your VPS via SSH","text":"<p>SSH = Secure Shell, a secure way to remotely log into and control a server (your VPS) from your computer. It's like remote desktop but for servers, and it's encrypted (secure) so hackers can't see your commands.</p>"},{"location":"AOS-Startup-Advanced-Build/#on-windows","title":"On Windows","text":"<ol> <li>Download PuTTY: https://www.putty.org/ (a program for SSH\u2014remote terminal access)</li> <li>Launch PuTTY</li> <li>Under \"Host Name,\" enter your VPS IP (e.g., <code>203.0.113.10</code>)</li> <li>Click \"Open\"</li> <li>When prompted:</li> <li>Username: <code>root</code></li> <li>Password: Paste the VPS root password your provider gave you</li> <li>\u26a0\ufe0f Important: When pasting password, nothing appears on screen (no dots, no asterisks). This is normal. Just paste and press Enter.</li> </ol> <p>\u2705 You should see a terminal prompt like: <code>root@ubuntu-server:~#</code></p>"},{"location":"AOS-Startup-Advanced-Build/#on-macoslinux","title":"On macOS/Linux","text":"<p>Open Terminal and type:</p> <pre><code>ssh root@YOUR_VPS_IP\n# ssh connects to your VPS server remotely\n# root is the administrator account\n# YOUR_VPS_IP is your VPS's IP address (e.g., ssh root@203.0.113.10)\n</code></pre> <p>When prompted for password, paste it (nothing appears\u2014this is normal). Press Enter.</p> <p>\u2705 You should see: <code>root@ubuntu-server:~#</code></p> <p>Tip: After connecting, you're typing commands on the VPS server, not your local computer. Everything you type runs on the VPS.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b3-update-the-vps-system","title":"Step B3: Update the VPS System","text":"<p>Always update packages on a new VPS (security patches):</p> <pre><code>apt update\napt upgrade -y\n</code></pre> <p>This takes 1-2 minutes. Let it run.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b4-install-python-311-on-the-vps","title":"Step B4: Install Python 3.11+ on the VPS","text":"<pre><code>apt install -y python3.12 python3.12-venv python3-pip\n</code></pre> <p>Verify: <pre><code>python3.12 --version\n</code></pre></p> <p>\u2705 Should print: <code>Python 3.12.X</code></p>"},{"location":"AOS-Startup-Advanced-Build/#step-b5-install-nanobot-on-the-vps","title":"Step B5: Install Nanobot on the VPS","text":"<pre><code>pip install nanobot-ai\n</code></pre> <p>Verify: <pre><code>nanobot --version\n</code></pre></p> <p>\u2705 Should print: <code>\ud83d\udc08 nanobot v0.1.4.post2</code> or similar (exact version may differ)</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b6-prepare-ollama-on-your-local-machine","title":"Step B6: Prepare Ollama on Your Local Machine","text":"<p>IMPORTANT: This step happens on YOUR HOME COMPUTER, not the VPS. Close your VPS connection or open a new terminal.</p>"},{"location":"AOS-Startup-Advanced-Build/#install-ollama-locally","title":"Install Ollama Locally","text":"<p>On Windows: 1. Go to https://ollama.ai 2. Click \"Download for Windows\" 3. Run the installer, click \"Install\" 4. Ollama starts automatically</p> <p>On macOS: 1. Go to https://ollama.ai 2. Click \"Download for macOS\" 3. Run the installer (drag to Applications) 4. Launch from Applications, or it might start automatically</p> <p>On Linux: <pre><code>curl -fsSL https://ollama.ai/install.sh | sh\n# After installation, start Ollama:\nollama serve\n</code></pre></p>"},{"location":"AOS-Startup-Advanced-Build/#verify-ollama-is-running","title":"Verify Ollama is Running","text":"<pre><code>curl http://localhost:11434/api/tags\n# Should return JSON with list of models (initially empty)\n</code></pre> <p>\u2705 You should see: <code>{\"models\":[]}</code></p>"},{"location":"AOS-Startup-Advanced-Build/#pull-an-ai-model","title":"Pull an AI Model","text":"<p>Models are AI engines. Pick one based on disk space and internet speed:</p> <p>Quick &amp; small (good for testing): <pre><code>ollama pull mistral\n# ~7 GB download, ~3-5 minutes on typical home internet\n</code></pre></p> <p>Better quality (medium size): <pre><code>ollama pull neural-chat\n# ~10 GB download, ~5-10 minutes\n</code></pre></p> <p>Large but powerful (requires 20+ GB free disk space): <pre><code>ollama pull dolphin-mixtral\n# ~26 GB download, ~15-30 minutes or longer\n</code></pre></p> <p>Important: Check your hard drive has enough free space. Download time depends on your internet speed\u2014pulling models on slow internet can take 30+ minutes. Do not close your terminal or restart your computer while a model is downloading. Let it run to completion.</p> <p>Verify: <pre><code>curl http://localhost:11434/api/tags\n# Should now list your pulled model(s)\n</code></pre></p> <p>\u2705 You should see your model name in the list.</p> <p>Keep Ollama running. It needs to stay on for the VPS to reach it later.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b7-install-and-configure-tailscale-on-both-machines","title":"Step B7: Install and Configure Tailscale on Both Machines","text":"<p>Tailscale creates a secure encrypted tunnel between your VPS and local Ollama machine. It's like a private VPN between just two computers.</p>"},{"location":"AOS-Startup-Advanced-Build/#on-your-local-computer","title":"On Your Local Computer","text":"<p>Windows: 1. Go to https://tailscale.com/download 2. Download for Windows 3. Run installer, click \"Install\" 4. When prompted, click \"Log in\" 5. Browser opens\u2014log in with Google, GitHub, Microsoft, or create Tailscale account 6. Approve the device 7. Close browser and installer 8. Right-click Tailscale icon (system tray, bottom right) \u2192 \"Copy device IP\" 9. Note this IP (e.g., <code>100.123.45.67</code>)</p> <p>macOS: 1. Go to https://tailscale.com/download 2. Download for macOS 3. Drag to Applications, launch 4. When prompted, click \"Log in\" 5. Browser opens\u2014log in 6. Approve the device 7. Click Tailscale menu (top right) \u2192 \"Copy device IP\" 8. Note this IP</p> <p>Linux: <pre><code>curl -fsSL https://tailscale.com/install.sh | sh\ntailscale up\n# Browser pops up\u2014log in (same account as VPS below)\n# Approve the device\n# Tailscale prints your IP in terminal\n# Note it (e.g., 100.123.45.67)\n</code></pre></p>"},{"location":"AOS-Startup-Advanced-Build/#on-your-vps-via-ssh","title":"On Your VPS (via SSH)","text":"<p>SSH back into your VPS (Step B2) and run:</p> <pre><code>curl -fsSL https://tailscale.com/install.sh | sh\ntailscale up\n# Tailscale prints a login URL (looks like: https://login.tailscale.com/a/...)\n</code></pre> <p>Copy that URL and paste it in your browser on your LOCAL computer.</p> <p>On your browser: 1. Log in with the SAME Tailscale account as your local computer 2. Approve the VPS device 3. Your browser redirects\u2014approve/confirm 4. Back in your SSH session, Tailscale prints your VPS Tailscale IP (e.g., <code>100.87.123.45</code>)</p> <p>Note this VPS IP.</p>"},{"location":"AOS-Startup-Advanced-Build/#enable-magicdns-so-you-can-use-device-names","title":"Enable MagicDNS (So You Can Use Device Names)","text":"<ol> <li>Open https://login.tailscale.com/admin/dns</li> <li>Scroll to \"MagicDNS\"</li> <li>If not already enabled, click \"Enable\"</li> </ol> <p>This lets you use device names instead of IPs (optional but convenient).</p>"},{"location":"AOS-Startup-Advanced-Build/#test-the-tailscale-connection","title":"Test the Tailscale Connection","text":"<p>From your VPS SSH session, verify it can reach your local Ollama:</p> <pre><code>curl http://100.123.45.67:11434/api/tags\n# Replace 100.123.45.67 with YOUR LOCAL MACHINE'S Tailscale IP\n# (the one you noted above)\n</code></pre> <p>\u2705 Should return JSON list of models (the model you pulled in Step B6)</p> <p>If this fails: - On local computer: Check Tailscale is still running (icon in system tray should show) - Check Ollama is still running: <code>curl http://localhost:11434</code> on local computer - Verify correct IP: On local computer, check Tailscale icon and copy the IP again - Check firewall: Local computer might be blocking port 11434. This is a network security issue\u2014you may need to open the port in your firewall settings.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-b8-configure-nanobot-on-the-vps","title":"Step B8: Configure Nanobot on the VPS","text":"<p>Back in your VPS SSH session:</p>"},{"location":"AOS-Startup-Advanced-Build/#create-config-directory","title":"Create Config Directory","text":"<pre><code>mkdir -p ~/.nanobot\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#create-configuration-file","title":"Create Configuration File","text":"<pre><code>nano ~/.nanobot/config.json\n</code></pre> <p>This opens a text editor. Paste this template:</p> <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"mistral\",\n      \"provider\": \"custom\"\n    }\n  },\n  \"providers\": {\n    \"custom\": {\n      \"apiBase\": \"http://100.123.45.67:11434/v1\",\n      \"apiKey\": \"ollama\"\n    }\n  },\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": false,\n      \"token\": \"\"\n    }\n  }\n}\n</code></pre> <p>Replace these values: - <code>100.123.45.67</code> \u2192 Your LOCAL machine's Tailscale IP (from Step B7). Example: If your local Tailscale IP is <code>100.45.67.89</code>, change that line to <code>\"apiBase\": \"http://100.45.67.89:11434/v1\",</code> - <code>mistral</code> \u2192 Your model name (the one you pulled in Step B6). Example: If you pulled <code>neural-chat</code>, change <code>\"model\": \"mistral\"</code> to <code>\"model\": \"neural-chat\"</code> - Note the <code>/v1</code> at the end of the URL \u2014 Ollama exposes an OpenAI-compatible API at this path; do not omit it - If using Discord, set <code>\"enabled\": true</code> and add your bot token (see the channel integration guide)</p> <p>To save the file: - Press <code>Ctrl+O</code> - Press <code>Enter</code> - Press <code>Ctrl+X</code></p>"},{"location":"AOS-Startup-Advanced-Build/#step-b9-optional-set-up-nanobot-as-a-system-service","title":"Step B9 (Optional): Set Up Nanobot as a System Service","text":"<p>This makes nanobot start automatically if the VPS restarts.</p>"},{"location":"AOS-Startup-Advanced-Build/#create-service-file","title":"Create Service File","text":"<pre><code>sudo nano /etc/systemd/system/nanobot.service\n</code></pre> <p>Paste:</p> <pre><code>[Unit]\nDescription=Nanobot Gateway Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=root\nWorkingDirectory=/root\nExecStart=/usr/bin/python3.12 -m nanobot gateway\nRestart=always\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Save (Ctrl+O, Enter, Ctrl+X).</p>"},{"location":"AOS-Startup-Advanced-Build/#enable-and-start-the-service","title":"Enable and Start the Service","text":"<pre><code>sudo systemctl daemon-reload\nsudo systemctl enable nanobot\nsudo systemctl start nanobot\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#check-status","title":"Check Status","text":"<pre><code>sudo systemctl status nanobot\n</code></pre> <p>\u2705 Should show: <code>active (running)</code></p>"},{"location":"AOS-Startup-Advanced-Build/#part-2-startup-do-this-after-setup","title":"PART 2: STARTUP (Do This After Setup)","text":"<p>Now that everything is configured, here's how to start nanobot.</p>"},{"location":"AOS-Startup-Advanced-Build/#pre-startup-checklist","title":"Pre-Startup Checklist","text":"<p>On your LOCAL computer: - \u2705 Ollama is installed and running - \u2705 At least one model is pulled (<code>ollama list</code> shows models) - \u2705 Tailscale is installed and connected</p> <p>On your VPS: - \u2705 Nanobot is installed - \u2705 Tailscale is installed and connected - \u2705 <code>~/.nanobot/config.json</code> has correct <code>providers.custom.apiBase</code> (Tailscale IP + port + <code>/v1</code>) - \u2705 Ollama endpoint accessible from VPS (Step 2 curl test passed)</p>"},{"location":"AOS-Startup-Advanced-Build/#step-1-verify-ollama-is-running-on-your-local-computer","title":"Step 1: Verify Ollama is Running on Your Local Computer","text":"<p>On your local computer:</p> <pre><code>curl http://localhost:11434/api/tags\n# Should return your Ollama model list\n</code></pre> <p>\u2705 Should show: <code>{\"models\": [{\"name\": \"mistral:latest\", ...}]}</code></p> <p>If Ollama isn't running: - Windows/macOS: Click Ollama icon to start it - Linux: In a terminal, run <code>ollama serve</code></p>"},{"location":"AOS-Startup-Advanced-Build/#step-2-verify-ollama-accessibility-from-vps","title":"Step 2: Verify Ollama Accessibility from VPS","text":"<p>In your VPS SSH session (reconnect if needed):</p> <pre><code>curl http://100.123.45.67:11434/api/tags\n# Replace 100.123.45.67 with YOUR LOCAL Tailscale IP\n</code></pre> <p>\u2705 Should return your model list</p> <p>If this fails: - Check Tailscale connection: <code>tailscale status</code> (on VPS) - Check local machine Tailscale is running (system tray) - Verify correct Tailscale IP (re-check on local computer) - Restart both Tailscale connections</p>"},{"location":"AOS-Startup-Advanced-Build/#step-3-start-nanobot-on-vps","title":"Step 3: Start Nanobot on VPS","text":"<p>In your VPS SSH session:</p>"},{"location":"AOS-Startup-Advanced-Build/#if-you-set-up-systemd-service-step-b9","title":"If You Set Up Systemd Service (Step B9)","text":"<pre><code>sudo systemctl status nanobot\n</code></pre> <p>\u2705 Should show: <code>active (running)</code></p> <p>Nanobot is already running in the background!</p>"},{"location":"AOS-Startup-Advanced-Build/#or-if-running-nanobot-directly","title":"Or If Running Nanobot Directly","text":"<pre><code>nanobot gateway\n</code></pre> <p>\u2705 Expected output: <pre><code>\ud83d\udc08 Starting nanobot gateway on port 18790...\nWarning: No channels enabled\n\u2713 Heartbeat: every 1800s\n</code></pre></p> <p>(If you've enabled a channel like Discord, you'll see <code>\u2713 Channels enabled: discord</code> instead of the warning.)</p> <p>Keep this terminal open\u2014nanobot is running.</p>"},{"location":"AOS-Startup-Advanced-Build/#step-4-test-end-to-end-message-flow","title":"Step 4: Test End-to-End Message Flow","text":"<p>In your VPS SSH session (reconnect if needed \u2014 see Step B2):</p> <pre><code>nanobot agent\n</code></pre> <p>You'll see: <pre><code>\ud83d\udc08 Interactive mode (type exit or Ctrl+C to quit)\n\nYou: \n</code></pre></p> <p>Type a test question: <pre><code>You: What is 2+2?\n</code></pre></p> <p>\u2705 Expected flow: 1. Your message enters nanobot agent on the VPS 2. Agent calls Ollama via the Tailscale tunnel to your local computer 3. Ollama generates a response 4. Response is printed in your SSH session</p> <p>You should see: <pre><code>\ud83d\udc08 nanobot\n\n2 + 2 equals 4.\n</code></pre></p> <p>If you get no response or an error: - Check that Ollama is still running on your local computer - Re-run the Tailscale connectivity test from Step 2 above - Verify the <code>apiBase</code> URL (with <code>/v1</code>) in <code>~/.nanobot/config.json</code></p> <p>To exit: <pre><code>exit\n</code></pre></p>"},{"location":"AOS-Startup-Advanced-Build/#step-5-test-with-discordslack-optional","title":"Step 5: Test with Discord/Slack (Optional)","text":"<p>If you configured Discord/Slack in the config:</p> <ol> <li>Send message to your Discord/Slack channel: <code>@BotName hello</code></li> <li>Bot should respond within 5 seconds</li> </ol> <p>\u2705 Expected: Bot responds</p>"},{"location":"AOS-Startup-Advanced-Build/#validation-advanced-startup-complete","title":"Validation: Advanced Startup Complete \u2705","text":"<ul> <li>\u2705 Ollama running on local computer</li> <li>\u2705 Ollama reachable from VPS via Tailscale (<code>curl</code> test succeeds)</li> <li>\u2705 Nanobot gateway running on VPS (systemd service OR terminal window shows \"Ready\")</li> <li>\u2705 End-to-end test succeeds (VPS gateway reaches Ollama, generates response)</li> <li>\u2705 Optional: Discord/Slack responds</li> </ul> <p>Congratulations! You have a working Advanced Build system.</p>"},{"location":"AOS-Startup-Advanced-Build/#cost-performance-reference","title":"Cost &amp; Performance Reference","text":"Component Setup Cost Ongoing Cost/Month Performance Best For VPS (gateway) $0 $5\u201320 Constant uptime 24/7 operations Local Ollama (inference) GPU or CPU $0 2\u201310s latency Privacy-first, self-hosted Tailscale tunnel $0 $0 (free tier) &lt;100ms latency Secure remote connection Total (Advanced Build) Initial VPS setup $5\u201320/month + local electricity (~$10\u201320) 3\u201315s per query Production, privacy, 24/7 <p>Comparison to Simple Build: Simple Build costs $0.01\u20130.10 per message but requires manual operation. Advanced Build has a fixed monthly cost but runs 24/7 without intervention.</p>"},{"location":"AOS-Startup-Advanced-Build/#shutdown-procedure","title":"Shutdown Procedure","text":""},{"location":"AOS-Startup-Advanced-Build/#stop-ollama-local-computer","title":"Stop Ollama (Local Computer)","text":"<p>Press <code>Ctrl+C</code> in your Ollama terminal (if running <code>ollama serve</code>).</p> <p>Or close the Ollama application.</p>"},{"location":"AOS-Startup-Advanced-Build/#stop-nanobot-vps","title":"Stop Nanobot (VPS)","text":"<p>If using systemd service: <pre><code>sudo systemctl stop nanobot\n</code></pre></p> <p>If running in terminal: <pre><code>Press Ctrl+C\n</code></pre></p>"},{"location":"AOS-Startup-Advanced-Build/#health-monitoring","title":"Health Monitoring","text":""},{"location":"AOS-Startup-Advanced-Build/#check-nanobot-service-status","title":"Check Nanobot Service Status","text":"<pre><code>sudo systemctl status nanobot\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#view-recent-logs","title":"View Recent Logs","text":"<pre><code>sudo journalctl -u nanobot -n 50\n# Shows last 50 log lines\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#restart-nanobot-service","title":"Restart Nanobot Service","text":"<pre><code>sudo systemctl restart nanobot\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#still-completely-stuck-troubleshooting","title":"Still Completely Stuck? Troubleshooting","text":""},{"location":"AOS-Startup-Advanced-Build/#ollama-unreachable-from-vps","title":"Ollama Unreachable from VPS","text":"<pre><code># From VPS, test Ollama IP:\nping 100.123.45.67\n# If \"unreachable,\" Tailscale connection is broken\n\n# Try reconnecting Tailscale on local computer:\n# Close and reopen Tailscale app, check status\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#nanobot-wont-start","title":"Nanobot Won't Start","text":"<pre><code># Check error logs:\nsudo journalctl -u nanobot -n 100\n\n# Check config syntax:\ncat ~/.nanobot/config.json\n# Make sure JSON is valid (no missing commas, quotes)\n\n# Restart:\nsudo systemctl restart nanobot\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#gateway-cant-reach-ollama","title":"Gateway Can't Reach Ollama","text":"<pre><code># From VPS, test Ollama connection:\ncurl -v http://100.123.45.67:11434/api/tags\n\n# If fails, check:\n# 1. Your local Tailscale IP is correct in config\n# 2. Ollama is still running on local computer\n# 3. Local computer Tailscale is connected\n</code></pre>"},{"location":"AOS-Startup-Advanced-Build/#frequently-asked-questions-advanced-build","title":"Frequently Asked Questions (Advanced Build)","text":"<p>Q: Do I need to leave my home computer on 24/7? A: Yes, if you want Ollama available 24/7. If you turn off your home computer, the VPS can't reach Ollama and nanobot will fail. For 24/7 operation without your computer on, add a cloud LLM provider as fallback (see LLM Provider Setup Guide).</p> <p>Q: What if my internet connection goes down? A: The VPS can't reach your home computer. Nanobot will fail. You can configure a cloud LLM fallback to keep the system online during local internet outages.</p> <p>Q: How much internet bandwidth does this use? A: Not much\u2014typically 1-10 MB per day unless you ask very large questions. Tailscale is lightweight and encrypted.</p> <p>Q: Can I add Discord or Slack later? A: Yes! Edit your config file, restart nanobot, and follow the channel integration guide.</p> <p>Q: What if I want to go back to Simple Build? A: You can export your config from the VPS, set up Advanced Build\u2192Simple Build migration, and paste config into your local computer. See LLM Provider Setup Guide for multi-provider routing.</p>"},{"location":"AOS-Startup-Advanced-Build/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 2.4.0 Accuracy corrections: replaced fabricated config.json schema with correct nanobot structure (agents.defaults.model/provider, providers.custom.apiBase/apiKey). Added /v1 path to Ollama endpoint. Removed non-existent .env file step. Fixed gateway startup output. Replaced fabricated <code>nanobot agent --gateway</code> flag + SSH tunnel test with correct <code>nanobot agent</code> on VPS. Fixed --version format. 2026-02-26 2.3.0 Fixed broken Multi-Channel-Integration-Guide links \u2192 nanobot/README.md; fixed B9 ExecStart Python path to /usr/bin/python3.12; removed duplicate systemd section (wrong module path); fixed PuTTY step-3 numbering 2026-02-26 2.2.0 Split from AOS-Startup-Procedure.md. Focused entirely on Advanced Build (Path B). Added beginner-friendly language, cost expectations, architecture diagram, VPS provider comparison, troubleshooting. Removed all Simple Build content. 2026-02-26 2.1.0 Initial in parent document 2026-02-25 2.0.0 Initial version"},{"location":"AOS-Startup-Simple-Build/","title":"AOS Startup Procedure: Simple Build (Local + Cloud LLM)","text":"<p>Quick-start deployment: Run nanobot on your personal computer with cloud-based AI. Fastest path from zero to working system.</p>"},{"location":"AOS-Startup-Simple-Build/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.4.1</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> <li>Applies To: Path A (Simple Build) only</li> <li>Estimated Setup Time: 25-35 minutes</li> <li>Estimated Startup Time: 5 minutes</li> </ul>"},{"location":"AOS-Startup-Simple-Build/#for-complete-beginners-simple-build-overview","title":"For Complete Beginners: Simple Build Overview","text":"<p>What is Simple Build? - You run nanobot on your regular computer (Windows, Mac, or Linux laptop/desktop) - The AI \"brain\" (large language model) runs on someone else's server in the cloud (OpenRouter, Anthropic, OpenAI, etc.) - You pay only for the AI responses you actually use (like paying per question) - It's the fastest, cheapest way to get started</p> <p>Who should choose this path: - \u2705 You want to try nanobot in 30 minutes - \u2705 You're willing to pay $1-20/month for API usage (if you use it heavily) - \u2705 You're on Windows, Mac, or Linux (no special hardware needed) - \u2705 You have a regular internet connection - \u2705 Privacy isn't your top concern (responses go to a cloud provider)</p> <p>Who should NOT choose this path: - \u274c You need 24/7 uptime (your computer needs to be on) - \u274c You want zero API costs (this uses cloud LLM providers) - \u274c All your data must stay on your network (no cloud access allowed) - \u2192 For those cases, see AOS-Startup-Advanced-Build</p>"},{"location":"AOS-Startup-Simple-Build/#minimum-viable-system","title":"Minimum Viable System","text":"<p>You only need THREE things to get a working system: 1. Python 3.11 or higher (a programming language tool) 2. Nanobot (the AI agent software) 3. An API key (a secret token from OpenRouter, Anthropic, or OpenAI)</p> <p>That's it. You don't need: - \u274c Ubuntu or Linux (Windows or Mac works fine) - \u274c Obsidian (note-taking app\u2014useful but optional) - \u274c A fancy VPS or server (your regular computer works) - \u274c GPU or special hardware (any modern computer works)</p> <p>Once you have those three things, you can test nanobot by typing in your computer's terminal. That's your first working system.</p> <p>After that works, you can optionally add Discord, Slack, Obsidian, and other features\u2014but they're not required.</p>"},{"location":"AOS-Startup-Simple-Build/#cost-expectations","title":"Cost Expectations","text":"<p>To get started: $0 (free downloads and installs)</p> <p>Per month (if you use it): - Light use (a few questions per day): $0-2/month - Moderate use (questions throughout the day): $5-20/month - Heavy use (24/7 or thousands of questions): $50-100+/month</p> <p>Why? You only pay cloud LLM providers (OpenRouter, Anthropic, OpenAI) when nanobot actually asks them questions. It's like taking a taxi: you only pay per mile.</p> <p>How to avoid surprise bills: When you get your API key (see Step A3 below), most providers let you set a monthly spending limit (e.g., \"stop charging me after $10/month\"). We recommend setting one while testing.</p>"},{"location":"AOS-Startup-Simple-Build/#how-to-open-a-terminal-command-line","title":"How to Open a Terminal (Command Line)","text":"<p>What is a terminal? A terminal is a program where you type commands instead of clicking buttons. It sounds technical, but it's just another program\u2014like opening Notepad or Word.</p> <p>Why do I need it? Most of the setup steps require typing commands in a terminal.</p>"},{"location":"AOS-Startup-Simple-Build/#on-windows","title":"On Windows","text":"<ol> <li>Click Windows Start button (bottom left)</li> <li>Type <code>PowerShell</code> in search</li> <li>Click \"Windows PowerShell\" or \"PowerShell\"</li> <li>A blue window appears\u2014that's your terminal</li> </ol> <p>You should see: <code>PS C:\\Users\\YourName&gt;</code></p>"},{"location":"AOS-Startup-Simple-Build/#on-macos","title":"On macOS","text":"<ol> <li>Press Command + Space</li> <li>Type <code>Terminal</code></li> <li>Press Enter or click \"Terminal\"</li> <li>A window appears\u2014that's your terminal</li> </ol> <p>You should see: <code>YourName@Computer ~ %</code></p>"},{"location":"AOS-Startup-Simple-Build/#on-linux","title":"On Linux","text":"<ol> <li>Right-click on desktop (blank area)</li> <li>Look for \"Open Terminal\" option, OR</li> <li>Open Applications menu and search for \"Terminal\"</li> </ol> <p>You should see: <code>username@computer:~$</code></p>"},{"location":"AOS-Startup-Simple-Build/#terminal-tips","title":"Terminal Tips","text":"<ul> <li>Copy-paste: Right-click and select \"Paste\" (or Ctrl+Shift+V on Linux)</li> <li>Errors are OK: If you make a typo, you'll see an error. Just re-type carefully</li> <li>Clear screen: Type <code>clear</code> and press Enter</li> <li>Stop a command: Press <code>Ctrl+C</code></li> </ul>"},{"location":"AOS-Startup-Simple-Build/#part-1-setup-do-this-first","title":"PART 1: SETUP (Do This First)","text":"<p>This section covers all prerequisites and configuration. Everything is done on your local computer. Estimated time: 25-35 minutes.</p>"},{"location":"AOS-Startup-Simple-Build/#step-a1-verify-your-machine-meets-minimum-requirements","title":"Step A1: Verify Your Machine Meets Minimum Requirements","text":""},{"location":"AOS-Startup-Simple-Build/#check-your-operating-system","title":"Check Your Operating System","text":"<p>Open your terminal and type:</p> <pre><code># On Windows (in PowerShell): \nGet-CimInstance CIM_OperatingSystem | Select-Object Caption, Version\n# This asks Windows: \"Tell me your version\"\n\n# On macOS (in Terminal):\nsw_vers\n# This asks macOS: \"Tell me your version\"\n\n# On Linux (in Terminal):\ncat /etc/os-release\n# This reads a file that says your Linux version\n</code></pre> <p>You should see: - Windows: \"Windows 10\" or \"Windows 11\" (or newer) - macOS: \"macOS Ventura\" or newer - Linux: \"Ubuntu 22.04\" or similar (any modern 2022+ distribution)</p> <p>If your version is older, you can upgrade for free from your operating system's website.</p>"},{"location":"AOS-Startup-Simple-Build/#check-your-computers-memory-ram","title":"Check Your Computer's Memory (RAM)","text":"<p>RAM is temporary memory your computer uses right now (different from hard drive storage).</p> <pre><code># Windows (PowerShell):\nGet-CimInstance CIM_PhysicalMemory | Measure-Object -Property Capacity -Sum\n# This shows how much RAM (working memory) you have\n\n# Linux:\nfree -h\n# The \"-h\" means \"show in human-readable format\" (like \"GB\" instead of bytes)\n\n# macOS (the 'free' command is not available on macOS):\nsystem_profiler SPHardwareDataType | grep \"Memory:\"\n# Or check via Apple menu \u2192 About This Mac \u2192 Memory\n</code></pre> <p>You need: - Minimum: At least 4 GB RAM - Recommended: 8 GB RAM (so your OS + browser + nanobot all run smoothly)</p> <p>Alternative check: On Windows, right-click \"This PC\" and click Properties. On Mac, click Apple menu \u2192 \"About This Mac.\" It shows your RAM.</p>"},{"location":"AOS-Startup-Simple-Build/#check-your-hard-drive-space","title":"Check Your Hard Drive Space","text":"<p>Hard drive space is permanent storage. If you run out, you can't install things.</p> <pre><code># Windows (PowerShell):\nGet-Volume\n# Shows all your hard drives and free space\n\n# macOS/Linux:\ndf -h\n# The \"-h\" means \"show in human-readable format\"\n</code></pre> <p>You need: - For installation: ~500 MB (that's tiny\u2014like one video) - For nanobot logs and memories: An additional 1\u20135 GB (grows slowly over months)</p> <p>Most computers have 100+ GB free, so this shouldn't be an issue.</p>"},{"location":"AOS-Startup-Simple-Build/#test-your-internet-connection","title":"Test Your Internet Connection","text":"<p>Nanobot needs internet every time you ask it a question (to reach cloud AI providers).</p> <pre><code>ping 8.8.8.8\n# Sends a tiny message to Google's server to check if internet works\n# On Windows: stops automatically after 4 packets\n# On macOS/Linux: runs until you press Ctrl+C (or use: ping -c 4 8.8.8.8)\n</code></pre> <p>You should see: <pre><code>Reply from 8.8.8.8: bytes=32 time=25ms TTL=117\nReply from 8.8.8.8: bytes=32 time=26ms TTL=117\nReply from 8.8.8.8: bytes=32 time=24ms TTL=117\nReply from 8.8.8.8: bytes=32 time=25ms TTL=117\n</code></pre></p> <p>What this means: Each line shows a successful message. The \"time=25ms\" is how fast (25 milliseconds\u2014very fast!).</p> <p>\u2705 If you see at least 4 successful lines, your internet is working. If you see \"Timeout\" or \"Unreachable,\" your WiFi or cable connection isn't working.</p> <p>To stop the test: Press <code>Ctrl+C</code></p>"},{"location":"AOS-Startup-Simple-Build/#step-a2-verify-or-install-python-311","title":"Step A2: Verify or Install Python 3.11+","text":"<p>What is Python? A programming language. Think of it as a translator: nanobot is written in Python code, so you need Python installed to run that code.</p> <p>Why Python 3.11+? Nanobot uses features that only exist in Python 3.11 and newer. Older versions (3.10, 3.9, etc.) won't work. The Python team released these newer versions recently, so older computers might have outdated Python. We're checking to make sure you have the right version.</p> <p>Check if you already have Python:</p> <pre><code>python --version\n# Shows your Python version\n</code></pre> <p>What you'll see: - \u2705 If it shows \"Python 3.11\" or higher (like 3.12, 3.13), you're done! Skip to Step A3. - \u274c If it shows \"Python 3.10\" or lower, or says \"command not found,\" install or upgrade (see below).</p>"},{"location":"AOS-Startup-Simple-Build/#install-or-upgrade-python","title":"Install or Upgrade Python","text":"<p>On Windows: 1. Go to https://www.python.org/downloads/ 2. Click \"Download Python 3.12\" (or latest 3.11+) 3. Run the installer 4. IMPORTANT: Check the box \"Add Python to PATH\" during installation (so your computer finds Python) 5. Click \"Install Now\" 6. Verify: Open terminal and type <code>python --version</code></p> <p>On macOS: <pre><code># Using Homebrew (if you have it installed):\nbrew install python@3.12\n\n# Then verify:\npython3 --version\n</code></pre></p> <p>Or download from https://www.python.org/downloads/ and run the installer.</p> <p>On Linux: <pre><code># Ubuntu/Debian:\nsudo apt update\nsudo apt install python3.12\n\n# Fedora/RHEL:\nsudo dnf install python3.12\n\n# Verify:\npython3.12 --version\n</code></pre></p>"},{"location":"AOS-Startup-Simple-Build/#step-a3-obtain-an-llm-api-key","title":"Step A3: Obtain an LLM API Key","text":"<p>What is an API Key? A secret token (password-like string) that lets you use someone else's AI. Think of it like a library card: with your card, you can check out books. With an API key, you can \"check out\" AI responses.</p> <p>Why do you need this? Nanobot can't think on its own. It needs to ask a cloud AI provider (Claude, GPT-4, etc.) to generate responses. Your API key proves you're allowed to ask.</p> <p>Choose ONE AI provider:</p> <p>If you've never done this, I recommend OpenRouter for beginners\u2014it's easiest and supports many models.</p>"},{"location":"AOS-Startup-Simple-Build/#option-1-openrouter-recommended-for-beginners","title":"Option 1: OpenRouter (Recommended for Beginners)","text":"<ol> <li>Go to https://openrouter.ai</li> <li>Click \"Sign Up\" (or \"Sign In\" if you have an account)</li> <li>Create an account (email + password, takes 1 minute)</li> <li>After signing up, you're logged in</li> <li>Go to https://openrouter.ai/keys</li> <li>You should see a \"Create Key\" button or form</li> <li>Click \"Create Key\"</li> <li>Copy the entire key (looks like: <code>sk-or-abc123xyz...</code>)</li> <li>Paste this key somewhere safe temporarily (like a text editor on your desktop)\u2014you'll need it in Step A5</li> <li>Optional but recommended: On OpenRouter, set a monthly spending limit (e.g., \"$10/month\") to avoid surprise charges while testing</li> </ol> <p>Keep your key private: - Don't share it in chats, Discord messages, GitHub, Slack channels, or public code - Only paste it into <code>~/.nanobot/config.json</code> in Step A5 - Don't paste it in Discord servers or forums\u2014anyone with your key can use your API and incur charges - If you accidentally share it, go back to OpenRouter immediately and delete/regenerate the key</p>"},{"location":"AOS-Startup-Simple-Build/#option-2-anthropic-if-you-prefer-claude","title":"Option 2: Anthropic (If You Prefer Claude)","text":"<ol> <li>Go to https://console.anthropic.com</li> <li>Sign up or log in</li> <li>Go to \"API Keys\" (look in the left menu)</li> <li>Click \"Create Key\"</li> <li>Name: \"nanobot\" (or any name)</li> <li>Copy the key (starts with \"sk-ant-\")</li> <li>Paste it somewhere safe temporarily</li> <li>Add a payment method to your account (required to use the API)</li> </ol>"},{"location":"AOS-Startup-Simple-Build/#option-3-openai-if-you-prefer-gpt-4","title":"Option 3: OpenAI (If You Prefer GPT-4)","text":"<ol> <li>Go to https://platform.openai.com</li> <li>Sign up or log in</li> <li>Go to \"API Keys\" (click your name in top right)</li> <li>Click \"Create new secret key\"</li> <li>Copy the key (starts with \"sk-\")</li> <li>Paste it somewhere safe temporarily</li> <li>Important: Add a payment method to your account (required before using the API)</li> <li>Recommended: Set a monthly spending limit in account settings</li> </ol>"},{"location":"AOS-Startup-Simple-Build/#step-a4-install-nanobot","title":"Step A4: Install Nanobot","text":"<p>Install nanobot using Python's package manager (pip):</p> <pre><code>pip install nanobot-ai\n# This downloads and installs nanobot and everything it needs\n</code></pre> <p>Takes 1-2 minutes.</p> <p>Verify installation:</p> <pre><code>nanobot --version\n# Should print something like: \ud83d\udc08 nanobot v0.1.4.post2\n</code></pre> <p>\u2705 You should see a version number (exact version may differ).</p> <p>If you get \"command not found\" error:</p> <p>Try using Python module directly:</p> <pre><code>python -m nanobot --version\n</code></pre> <p>If that works, you can reinstall:</p> <pre><code>pip install --force-reinstall nanobot-ai\n</code></pre>"},{"location":"AOS-Startup-Simple-Build/#step-a5-run-onboard-and-configure-your-api-key","title":"Step A5: Run Onboard and Configure Your API Key","text":"<p>Run the onboard command to create your config file and workspace:</p> <pre><code>nanobot onboard\n</code></pre> <p>Expected output: <pre><code>\u2713 Created config at /home/you/.nanobot/config.json\n\u2713 Created workspace at /home/you/.nanobot/workspace\n  Created AGENTS.md\n  Created memory/MEMORY.md\n  Created memory/HISTORY.md\n\n\ud83d\udc08 nanobot is ready!\n\nNext steps:\n  1. Add your API key to ~/.nanobot/config.json\n     Get one at: https://openrouter.ai/keys\n  2. Chat: nanobot agent -m \"Hello!\"\n</code></pre></p> <p>(On Windows, paths will look like <code>C:\\Users\\YourName\\.nanobot\\config.json</code>.)</p> <p>Now add your API key to the config file. Open <code>~/.nanobot/config.json</code> in any text editor:</p> <ul> <li>Windows (PowerShell): <code>notepad $env:USERPROFILE\\.nanobot\\config.json</code></li> <li>macOS: <code>open ~/.nanobot/config.json</code></li> <li>Linux: <code>nano ~/.nanobot/config.json</code></li> </ul> <p>Find the <code>providers</code> section and add your key to the matching provider block. The file is valid JSON \u2014 don't add extra commas or remove brackets.</p> <p>For OpenRouter: <pre><code>{\n  \"providers\": {\n    \"openrouter\": {\n      \"apiKey\": \"sk-or-YOUR_KEY_HERE\"\n    }\n  }\n}\n</code></pre></p> <p>For Anthropic: <pre><code>{\n  \"providers\": {\n    \"anthropic\": {\n      \"apiKey\": \"sk-ant-YOUR_KEY_HERE\"\n    }\n  }\n}\n</code></pre></p> <p>For OpenAI: <pre><code>{\n  \"providers\": {\n    \"openai\": {\n      \"apiKey\": \"sk-YOUR_KEY_HERE\"\n    }\n  }\n}\n</code></pre></p> <p>Save the file when done.</p> <p>If you're using an OpenAI key: The default model in <code>config.json</code> is <code>anthropic/claude-opus-4-5</code>, which can't be served by OpenAI. Also find the <code>agents.defaults.model</code> field and change it to an OpenAI model \u2014 for example: <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"gpt-4o\"\n    }\n  }\n}\n</code></pre> OpenRouter and Anthropic users can leave the default model as-is.</p> <p>\u2705 Success: Config file exists at <code>~/.nanobot/config.json</code> and contains your API key. You're ready for Part 2.</p>"},{"location":"AOS-Startup-Simple-Build/#part-2-startup-do-this-after-setup","title":"PART 2: STARTUP (Do This After Setup)","text":"<p>Now that everything is configured, here's how to start nanobot and test it.</p>"},{"location":"AOS-Startup-Simple-Build/#pre-startup-checklist","title":"Pre-Startup Checklist","text":"<p>Before you start, verify you have: - \u2705 Python 3.11+ installed (<code>python --version</code> works) - \u2705 Nanobot installed (<code>nanobot --version</code> works) - \u2705 API key added to <code>~/.nanobot/config.json</code> - \u2705 Internet connection working (<code>ping 8.8.8.8</code> succeeds)</p>"},{"location":"AOS-Startup-Simple-Build/#step-1-verify-connectivity","title":"Step 1: Verify Connectivity","text":"<pre><code>ping 8.8.8.8\n# Should respond with pings (internet is up)\n</code></pre> <p>\u2705 You should see at least 4 successful replies.</p>"},{"location":"AOS-Startup-Simple-Build/#step-2-test-with-cli-terminal-chatyour-first-conversation","title":"Step 2: Test with CLI (Terminal Chat\u2014Your First Conversation!)","text":"<p>This is the fastest way to verify nanobot works. You don't need Discord, Slack, or a separate gateway for this.</p> <p>Open a terminal and run:</p> <pre><code>nanobot agent\n</code></pre> <p>This starts an interactive chat. You'll see: <pre><code>\ud83d\udc08 Interactive mode (type exit or Ctrl+C to quit)\n\nYou: \n</code></pre></p> <p>Now type a simple question:</p> <pre><code>You: What is 2+2?\n</code></pre> <p>Press Enter and wait 3-5 seconds. Nanobot should respond: <pre><code>\ud83d\udc08 nanobot\n\n2 + 2 equals 4.\n</code></pre></p> <p>\u2705 Success! If you get a response, nanobot is working end-to-end.</p> <p>Try more questions: <pre><code>You: What is the capital of France?\nYou: Tell me a joke\nYou: What tools do you have?\n</code></pre></p> <p>If you get no response: - \u274c Check internet: <code>ping 8.8.8.8</code> - \u274c Verify your API key is correctly set in <code>~/.nanobot/config.json</code> (no extra spaces, valid JSON) - \u274c Check API provider is active (log into OpenRouter/Anthropic/OpenAI and verify your account) - \u274c Try waiting 10 seconds and asking again (APIs sometimes have brief delays) - \u2192 If still broken, see \"Still Completely Stuck? Nuclear Reset\" section below</p> <p>To exit:</p> <p>Type <code>exit</code> or press <code>Ctrl+C</code>.</p>"},{"location":"AOS-Startup-Simple-Build/#step-3-start-the-gateway-for-external-channels-optional","title":"Step 3: Start the Gateway for External Channels (Optional)","text":"<p>Only needed if you've configured Discord, Telegram, Slack, or another external channel. For CLI-only use (Step 2 above), you can skip this step entirely.</p> <p>The gateway manages background channel connections and heartbeat. Open a terminal and run:</p> <pre><code>nanobot gateway\n</code></pre> <p>Expected output: <pre><code>\ud83d\udc08 Starting nanobot gateway on port 18790...\nWarning: No channels enabled\n\u2713 Heartbeat: every 1800s\n</code></pre></p> <p>(If you've configured a channel, you'll see <code>\u2713 Channels enabled: discord</code> or similar instead of the warning.)</p> <p>\u2705 The terminal stays open and shows live activity. Keep it running while nanobot is in use.</p> <p>If the gateway fails to start: - \u274c Verify your API key is correctly set in <code>~/.nanobot/config.json</code> - \u274c Verify API key hasn't expired (log into OpenRouter/Anthropic/OpenAI and check) - \u274c Check internet: <code>ping 8.8.8.8</code> - \u274c Verify config file exists: <code>cat ~/.nanobot/config.json</code> (should show valid JSON) - \u2192 If still broken, see \"Still Completely Stuck? Nuclear Reset\" section below</p>"},{"location":"AOS-Startup-Simple-Build/#step-4-optional-test-with-discord-or-slack","title":"Step 4 (Optional): Test with Discord or Slack","text":"<p>Once CLI is working (Step 2), you can optionally add Discord/Slack. This step is optional. You already have a working system!</p> <p>Prerequisite: <code>nanobot gateway</code> must be running (see Step 3) and your Discord/Slack bot token must be configured in <code>~/.nanobot/config.json</code>.</p> <ol> <li>Go to your Discord/Slack channel where nanobot is a member</li> <li>Send: <code>@BotName hello</code></li> <li>The bot should respond within 5 seconds</li> </ol> <p>\u2705 Expected: \"Hello! How can I help?\" or similar</p> <p>If the bot doesn't respond, see the channel integration guide.</p>"},{"location":"AOS-Startup-Simple-Build/#step-5-optional-test-with-obsidian","title":"Step 5 (Optional): Test with Obsidian","text":"<p>If you configured Obsidian vault access, test write-back:</p> <p>In CLI (<code>nanobot agent</code>): <pre><code>You: Write this to Obsidian: \"Startup test at {{timestamp}}\" to 00-System/startup-log.md\n</code></pre></p> <p>Check your Obsidian vault: Look in <code>00-System/startup-log.md</code></p> <p>\u2705 Expected: A new entry appears</p> <p>If write fails, verify Obsidian vault path in <code>~/.nanobot/config.json</code> is correct.</p>"},{"location":"AOS-Startup-Simple-Build/#validation-simple-startup-complete","title":"Validation: Simple Startup Complete \u2705","text":"<ul> <li>\u2705 CLI test succeeds (<code>nanobot agent</code> responds to questions in terminal)</li> <li>\u2705 Optional: Gateway starts without errors (<code>nanobot gateway</code>, if configured)</li> <li>\u2705 Optional: Discord/Slack respond (if configured)</li> <li>\u2705 Optional: Obsidian write succeeds (if configured)</li> </ul> <p>Congratulations! You have a working Simple Build nanobot system. You can now: - Ask questions in the terminal - Add more channels (Discord, Slack, Telegram, etc.) - Configure Obsidian for memory and audit logs - Set up workflows and automations</p>"},{"location":"AOS-Startup-Simple-Build/#shutdown-procedure","title":"Shutdown Procedure","text":"<p>To stop nanobot cleanly, press <code>Ctrl+C</code> in the terminal where it's running. Nanobot finishes any in-progress message before exiting.</p> <p>If running <code>nanobot agent</code> interactively, you can also type: <pre><code>exit\n</code></pre></p> <p>If running <code>nanobot gateway</code>, <code>Ctrl+C</code> is the only option \u2014 it has no interactive prompt.</p>"},{"location":"AOS-Startup-Simple-Build/#still-completely-stuck-nuclear-reset-option","title":"Still Completely Stuck? Nuclear Reset Option","text":"<p>Read this if: You've tried everything and nanobot still won't work.</p> <p>What this does: Completely removes nanobot and lets you start fresh (5 minutes).</p>"},{"location":"AOS-Startup-Simple-Build/#step-1-uninstall-nanobot","title":"Step 1: Uninstall Nanobot","text":"<pre><code>pip uninstall nanobot-ai\n# Answer 'y' (yes) if it asks\n</code></pre>"},{"location":"AOS-Startup-Simple-Build/#step-2-delete-all-configuration-files","title":"Step 2: Delete All Configuration Files","text":"<p>On Windows (PowerShell): <pre><code>Remove-Item $env:USERPROFILE\\.nanobot -Recurse -Force\n</code></pre></p> <p>On macOS/Linux: <pre><code>rm -rf ~/.nanobot\n</code></pre></p>"},{"location":"AOS-Startup-Simple-Build/#step-3-clear-python-cache-optional-but-recommended","title":"Step 3: Clear Python Cache (Optional but Recommended)","text":"<pre><code>pip cache purge\n</code></pre>"},{"location":"AOS-Startup-Simple-Build/#step-4-start-fresh","title":"Step 4: Start Fresh","text":"<pre><code>pip install nanobot-ai\nnanobot onboard\n</code></pre> <p>This is exactly the same as Step A4 and A5 above.</p>"},{"location":"AOS-Startup-Simple-Build/#step-5-retest","title":"Step 5: Retest","text":"<pre><code># Test CLI directly:\nnanobot agent\n\n# Or, if you use external channels, start the gateway:\nnanobot gateway\n</code></pre>"},{"location":"AOS-Startup-Simple-Build/#frequently-asked-questions-simple-build","title":"Frequently Asked Questions (Simple Build)","text":"<p>Q: Do I need to leave my computer on 24/7? A: No. Nanobot only runs when you start it. Close the terminal running <code>nanobot agent</code> or <code>nanobot gateway</code> and it stops.</p> <p>Q: How much will this cost me? A: It depends on usage. Set a monthly spending limit on your API provider (OpenRouter, Anthropic, OpenAI) to cap costs at whatever you're comfortable with (e.g., $10/month).</p> <p>Q: Can I use both OpenRouter AND Anthropic? A: Not simultaneously by default. You can add keys for multiple providers in <code>~/.nanobot/config.json</code> and nanobot will route automatically based on the model name. See the LLM Provider Setup Guide for details.</p> <p>Q: What if I want to move to Advanced Build later? A: You can! Copy your <code>~/.nanobot/</code> directory and import it into a VPS. Both use the same config format.</p> <p>Q: Does nanobot work if I'm offline? A: No. Simple Build requires internet to reach cloud LLM providers. For offline-capable systems, see AOS-Startup-Advanced-Build.</p> <p>Q: How do I back up my nanobot configuration? A: Copy the <code>~/.nanobot/</code> directory to a safe location. This contains all config, secrets, and logs.</p>"},{"location":"AOS-Startup-Simple-Build/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 2.4.1 Additional accuracy fixes: corrected onboard output (\u2713 not \ud83d\udc08 prefix); removed Rich markup tags from gateway output; fixed stale \"setup wizard\" reference in Step A3; added OpenAI model override note to Step A5; fixed 24/7 FAQ answer. 2026-02-26 2.4.0 Accuracy corrections: removed fabricated onboard wizard; replaced with actual <code>nanobot onboard</code> behavior + manual config.json setup. Fixed command architecture (nanobot agent is standalone; gateway not required for CLI). Fixed expected terminal output for gateway and agent. Removed all ~/.nanobot/.env references (config.json only). Fixed CLI prompt from &gt;&gt;&gt; to You:. 2026-02-26 2.3.0 Fixed broken link: Multi-Channel-Integration-Guide.md \u2192 nanobot/README.md 2026-02-26 2.2.0 Split from AOS-Startup-Procedure.md. Focused entirely on Simple Build (Path A). Added beginner-friendly language, cost expectations, minimum viable system callout, terminal guide, and nuclear reset option. Removed all Advanced Build content. 2026-02-25 2.1.0 Initial comprehensive rewrite in parent document 2026-02-25 2.0.0 Initial version"},{"location":"Cost-Calculator-and-Optimization/","title":"Cost Calculator &amp; Optimization Guide","text":"<p>Plan your nanobot deployment cost. Estimate monthly spend, optimize provider routing, and set budget controls.</p> <p>(A token \u2248 1 word. This guide helps you predict how much you'll spend.)</p>"},{"location":"Cost-Calculator-and-Optimization/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.1.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Cost-Calculator-and-Optimization/#1-provider-cost-matrix","title":"1. Provider Cost Matrix","text":"Provider Model Example Cost/1K Tokens Latency Best For Notes OpenRouter GPT-4, Claude 3.5 $0.002-0.03 &lt;2s Cost-conscious mixed Best value for quality; supports 100+ models Anthropic Claude 3 Opus $0.015 &lt;3s Premium tasks Most capable; prompt caching reduces cost OpenAI GPT-4o $0.005 &lt;2s General purpose Reliable; expensive for high volume Qwen (via OpenRouter) Qwen2-72B $0.0005 &lt;4s Budget tier Cheapest option; good quality for cost DeepSeek DeepSeek-67B $0.0003 &lt;5s Ultra-budget Lowest cost; slower Ollama (local) Qwen2, Llama2 $0 2-10s Privacy-critical Free; needs local GPU/CPU Gemini Gemini Pro $0.0005 &lt;2s Google ecosystem Billed per request Cohere Command R $0.0003 &lt;3s Specialized use Command models; moderate cost <p>Cost Tier Summary: - Tier A (Premium): Claude Opus, GPT-4 \u2192 $0.015-0.03/1K tokens (use for high-value tasks requiring best quality) - Tier B (Balanced): Claude Haiku, GPT-4 Mini, Qwen-72B \u2192 $0.0005-0.005/1K tokens (good middle ground) - Tier C (Budget): DeepSeek, Gemini, Cohere \u2192 $0.0001-0.0005/1K tokens (cheapest cloud options) - Tier D (Free): Ollama local \u2192 $0 (you pay for your computer hardware, but no API charges)</p>"},{"location":"Cost-Calculator-and-Optimization/#2-monthly-cost-calculator","title":"2. Monthly Cost Calculator","text":""},{"location":"Cost-Calculator-and-Optimization/#step-1-estimate-daily-token-usage","title":"Step 1: Estimate Daily Token Usage","text":"<p>Typical token consumption per interaction: (Remember: tokens \u2248 words. Complex tasks use more tokens.) - Simple query (web search): 500 tokens (\u2b07\ufe0f low complexity) - Moderate complexity (multi-step analysis): 2,000 tokens (\u2b07\ufe0f medium) - Complex task (long analysis + synthesis): 5,000 tokens (\u2b06\ufe0f high complexity)</p> <p>Example team: - 5 users \u00d7 10 interactions/day = 50 total interactions/day - Average 2,000 tokens per interaction = 100,000 tokens/day</p>"},{"location":"Cost-Calculator-and-Optimization/#step-2-calculate-monthly-cost","title":"Step 2: Calculate Monthly Cost","text":"<p>Formula: <pre><code>(Daily tokens \u00d7 30 days) \u00d7 (Cost per 1K tokens / 1000) = Monthly cost\n</code></pre></p> <p>Examples (100,000 tokens/day):</p> Provider Cost Per Month Annual OpenRouter (Qwen) $1.50 $18 DeepSeek $0.90 $11 Ollama (local GPU cost) ~$50 $600 OpenRouter (Claude Haiku) $15 $180 OpenAI (GPT-4o) $15 $180 Claude Opus $45 $540 <p>Interactive Calculator:</p> <pre><code># Paste into nanobot test mode or Python script\ntokens_per_day = 100000\ncost_per_1k = 0.0005  # DeepSeek: $0.0005/1K\nmonthly_cost = (tokens_per_day * 30 * cost_per_1k) / 1000\nprint(f\"Monthly cost at {cost_per_1k}/1K tokens: ${monthly_cost:.2f}\")\n# Output: Monthly cost: $1.50\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#3-multi-provider-routing-optimize-spend","title":"3. Multi-Provider Routing (Optimize Spend)","text":"<p>Route different tasks to different tiers based on complexity and value.</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-hybrid-multi-tier-routing","title":"Strategy: Hybrid Multi-Tier Routing","text":"<p>Tier Logic: - Tier A (Claude Opus) \u2190 10% of tasks (complex analysis, creative work) - Tier B (Claude Haiku, Qwen) \u2190 60% of tasks (general chat, moderate reasoning) - Tier C (DeepSeek, Budget Models) \u2190 30% of tasks (summarization, classification, routine)</p>"},{"location":"Cost-Calculator-and-Optimization/#implementation-config-example","title":"Implementation: Config Example","text":"<pre><code>{\n  \"llm\": {\n    \"routing\": {\n      \"default\": \"tier_b\",\n      \"rules\": [\n        {\n          \"channel\": \"#vip-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"claude-opus\",\n          \"tier\": \"a\"\n        },\n        {\n          \"channel\": \"#research-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"qwen2:72b\",\n          \"tier\": \"b\"\n        },\n        {\n          \"channel\": \"#bk-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"deepseek-67b\",\n          \"tier\": \"c\"\n        },\n        {\n          \"keyword\": \"urgent\",\n          \"provider\": \"anthropic\",\n          \"model\": \"claude-opus\",\n          \"tier\": \"a\"\n        }\n      ]\n    }\n  }\n}\n</code></pre> <p>Result:  - VIP channels always get Claude Opus (best quality) - Research uses Qwen (good quality, cheaper) - Bookkeeping channels use DeepSeek (budget tier, adequate quality) - Urgent keyword triggers Opus regardless of channel</p> <p>Estimated Cost Saving: 60-70% vs. using Claude Opus for everything</p>"},{"location":"Cost-Calculator-and-Optimization/#4-cost-per-workflow-examples","title":"4. Cost Per Workflow Examples","text":"<p>Real-world costs for common nanobot tasks:</p>"},{"location":"Cost-Calculator-and-Optimization/#example-1-daily-knowledge-consolidation","title":"Example 1: Daily Knowledge Consolidation","text":"<p>Workflow: Cron job nightly; collect messages from #prd channel; summarize + write to Obsidian</p> <p>Tokens consumed: - Read 50 messages: 10,000 tokens - Summarization: 5,000 tokens - Write Obsidian: 500 tokens - Total: ~15,000 tokens/day</p> <p>Cost (using Tier C): <pre><code>15,000 tokens/day \u00d7 30 days \u00d7 $0.0005/1K = $0.225/month\n</code></pre></p> <p>ROI: ~1 person-hour saved daily = Worth $500+ in labor, cost $0.23 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-2-multi-channel-content-posting","title":"Example 2: Multi-Channel Content Posting","text":"<p>Workflow: User requests article post to Discord, Slack, Telegram simultaneously</p> <p>Tokens consumed: - Generate content: 3,000 tokens - Format for channels: 1,500 tokens - Post &amp; confirm: 500 tokens - Total: ~5,000 tokens per post</p> <p>Cost (using Tier B): <pre><code>5,000 tokens \u00d7 $0.002/1K = $0.01 per post\n</code></pre></p> <p>ROI: Saves 15 mins manual cross-posting, cost $0.01 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-3-github-automation-daily","title":"Example 3: GitHub Automation (Daily)","text":"<p>Workflow: Cron job to scan issues, summarize PRs, post status to team channel</p> <p>Tokens consumed: - Fetch &amp; parse 10 PRs: 8,000 tokens - Summarize each: 4,000 tokens - Generate status report: 3,000 tokens - Total: ~15,000 tokens/day</p> <p>Cost (using Tier C): <pre><code>15,000 tokens/day \u00d7 30 days \u00d7 $0.0005/1K = $0.225/month\n</code></pre></p> <p>ROI: Saves ~30 mins team review time daily, cost $0.225 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-4-customer-support-bot-high-volume","title":"Example 4: Customer Support Bot (High Volume)","text":"<p>Workflow: 100 support questions/day across Discord, Slack, Telegram</p> <p>Tokens consumed per day: - Answer questions: 100 \u00d7 1,500 tokens = 150,000 tokens - Total: ~150,000 tokens/day</p> <p>Cost Options: - Tier B (Qwen): 150,000 \u00d7 30 \u00d7 $0.0005/1K = $2.25/month - Tier A (Claude): 150,000 \u00d7 30 \u00d7 $0.002/1K = $9/month</p> <p>ROI: Deflects 50+ support tickets/month = Worth $1,000+ in labor\ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#5-budget-caps-token-limits","title":"5. Budget Caps &amp; Token Limits","text":""},{"location":"Cost-Calculator-and-Optimization/#set-monthly-budget-cap","title":"Set Monthly Budget Cap","text":"<p>Config example:</p> <pre><code>{\n  \"costs\": {\n    \"monthly_budget\": 100.00,\n    \"alert_at_percent\": [50, 75, 90, 100],\n    \"action_on_exceed\": \"queue_lower_tier\"\n  }\n}\n</code></pre> <p>Behavior: - At 50%: Log warning message - At 75%: Downgrade new requests to Tier C only - At 90%: Downgrade to Tier C, alert ops team - At 100%: All new requests \u2192 local Ollama (free)</p>"},{"location":"Cost-Calculator-and-Optimization/#per-team-budget-allocation","title":"Per-Team Budget Allocation","text":"<p>For multi-team deployments:</p> <pre><code>{\n  \"teams\": {\n    \"prd\": {\n      \"monthly_budget\": 50,\n      \"tier\": \"b\"\n    },\n    \"research\": {\n      \"monthly_budget\": 30,\n      \"tier\": \"a\"\n    },\n    \"support\": {\n      \"monthly_budget\": 20,\n      \"tier\": \"c\"\n    }\n  }\n}\n</code></pre> <p>Each team gets its own pool. When exhausted: - Auto-fallback to local Ollama (if available) - Or queue requests for next billing cycle</p>"},{"location":"Cost-Calculator-and-Optimization/#token-usage-tracking","title":"Token Usage Tracking","text":"<pre><code># View current month spend\nnanobot cost report --this-month\n# Output:\n# Feb 2026: 3,000,000 tokens / $4.50 (Qwen tier)\n# Budget remaining: $95.50 / 30% of quota\n\n# View by channel\nnanobot cost report --by-channel\n# Output:\n# #prd: 1,500,000 tokens / $2.25\n# #research: 1,000,000 tokens / $1.50\n# #support: 500,000 tokens / $0.75\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#6-optimization-strategies","title":"6. Optimization Strategies","text":""},{"location":"Cost-Calculator-and-Optimization/#strategy-1-batch-processing-save-40","title":"Strategy 1: Batch Processing (Save 40%)","text":"<p>Instead of 50 real-time requests daily, batch into: - Morning batch (8am): 30 requests - Afternoon batch (2pm): 20 requests</p> <p>Token reduction: Fewer context switches = shorter responses Estimated savings: 30-40%</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-2-cache-repetitive-prompts-save-20","title":"Strategy 2: Cache Repetitive Prompts (Save 20%)","text":"<p>If 30% of tasks use the same system prompt:</p> <pre><code>{\n  \"cache\": {\n    \"strategy\": \"claude_prompt_cache\",\n    \"system_prompts\": [\n      {\n        \"name\": \"support_bot\",\n        \"prompt\": \"You are a customer support agent...\",\n        \"ttl_hours\": 24\n      }\n    ]\n  }\n}\n</code></pre> <p>Cost reduction: Cached tokens cost 90% less (Anthropic)</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-3-local-ollama-for-off-peak-save-70","title":"Strategy 3: Local Ollama for Off-Peak (Save 70%)","text":"<p>Run expensive tasks during off-peak hours on local GPU:</p> <pre><code>{\n  \"scheduling\": {\n    \"research_summaries\": {\n      \"time\": \"02:00\",\n      \"provider\": \"ollama\",\n      \"model\": \"qwen2:72b\"\n    }\n  }\n}\n</code></pre> <p>Cost reduction: Free compute hours + cloud API for urgent tasks</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-4-summarize-long-conversations-save-30","title":"Strategy 4: Summarize Long Conversations (Save 30%)","text":"<p>Instead of feeding full history to LLM:</p> <pre><code># Every 20 messages, auto-summarize conversation history\n# Insert summary instead of full history\n</code></pre> <p>Token reduction: 20-30% fewer tokens per interaction</p>"},{"location":"Cost-Calculator-and-Optimization/#7-break-even-analysis-cloud-vs-self-hosted","title":"7. Break-Even Analysis: Cloud vs. Self-Hosted","text":""},{"location":"Cost-Calculator-and-Optimization/#scenario-team-of-10-people-50-daily-interactions","title":"Scenario: Team of 10 people, 50 daily interactions","text":"<p>Cloud (OpenRouter Qwen) approach: <pre><code>100,000 tokens/day \u00d7 30 \u00d7 $0.0005/1K = $1.50/month\nTeam cost: $1.50 + ZenDesk/Slack = $500/month\n</code></pre></p> <p>Self-Hosted (VPS + Ollama) approach: <pre><code>VPS: $20/month (4GB RAM, CPU)\nGPU compute (rented): $200/month (NVIDIA A100 sharing)\nOllama updates: $0\nTotal: $220/month\n</code></pre></p> <p>Break-even: Self-hosted cheaper at &gt;150k tokens/day consistently</p> <p>Recommendation: - &lt;50k tokens/day: Cloud only (too cheap to self-host) - 50k-200k tokens/day: Hybrid (cloud + local batching) - &gt;200k tokens/day: Self-hosted (ROI in 2-3 months)</p>"},{"location":"Cost-Calculator-and-Optimization/#8-cost-monitoring-checklist","title":"8. Cost Monitoring Checklist","text":"<p>Monthly review:</p> <ul> <li> Total tokens consumed vs. budget</li> <li> Cost per channel (is any team over-using?)</li> <li> Average tokens per interaction (trending up/down?)</li> <li> Tier distribution (are we using Tier A too often?)</li> <li> Cache hit rate (prompt caching effectiveness)</li> <li> Ollama uptime (if self-hosted; justify continued use?)</li> </ul> <pre><code># Generate comprehensive monthly report\nnanobot cost-report --detailed --month=feb\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#9-cost-reduction-checklist","title":"9. Cost Reduction Checklist","text":"<p>Quick wins (easy, 10-30% savings): - [ ] Enable prompt caching (Anthropic) - [ ] Switch to Qwen for routine tasks - [ ] Batch non-urgent summarization to 2am window - [ ] Add tier-based routing by channel</p> <p>Medium effort (30-50% savings): - [ ] Set up conversation summarization every 20 messages - [ ] Implement local Ollama for off-peak batch jobs - [ ] Review and reduce system prompt verbosity</p> <p>Major changes (50-70% savings): - [ ] Deploy self-hosted VPS + Ollama for high volume - [ ] Migrate to on-device models (less privacy tradeoff) - [ ] Implement aggressive batching (hourly vs. real-time)</p>"},{"location":"Cost-Calculator-and-Optimization/#10-example-annual-budget-forecast","title":"10. Example Annual Budget Forecast","text":"<p>10-person team, 100,000 tokens/day:</p> Approach Monthly Annual Notes Cloud Only (Qwen) $1.50 $18 Cheapest; accept minimal latency Cloud + Caching $1.20 $14 With Anthropic prompt cache Hybrid (Cloud+Local) $40 $480 VPS $20 + part-time GPU $20 Full Self-Hosted $220 $2,640 VPS $20 + GPU $200 <p>Sweet spot for most teams: Cloud (Tier C/B) + local batching = $20-40/month</p>"},{"location":"Cost-Calculator-and-Optimization/#11-common-mistakes-solutions","title":"11. Common Mistakes &amp; Solutions","text":""},{"location":"Cost-Calculator-and-Optimization/#mistake-1-underestimating-token-usage-bills-10x-higher-than-expected","title":"\u274c Mistake 1: Underestimating Token Usage - Bills 10x Higher Than Expected","text":"<p>Problem: Expected $20/month, got $200 bill Why: Didn't account for system prompts, context window growth, or verbose logging Fix: 1. Check actual usage: <code>nanobot cost report --detailed</code> 2. System prompts are expensive: A 500-word system prompt = 750 tokens per request!    <pre><code>\u274c Verbose system prompt (500 words):\n\"You are a helpful assistant. You have the following skills...\"\n[100s of words of instruction]\n\n\u2705 Concise system prompt (50 words):\n\"You are an assistant. Use web_search, file_read, github_search.\"\n</code></pre> 3. Enable token counting logs: <pre><code>{\n  \"logging\": {\n    \"track_tokens\": true,\n    \"log_level\": \"detail\"\n  }\n}\n</code></pre> 4. Review logs daily for first week: <code>nanobot logs | grep \"tokens_used\"</code></p>"},{"location":"Cost-Calculator-and-Optimization/#mistake-2-wrong-tier-routing-expensive-model-used-for-everything","title":"\u274c Mistake 2: Wrong Tier Routing - Expensive Model Used for Everything","text":"<p>Problem: Using Claude Opus for every single request; $500/month bill Why: Default model set to expensive tier; forgot to set up routing Fix: <pre><code>\u274c Everything uses Opus (expensive):\n{\n  \"llm\": {\n    \"default_model\": \"claude-opus\"  // Uses Opus for everything!\n  }\n}\n\n\u2705 Smart routing by task:\n{\n  \"llm\": {\n    \"default_model\": \"qwen2:72b\",   // Default to budget tier\n    \"routing\": {\n      \"channel_rules\": [\n        {\n          \"channel\": \"#vip-*\",\n          \"model\": \"claude-opus\"  // Only VIP gets Opus\n        },\n        {\n          \"channel\": \"#research-*\",\n          \"model\": \"qwen2:72b\"    // Research uses mid-tier\n        }\n      ]\n    }\n  }\n}\n</code></pre> 2. Check routing: <code>nanobot config llm.routing</code> 3. Restart: <code>nanobot gateway</code></p>"},{"location":"Cost-Calculator-and-Optimization/#mistake-3-cache-never-hits-not-getting-prompt-caching-savings","title":"\u274c Mistake 3: Cache Never Hits - Not Getting Prompt Caching Savings","text":"<p>Problem: Prompt caching enabled, but bill still high Why: System prompt + context windows keep changing, so cache never reuses Fix: 1. Check cache stats: <code>nanobot cache stats</code> <pre><code>Cache hits: 234 (45%)\nCache misses: 256 (55%)\nSavings: $10/month (at 45% hit rate)\n</code></pre> 2. If hits &lt; 20%: Static prompts not repeating enough 3. To improve: Group similar queries, use consistent context windows 4. For Anthropic: Ensure <code>prompt_caching</code> is enabled:    <pre><code>{\n  \"anthropic\": {\n    \"prompt_caching\": true\n  }\n}\n</code></pre></p>"},{"location":"Cost-Calculator-and-Optimization/#mistake-4-ollama-running-unused-wasting-gpu-resources","title":"\u274c Mistake 4: Ollama Running Unused - Wasting GPU Resources","text":"<p>Problem: Deployed self-hosted Ollama; $200/month VPS bill; only 10% usage Why: Don't have enough local traffic to justify cost Fix: 1. Check Ollama usage: <code>curl http://localhost:11434/api/ps</code>    (If empty, no models loaded = unused) 2. Calculate actual cost per token:     - If using &lt;20k tokens/day locally but paying $200/month = waste    - Switch back to cloud for this usage level 3. Keep Ollama IF:    - Using &gt;100k tokens/day locally, OR    - Privacy-critical data (don't want to send to cloud) 4. Otherwise: Stop Ollama, save $200/month    <pre><code>systemctl stop ollama  # or: killall ollama\nuninstall: rm -rf ~/.ollama/\n</code></pre></p>"},{"location":"Cost-Calculator-and-Optimization/#mistake-5-verbose-logging-inflates-token-usage","title":"\u274c Mistake 5: Verbose Logging Inflates Token Usage","text":"<p>Problem: Each log entry includes conversation history; tokens pile up Why: Logging level set to \"verbose\" or \"debug\"; too much context captured Fix: <pre><code>\u274c Verbose logging (wastes tokens):\n{\n  \"logging\": {\n    \"level\": \"verbose\",\n    \"log_full_context\": true,    // Logs entire conversation\n    \"log_every_token\": true      // Way too much!\n  }\n}\n\n\u2705 Smart logging (balances visibility + cost):\n{\n  \"logging\": {\n    \"level\": \"info\",\n    \"log_errors_only\": false,\n    \"track_cost\": true,\n    \"on_file_write\": true,       // Log important operations\n    \"retention_days\": 30\n  }\n}\n</code></pre> 2. Check logs size: <code>du -h ~/.nanobot/logs/</code> 3. If &gt;1GB/day: Lower verbosity immediately 4. Adjust: <code>nanobot config logging.level info</code></p>"},{"location":"Cost-Calculator-and-Optimization/#mistake-6-batch-jobs-dont-actually-batch-running-real-time-instead","title":"\u274c Mistake 6: Batch Jobs Don't Actually Batch - Running Real-Time Instead","text":"<p>Problem: Scheduled batch job to run at 2am, supposed to save 70%; bill didn't change Why: Batch job created, but users kept sending real-time requests (default model is expensive) Fix: 1. Verify batch job runs: <code>nanobot cron list | grep batch</code> 2. Check it's actually batching: <pre><code>nanobot logs --filter=\"batch\" | tail -20\n</code></pre> 3. Ensure default is NOT batch (expensive): <pre><code>\u274c Real-time requests still go to Opus:\n{\n  \"llm\": {\n    \"default_model\": \"claude-opus\",\n    \"batch_model\": \"deepseek\"  // Batch set but not used!\n  }\n}\n\n\u2705 Non-urgent requests route to batch tier:\n{\n  \"llm\": {\n    \"default_model\": \"deepseek\",  // Cheapest for real-time\n    \"urgent_model\": \"claude-opus\",\n    \"batch_model\": \"deepseek\",   // Even cheaper for batches\n    \"routing\": {\n      \"keyword\": \"urgent\" \u2192 use urgent_model\n    }\n  }\n}\n</code></pre></p>"},{"location":"Cost-Calculator-and-Optimization/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 1.1.0 Fixed #bk-* description (backlog \u2192 bookkeeping); generalized Discord-specific workflow language in \u00a74 2026-02-25 1.0.0 Initial cost calculator and optimization guide"},{"location":"Emergency-Recovery-and-Troubleshooting/","title":"Emergency Recovery and Troubleshooting","text":"<p>Purpose: Diagnose and recover from system failures, connection loss, or configuration corruption without losing data or requiring full rebuild.</p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> </ul>"},{"location":"Emergency-Recovery-and-Troubleshooting/#before-you-start","title":"Before You Start","text":"<ul> <li>\u2610 Terminal/SSH access to the nanobot server</li> <li>\u2610 Access to ~/.nanobot/config.json file</li> <li>\u2610 Backup of important config files</li> <li>\u2610 Optional: Recent backup of vault/workspace</li> <li>\u2610 List of your LLM providers and channels (Discord, Slack, etc.)</li> </ul>"},{"location":"Emergency-Recovery-and-Troubleshooting/#how-to-copy-paste-commands-in-linux","title":"How to Copy &amp; Paste Commands in Linux","text":"<p>When you see bash code blocks below, here are the best ways to copy commands:</p> <p>Method 1: Middle-click paste (Fastest) 1. Highlight the command text with your mouse 2. Middle-click (scroll wheel click) in the terminal 3. Command pastes instantly!</p> <p>Method 2: Keyboard shortcuts (Most compatible) 1. Highlight and press <code>Ctrl+Shift+C</code> to copy 2. Click in terminal and press <code>Ctrl+Shift+V</code> to paste</p> <p>Method 3: Right-click menu 1. Highlight, copy with <code>Ctrl+C</code> 2. Right-click in terminal \u2192 Paste</p> <p>Use middle-click if your terminal supports it\u2014it's the fastest. Otherwise, keyboard shortcuts work everywhere.</p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#1-system-health-diagnostics","title":"1. System Health Diagnostics","text":"<p>Before attempting recovery, understand the current state.</p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#11-quick-status-check","title":"1.1 Quick Status Check","text":"<pre><code># pgrep searches for running processes (programs) by its name\n# -l displays both the process ID and name\n# This shows if nanobot is currently running\npgrep -l nanobot\n\n# Check if nanobot is running and report health status\nnanobot status --all\n\n# List all connected nodes (if you're running distributed system)\nnanobot nodes list\n\n# tail shows the last lines of a log file (detailed record of what happened)\n# -50 shows the 50 most recent lines\ntail -50 /var/log/nanobot/gateway.log\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#12-connectivity-diagnostic","title":"1.2 Connectivity Diagnostic","text":"<pre><code># Test if nanobot can reach each LLM provider\n# Each provider has its own server; this verifies the connection works\nnanobot test-provider --provider openrouter\nnanobot test-provider --provider ollama --host localhost:11434\n\n# Test if nanobot can send and receive messages from chat platforms\nnanobot test-channel --channel discord\nnanobot test-channel --channel slack\n\n# Verify that nanobot can read/write to your Obsidian vault\nnanobot test-vault --path /path/to/vault\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#13-configuration-validation","title":"1.3 Configuration Validation","text":"<pre><code># Check if configuration file has correct syntax (YAML/JSON formatting)\nnanobot config validate\n\n# Check for settings that are no longer supported (old deprecated features)\nnanobot config audit\n\n# Display the current configuration so you can review it\n# --include-secrets=false means DON'T show passwords/API keys (for security)\nnanobot config show --include-secrets=false  # Never include secrets\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#2-common-issues-quick-fixes","title":"2. Common Issues &amp; Quick Fixes","text":""},{"location":"Emergency-Recovery-and-Troubleshooting/#21-cannot-connect-to-llm-provider","title":"2.1 \"Cannot connect to LLM provider\"","text":"<p>\u23f1\ufe0f ~5 minutes to diagnose</p> <p>Symptoms: - \u274c Responses timeout - \u274c \"Provider unreachable\" errors - \u274c No tokens being consumed</p> <p>Diagnosis: <pre><code># curl -I sends a HEAD request (just check headers, not full page)\n# https://api.openrouter.ai is the OpenRouter server address\n# This shows if you can reach the OpenRouter servers\ncurl -I https://api.openrouter.ai  # For OpenRouter\n\n# ping sends test packets to a server to check if it's reachable\n# For local Ollama running on your computer\nping &lt;ollama-host&gt;                  # For local Ollama\n</code></pre></p> <p>Fix Options:</p> <p>Option A: Verify credentials (most common) <pre><code># The 'echo' command prints text to the terminal\n# This shows the current value of the OPENROUTER_API_KEY variable\n# (This is your API key for the server\u2014like a password)\necho $OPENROUTER_API_KEY\n\n# If the key is empty, reload it from your .env file (configuration file with secrets)\n# 'source' tells bash to read and execute commands from a file\nsource ~/.nanobot/.env\nnanobot gateway restart\n</code></pre> \u2705 Success: <code>nanobot test-provider</code> now works without timeout</p> <p>Option B: Check firewall (VPS \u2192 cloud provider) <pre><code># ufw (Uncomplicated Firewall) is a tool that blocks/allows network traffic\n# 'status' shows which ports are open and which are blocked\nsudo ufw status\n\n# 'allow out 443' opens port 443 for outgoing traffic (HTTPS = secure web connection)\n# Cloud providers use port 443\nsudo ufw allow out 443  # HTTPS for cloud providers\n\n# 'allow in 11434' opens port 11434 for incoming traffic (where Ollama listens)\n# For Ollama on local network\nsudo ufw allow in 11434\n</code></pre></p> <p>\u26a0\ufe0f Linux Password Note: When you run <code>sudo</code> commands, you may be prompted for your password. On Linux/Mac, passwords are not displayed as you type\u2014no dots, asterisks, or characters appear. This is intentional for security. Just type your password and press Enter; the system is listening.</p> <p>Option C: Reset provider routing <pre><code># Temporarily use fallback provider\nnanobot config set llm.provider fallback\n\n# Test with a simple prompt\n/model test \"Say hello\"\n\n# Once working, switch back to preferred provider\nnanobot config set llm.provider openrouter\n</code></pre></p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#22-connection-refused-from-discordslack","title":"2.2 \"Connection refused\" from Discord/Slack","text":"<p>Symptoms: - Messages sent to bot are ignored - \"Unauthorized\" errors in channel logs - Gateway won't start</p> <p>Diagnosis: <pre><code># netstat -tlnp shows all network connections and which programs are using them\n# | grep nanobot filters the output to show only nanobot connections\n# This verifies if the nanobot gateway is actually listening for connections\nnetstat -tlnp | grep nanobot\n\n# List all connected channels and show if their authentication tokens are valid\nnanobot channel list --show-auth-status\n</code></pre></p> <p>Fix:</p> <p>Option A: Regenerate channel token <pre><code># For Discord\nnanobot channel discord reset-token\n# Copy new token to Discord application settings\n\n# For Slack\nnanobot channel slack regenerate-token\n# Update Slack app credentials\n</code></pre></p> <p>Option B: Re-authorize channel <pre><code># Deactivate channel\nnanobot channel discord disable\n\n# Re-authenticate\nnanobot channel discord oauth --redirect http://localhost:8080\n# Follow the browser prompt\n\n# Reactivate\nnanobot channel discord enable\n</code></pre></p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#23-obsidian-vault-locked-file-permission-denied","title":"2.3 \"Obsidian vault locked / file permission denied\"","text":"<p>Symptoms: - Cannot write to vault - \"Permission denied\" on vault paths - Notes saved to temp instead of vault</p> <p>Diagnosis: <pre><code># ls -la lists files in a directory with detailed information\n# Shows file sizes, dates, and most importantly: who owns it and what permissions exist\nls -la /path/to/obsidian/vault\n\n# stat shows detailed information about a file (permissions, ownership, timestamps)\n# This checks if nanobot process owner matches the vault owner\nstat /path/to/obsidian/vault\n</code></pre></p> <p>Fix:</p> <p>Option A: Fix permissions <pre><code># chmod changes permissions on files and folders\n# 755 = owner can read/write/execute, others can read/execute but not write\n# This allows nanobot (the process) to read and write to the vault\nchmod 755 /path/to/obsidian/vault\nchmod 644 /path/to/obsidian/vault/*.md\n\n# Alternatively: chown changes who owns the file/folder\n# sudo = run as administrator\n# nanobot:nanobot = set ownership to the nanobot user and nanobot group\n# -R = apply recursively to all files inside\nsudo chown -R nanobot:nanobot /path/to/obsidian/vault\n</code></pre></p> <p>\u26a0\ufe0f Linux Password Note: The <code>sudo</code> command may prompt for your password. Passwords are NOT displayed on Linux/Mac as you type\u2014no dots or asterisks appear. This is normal. Just type and press Enter.</p> <p>Option B: Temporarily disable vault auto-save <pre><code>nanobot config set obsidian.auto_save false\n\n# Manually trigger saves when ready\nnanobot vault flush\n</code></pre></p> <p>Option C: Recover from backup <pre><code># If vault is corrupted, restore from backup\ncp -r /backup/obsidian/vault /path/to/obsidian/vault\n\n# Recrawl vault index\nnanobot vault reindex\n</code></pre></p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#24-out-of-memory-vram-full-local-ollama","title":"2.4 \"Out of memory\" / VRAM full (local Ollama)","text":"<p>Symptoms: - Model unloads repeatedly - Slow responses - GPU errors in logs</p> <p>Diagnosis: <pre><code># nvidia-smi is a tool from NVIDIA that shows GPU memory usage\n# This tells you how much VRAM (video memory) is being used\nnvidia-smi\n\n# 'watch' reruns a command every 2 seconds so you can see changes in real-time\n# Ctrl+C to stop watching\nwatch nvidia-smi  # Ctrl+C to exit\n\n# Show memory settings for a specific model (Ollama= local AI tool)\nollama show llama2\n</code></pre></p> <p>Fix:</p> <p>Option A: Unload unused models <pre><code># List all AI models that are currently loaded in memory\nollama list\n\n# Stop a specific model to free up VRAM\n# This clears out the GPU memory so nanobot can start fresh\nollama stop mistral   # Replace 'mistral' with whichever model is loaded\n\n# Load only the one model you need right now\nollama run mistral\n</code></pre></p> <p>Option B: Switch to smaller model (temporary) <pre><code># Switch from 70B to 8B to free VRAM\n/model set llama3:8b\n\n# Verify it's loaded\nnanobot model status\n\n# User can still access 70B with explicit request\n# /model force llama3:70b  (when more context needed)\n</code></pre></p> <p>Option C: Configure auto-unload <pre><code># Set timeout to auto-unload models when idle\nnanobot config set ollama.keep_alive 10m  # 10 minutes of idle time\n\n# Or disable auto-unload for intensive work\nnanobot config set ollama.keep_alive 0  # Never auto-unload\n</code></pre></p>"},{"location":"Emergency-Recovery-and-Troubleshooting/#3-recovery-procedures-multi-step","title":"3. Recovery Procedures (Multi-Step)","text":""},{"location":"Emergency-Recovery-and-Troubleshooting/#31-clean-restart-preserves-configuration","title":"3.1 Clean Restart (Preserves Configuration)","text":"<p>Use this when services are stuck or deadlocked.</p> <pre><code># Step 1: Graceful shutdown - tell nanobot to stop nicely\nnanobot gateway stop\nsleep 5  # sleep waits 5 seconds to ensure everything stops\n\n# Step 2: Verify all processes stopped\n# pgrep searches for running processes; || echo means \"if nothing found, print a message\"\npgrep -l nanobot || echo \"All nanobot processes stopped\"\n\n# Step 3: Clean temporary files\n# rm -rf removes files and directories; /tmp/nanobot_* targets temp files\n# ~/.nanobot/cache/* clears the cache (stored temporary data)\nrm -rf /tmp/nanobot_*\nrm -rf ~/.nanobot/cache/*\n\n# Step 4: Restart with diagnostic mode (verbose = show detailed logging)\nnanobot gateway run --verbose\n\n# Step 5: Test basic functionality\n# In another terminal:\nnanobot test-provider --provider openrouter\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#32-configuration-corruption-recovery","title":"3.2 Configuration Corruption Recovery","text":"<p>Use this if <code>~/.nanobot/config.json</code> is invalid or corrupted.</p> <pre><code># Step 1: Backup corrupted config (cp = copy)\ncp ~/.nanobot/config.json ~/.nanobot/config.json.corrupt\n\n# Step 2: Restore from last known good (if available)\ncp ~/.nanobot/config.json.backup ~/.nanobot/config.json\n\n# Step 3: Validate restored config (check syntax)\nnanobot config validate\n\n# Step 4: Compare with corrupted version to check what was lost\n# diff shows differences between two files; -u shows context\ndiff -u ~/.nanobot/config.json.corrupt ~/.nanobot/config.json\n\n# Step 5: Re-apply any missing custom settings\n# (Edit manually or use CLI)\nnanobot config set llm.provider openrouter\nnanobot config set channels.discord.enabled true\n\n# Step 6: Restart and verify\nnanobot gateway restart\nnanobot status --all\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#33-credential-reset-after-compromise-or-expiration","title":"3.3 Credential Reset (After Compromise or Expiration)","text":"<p>Use this if you suspect tokens/keys are compromised or tokens expired.</p> <pre><code># Step 1: Revoke old credentials from provider\n# For OpenRouter: Log in \u2192 API Settings \u2192 Delete old keys\n# For Anthropic: Console \u2192 Dashboard \u2192 Revoke key\n# For Discord: Server Settings \u2192 Integrations \u2192 OAuth2 \u2192 Reset\n\n# Step 2: Generate new credentials at provider\n\n# Step 3: Update .env file\nnano ~/.nanobot/.env\n# Update: OPENROUTER_API_KEY=&lt;new_key&gt;\n# Or: ANTHROPIC_API_KEY=&lt;new_key&gt;\n\n# Step 4: Reload environment\nsource ~/.nanobot/.env\n\n# Step 5: Test new credentials\nnanobot test-provider --provider openrouter\n\n# Step 6: Restart gateway to apply\nnanobot gateway restart\n\n# Step 7: Verify in channel\n# Send test message in Discord/Slack to confirm working\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#34-vault-corruption-recovery","title":"3.4 Vault Corruption Recovery","text":"<p>Use this if notes are corrupted, links broken, or vault index outdated.</p> <pre><code># Step 1: Backup current vault\n# tar -czf creates a compressed backup file (.tar.gz = compressed archive)\n# $(date +%Y%m%d_%H%M%S) adds timestamp like 20240115_143022\ntar -czf ~/obsidian-backup-$(date +%Y%m%d_%H%M%S).tar.gz /path/to/vault\n\n# Step 2: Check vault integrity (scan for errors)\nnanobot vault check --full\n\n# Step 3: Reindex vault (rebuild the searchable index)\nnanobot vault reindex\n\n# Step 4: Verify recovery (test a search)\nnanobot vault search --test \"example query\"\n\n# Step 5: If still broken, restore from backup\n# Extract to temp directory first, don't overwrite immediately\nmkdir /tmp/vault-restore\n# tar -xzf extracts; -C specifies destination folder\ntar -xzf ~/obsidian-backup-&lt;date&gt;.tar.gz -C /tmp/vault-restore\n\n# Once verified, move to production\n# rm -rf removes a directory and all its contents\nrm -rf /path/to/vault\nmv /tmp/vault-restore/vault /path/to/vault\n\n# Step 6: Reindex restored vault\nnanobot vault reindex\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#4-data-integrity-checks","title":"4. Data Integrity Checks","text":""},{"location":"Emergency-Recovery-and-Troubleshooting/#41-verify-recent-exports-backup-validation","title":"4.1 Verify Recent Exports (Backup Validation)","text":"<pre><code># Check when was the last successful backup\n# ls -lah lists files with human-readable sizes and hidden files\n# ~/ means your home directory\nls -lah ~/.nanobot/backups/\n\n# Validate backup integrity (don't extract, just list contents)\n# tar -tzf lists files inside a compressed archive without extracting\n# | head -20 shows only the first 20 files\ntar -tzf ~/.nanobot/backups/backup-latest.tar.gz | head -20\n\n# Test restore to temp location\nmkdir /tmp/backup-test\ntar -xzf ~/.nanobot/backups/backup-latest.tar.gz -C /tmp/backup-test\n\n# Verify key files exist\n# test -f checks if a file exists; test -d checks if a directory exists\n# &amp;&amp; echo prints success message if the test passes\ntest -f /tmp/backup-test/config.json &amp;&amp; echo \"Config backed up \u2713\"\ntest -d /tmp/backup-test/vault &amp;&amp; echo \"Vault backed up \u2713\"\ntest -d /tmp/backup-test/logs &amp;&amp; echo \"Logs backed up \u2713\"\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#42-audit-log-verification","title":"4.2 Audit Log Verification","text":"<pre><code># Check if audit logs exist and recent\n# ls -lah shows file size and modification date (tells you if logs are current)\nls -lah ~/.nanobot/logs/audit.log\n\n# Verify recent entries\n# tail -30 shows the last 30 lines\n# grep -i searches for text (case-insensitive)\n# This filters for errors or warnings\ntail -30 ~/.nanobot/logs/audit.log | grep -i \"error\\|warning\"\n\n# Count errors in last 24h\n# date -d yesterday shows yesterday's date\n# wc -l counts lines\ngrep \"$(date -d yesterday +%Y-%m-%d)\" ~/.nanobot/logs/audit.log | grep -i error | wc -l\n\n# Export logs for external review (backup to a compressed archive)\ntar -czf ~/nanobot-logs-$(date +%Y%m%d).tar.gz ~/.nanobot/logs/\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#5-troubleshooting-quick-reference","title":"5. Troubleshooting Quick Reference","text":"Symptom Likely Cause First Check Quick Fix No responses Provider offline or bad token <code>nanobot test-provider</code> Update token or switch provider Slow responses Out of memory or network latency <code>nvidia-smi</code> / <code>ping provider</code> Unload models or check network Bot unresponsive Gateway crashed <code>pgrep nanobot</code> <code>nanobot gateway restart</code> Obsidian errors Vault locked or permission denied <code>ls -la /vault/path</code> Fix permissions or disable auto-save High costs Expensive model routing <code>nanobot cost status</code> Switch to cheaper model tier Channel disconnected Auth token expired <code>nanobot channel list</code> Regenerate token Configuration lost File corrupted or deleted Check <code>.backup</code> suffixed files Restore from backup"},{"location":"Emergency-Recovery-and-Troubleshooting/#6-emergency-contact-list-template","title":"6. Emergency Contact List (Template)","text":"<p>Keep this updated with your actual contacts:</p> <pre><code># Emergency Contacts\n\n**Primary Provider Support:**\n- OpenRouter: support@openrouter.ai\n- Anthropic: help@anthropic.com\n- OpenAI: support@openai.com\n\n**Cloud Provider (if using VPS):**\n- Provider: [Your VPS Provider]\n- Support: [Support URL]\n- Account: [Your Account ID]\n\n**Internal Support:**\n- Primary Operator: [Your Name/Email]\n- Backup Operator: [Backup Person/Email]\n- On-Call: [Rotation Schedule]\n\n**Monitoring/Alerts:**\n- Critical Alert Channel: [Discord/Slack]\n- Email: [Your Alert Email]\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#7-preventive-maintenance","title":"7. Preventive Maintenance","text":""},{"location":"Emergency-Recovery-and-Troubleshooting/#71-daily-checks","title":"7.1 Daily Checks","text":"<pre><code>#!/bin/bash\n# Save as ~/.nanobot/daily-check.sh\n\n# Check service health\nnanobot status --all\n\n# Monitor costs\nnanobot cost today\n\n# Verify connections\nnanobot test-provider --provider openrouter\nnanobot test-channel --channel discord\n\n# Show recent errors\ntail -20 /var/log/nanobot/gateway.log | grep -i error\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#72-weekly-backup","title":"7.2 Weekly Backup","text":"<pre><code>#!/bin/bash\n# Run weekly: crontab -e \u2192 add: 0 0 * * 0 ~/.nanobot/weekly-backup.sh\n\nBACKUP_DIR=~/.nanobot/backups\nDATE=$(date +%Y%m%d)\n\n# Backup configuration\ntar -czf $BACKUP_DIR/config-$DATE.tar.gz ~/.nanobot/config.json\n\n# Backup vault\ntar -czf $BACKUP_DIR/vault-$DATE.tar.gz /path/to/obsidian/vault\n\n# Keep only last 4 weeks\nfind $BACKUP_DIR -name \"*.tar.gz\" -mtime +28 -delete\n\necho \"Backups completed: $(ls -1 $BACKUP_DIR | wc -l) files\"\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#73-monthly-security-audit","title":"7.3 Monthly Security Audit","text":"<pre><code># Run monthly security checks\nnanobot security audit --full\n\n# Validate allowlists\nnanobot config show allowlist\n\n# Review recent API usage\nnanobot logs export --format json --days 30 &gt; api-usage-$(date +%Y%m).json\n\n# Update channel tokens if not rotated in 90 days\ngrep -r \"token_created\" ~/.nanobot/ | grep -v \"$(date -d '3 months ago' +%Y-%m)\"  # Linux only; macOS use: date -v-3m\n</code></pre>"},{"location":"Emergency-Recovery-and-Troubleshooting/#8-see-also","title":"8. See Also","text":"<ul> <li>Security &amp; Governance Policies \u2014 Monthly security validation runbook, access control, and escalation</li> <li>AOS Startup: Simple Build / AOS Startup: Advanced Build \u2014 Initial setup and boot sequence</li> <li>Cost Calculator \u2014 Monitor spend to detect anomalies</li> </ul>"},{"location":"Emergency-Recovery-and-Troubleshooting/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 1.0.0 Initial emergency recovery and troubleshooting guide"},{"location":"Getting-Started-With-Nanobot/","title":"Getting Started With Nanobot","text":""},{"location":"Getting-Started-With-Nanobot/#document-control","title":"Document Control","text":"<ul> <li>Owner: Nanobot Community</li> <li>Version: 1.3.0</li> <li>Last Updated: February 26, 2026</li> <li>Status: Active</li> <li>Purpose: Quick-start orientation and documentation map for new users</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#who-is-this-for","title":"Who Is This For?","text":"<p>This documentation is for developers, operators, and teams who want to deploy, operate, and extend the Nanobot agentic framework for LLM-powered automation, research, and multi-channel communication. It is suitable for both beginners (getting started quickly) and advanced users (production, governance, and customization).</p>"},{"location":"Getting-Started-With-Nanobot/#what-nanobot-does","title":"What Nanobot Does","text":"<p>Nanobot is a lightweight (~4,000 lines), extensible agentic framework that: - Routes to 100+ LLM (Large Language Model) models: Claude, GPT-4, local Ollama, Qwen, DeepSeek, etc. - Integrates with 11 communication channels (Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix, Mochat, CLI) - Executes 14 built-in tools (web search, file ops, shell, GitHub, scheduling, MCP \u2014 Model Context Protocol tools for external integrations) - Provides 9 pre-built skills (Obsidian, memory, summarization, cron, GitHub automation) - Routes LLM calls across cost tiers (Tier A/B/C) with budget caps and escalation gates - Enforces security with role-based access control, tool allowlisting, and audit logging</p>"},{"location":"Getting-Started-With-Nanobot/#about-this-documentation","title":"About This Documentation","text":"<p>Repository: HKUDS/nanobot Nanobot Version: v0.1.4 and later Documentation Updated: February 26, 2026</p>"},{"location":"Getting-Started-With-Nanobot/#how-nanobot-works","title":"How Nanobot Works","text":"<p>Nanobot is organized into three planes that work together on every request. Understanding the planes helps you know which documents to read and which settings to configure.</p> <p>Control Plane \u2014 Multi-channel intake. Receives messages from Discord, Slack, Telegram, Email, and 7 other channels, then routes them into the agent loop. Configuration: nanobot/README.md.</p> <p>Policy Plane \u2014 Governance and routing. Selects the LLM tier for each request (Tier A = premium models like Claude Opus; Tier B = balanced; Tier C = cheapest/local), applies budget caps, enforces approval gates before tool execution, and logs decisions to the audit trail. Configuration: Security &amp; Governance Policies and LLM Provider Setup Guide.</p> <p>Memory Plane \u2014 Durable storage. Writes to an Obsidian vault (a local markdown knowledge base) for audit trails, context recall, and long-term memory across sessions. Skills like <code>memory_consolidation</code> and <code>obsidian</code> operate in this plane. Configuration: Skills &amp; Tools Reference.</p>"},{"location":"Getting-Started-With-Nanobot/#example-a-request-in-action","title":"Example: A Request in Action","text":"<ol> <li>Operator asks in Slack: \"Find competitor campaigns this week and propose a test\"</li> <li>Control Plane receives the message via Slack integration</li> <li>Policy Plane routes to Claude Opus (Tier A \u2014 high-value task)</li> <li>Agent executes: web_search \u2192 summarize \u2192 synthesizes findings</li> <li>Posts response back to Slack with recommendation and source links</li> <li>Memory Plane logs results to Obsidian for audit trail and replay</li> </ol>"},{"location":"Getting-Started-With-Nanobot/#choose-your-deployment","title":"Choose Your Deployment","text":""},{"location":"Getting-Started-With-Nanobot/#option-1-simple-build-local-cloud-llm","title":"Option 1 \u2014 Simple Build: Local + Cloud LLM","text":"<ul> <li>Setup time: 25-35 minutes</li> <li>Ongoing cost: $0-50/month (based on API usage; zero cost with local Ollama)</li> <li>Best for: First-time setup, prototyping, teams evaluating AOS</li> <li>What it activates: Control Plane (channels) + Policy Plane (LLM routing with cloud API)</li> <li>What it doesn't include: 24/7 persistent operation, local inference, full Memory Plane setup</li> </ul> <p>\u2192 AOS Startup: Simple Build</p>"},{"location":"Getting-Started-With-Nanobot/#option-2-advanced-build-vps-local-ollama","title":"Option 2 \u2014 Advanced Build: VPS + Local Ollama","text":"<ul> <li>Setup time: 60-90 minutes</li> <li>Ongoing cost: $20-200/month (VPS server; inference costs $0 \u2014 runs locally)</li> <li>Best for: Privacy, self-hosted inference, 24/7 continuous operation, production teams</li> <li>What it activates: All three planes \u2014 Control, Policy, and Memory \u2014 with persistent storage and full governance configuration</li> </ul> <p>\u2192 AOS Startup: Advanced Build</p>"},{"location":"Getting-Started-With-Nanobot/#install-both-options","title":"Install (Both Options)","text":"<pre><code>git clone https://github.com/HKUDS/nanobot.git\ncd nanobot\npip install -e .\n</code></pre> <p>Or from PyPI: <pre><code>pip install nanobot-ai\n</code></pre></p>"},{"location":"Getting-Started-With-Nanobot/#what-you-have-after-setup","title":"What You Have After Setup","text":"<ul> <li>A running Nanobot agent connected to your LLM provider</li> <li>One or more channels configured (CLI, Discord, Slack, Telegram, etc.)</li> <li>14 built-in tools available: web search, file read/write, shell, GitHub, scheduling, MCP, subagents</li> <li>9 pre-built skills ready to activate: Obsidian, memory consolidation, summarize, cron, GitHub automation</li> <li>Cost tier routing active: requests are routed to cheapest-capable LLM by default</li> <li>Role-based access control and audit logging enabled</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#ready-to-go-further","title":"Ready to Go Further?","text":"<ul> <li>Set up multi-team governance and approval workflows \u2192 Security &amp; Governance Policies</li> <li>Fine-tune LLM providers and cost tiers \u2192 LLM Provider Setup Guide</li> <li>Build custom skills and automate complex workflows \u2192 Skills &amp; Tools Reference</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#documentation-map","title":"Documentation Map","text":""},{"location":"Getting-Started-With-Nanobot/#learn-the-architecture","title":"Learn the Architecture","text":"<ul> <li>Master Index \u2014 Deep dive into the 3-plane architecture (Control, Policy, Memory), how governance works, and understand the full system</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#operate-extend","title":"Operate &amp; Extend","text":"<ul> <li>Skills &amp; Tools Reference \u2014 Inventory of all 14 built-in tools and 9 pre-built skills; how to write custom skills</li> <li>Workflow Examples \u2014 Copy-paste ready workflows:</li> <li>Daily knowledge consolidation  </li> <li>Multi-channel content distribution  </li> <li>Customer support automation  </li> <li>Research agent  </li> <li>GitHub automation</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#govern-optimize","title":"Govern &amp; Optimize","text":"<ul> <li>Security &amp; Governance Policies \u2014 Role-based access, approval workflows, audit logging, cost allocation for multi-team deployments</li> <li>LLM Provider Setup Guide \u2014 Configure AI models (OpenRouter, Claude, OpenAI, local Ollama, Qwen, DeepSeek)</li> <li>Cost Calculator &amp; Optimization \u2014 Estimate your bill, optimize with multi-provider routing (save 60-70%), self-hosted vs. cloud break-even analysis</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#troubleshoot-recover","title":"Troubleshoot &amp; Recover","text":"<ul> <li>Emergency Recovery &amp; Troubleshooting \u2014 Diagnose and fix common deployment issues</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#reference","title":"Reference","text":"<ul> <li>Glossary \u2014 Definitions for AOS-specific terms: planes, tiers, SOUL.md, SKILL.md, approval gates, and more</li> </ul>"},{"location":"Getting-Started-With-Nanobot/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 1.3.0 Detailed pass: split \"Who Is This For?\" from capabilities into separate \"What Nanobot Does\" section; introduced Tier A/B/C cost routing in capabilities; expanded \"How Nanobot Works\" with per-plane config doc links, Obsidian explanation, Tier A link; merged redundant \"Quick Start\" + \"Choose Your Path\" into single \"Choose Your Deployment\" section with plane-activation context; moved install commands into deploy section; removed duplicate Ready for Production / Choose Your Path overlap; standardized em-dash spacing 2026-02-26 1.2.0 Rough first pass: fixed H1 to match filename; moved 3-plane architecture overview before Quick Start; removed orphaned bold tagline; added Glossary to Documentation Map 2026-02-26 1.1.0 Reviewed document structure; added Document Control header; fixed channel count (12\u219211); replaced negative \"Limitations\" with positive \"Ready for Production?\" section; reorganized Quick Start \u2192 Choose Your Path \u2192 Documentation Map flow for better readability; consolidated redundant sections; improved AOS alignment throughout 2026-02-26 1.0.0 Renamed from index.md and initial publication"},{"location":"Glossary/","title":"Glossary of Terms","text":"<p>Quick reference for technical terms, acronyms, and concepts used throughout the Nanobot documentation.</p>"},{"location":"Glossary/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.2.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> </ul>"},{"location":"Glossary/#a","title":"A","text":"<p>Agent Orchestration - see Orchestration.</p> <p>Allowlist - A list of specific users, channels, or tools that are explicitly approved to use sensitive features. Only items on the allowlist are allowed; everything else is blocked.</p> <p>API (Application Programming Interface) - A way for different programs to talk to each other. Think of it as a standardized menu that one program offers, so other programs know exactly what requests to make.</p> <p>Approval Gate - A policy rule that pauses execution and requires a human to explicitly authorize an action before it proceeds. Used for high-cost operations, sensitive tool calls, or escalated decisions. Defined in your governance policy and enforced by the Policy Plane.</p> <p>Artifacts - Files, notes, or records that the system creates and saves for later reference. In nanobot, artifacts are stored in Obsidian for audit trails and recovery.</p> <p>Audit Trail - A chronological record of all actions taken by nanobot: who requested what, which model was used, what it cost, and what was produced. Stored in Obsidian. Required for compliance, recovery, and debugging. Distinct from general logging in that audit trails are structured and append-only.</p> <p>Auth / Authentication - Proving who you are. Usually done with a password or API key.</p>"},{"location":"Glossary/#b","title":"B","text":"<p>Bot - Short for robot. In this context, nanobot is a software bot that listens to messages and responds automatically.</p> <p>Bash - A common command-line language used on Linux, Mac, and Windows (via WSL or Git Bash). We use it for installation and troubleshooting commands.</p>"},{"location":"Glossary/#c","title":"C","text":"<p>Channel - A conversation space. Examples: Discord channel, Slack channel, Telegram group. Nanobot can listen to multiple channels at once.</p> <p>Channel-Agnostic - Works the same way no matter which chat platform you use (Discord, Slack, Telegram, etc.). You don't need different rules for each platform.</p> <p>Context Window - The maximum amount of text an LLM can \"see\" at once, measured in tokens. Once a conversation exceeds the context window, older messages are cut off or must be summarized. This is why Memory Consolidation exists: it compresses old history to keep conversations within the context window without losing important information.</p> <p>Control Plane - see Plane.</p> <p>CLI (Command-Line Interface) - A way to interact with a computer by typing commands instead of clicking buttons. All our installation and troubleshooting uses the CLI.</p> <p>Cron - A tool that runs tasks on a schedule (e.g., \"every day at 9 AM\"). Named after the Greek word chronos (\u03c7\u03c1\u03cc\u03bd\u03bf\u03c2), meaning time.</p> <p>Config / Configuration - The settings file that tells nanobot how to behave (which channels to listen to, which LLM to use, etc.).</p> <p>Cost Ceiling - A hard limit on how much money the system will spend. Once the limit is reached, no more requests are processed until the budget resets.</p>"},{"location":"Glossary/#d","title":"D","text":"<p>Dashboard - A display that shows the current status of your system (e.g., \"How many tasks completed today?\" or \"What's the CPU usage?\").</p> <p>Degraded Mode - A fallback state where nanobot continues operating with reduced capability when a primary provider or service is unavailable. Example: if Claude (Tier A) is unreachable, nanobot automatically routes to a Tier B model instead of failing completely. Configured as part of the fallback chain in <code>config.json</code>.</p> <p>Delegation - Asking a subagent to handle a specific part of a task on behalf of the orchestrating agent.</p> <p>Deprecated - Old technology that still works but is being phased out. Using deprecated features is not recommended.</p>"},{"location":"Glossary/#e","title":"E","text":"<p>Escalation - Sending a decision \"up the chain\" because it needs human approval. Example: a high-cost operation gets escalated to a finance team member.</p> <p>Executor - Something that runs commands. The nanobot executor handles web searches, file operations, shell commands, etc.</p>"},{"location":"Glossary/#f","title":"F","text":"<p>Fallback - A backup plan. If your first choice fails, the fallback is automatically used instead.</p> <p>Firewall - A security tool that controls which network traffic is allowed in and out of a computer.</p>"},{"location":"Glossary/#g","title":"G","text":"<p>Gateway - The main entry point for nanobot. It listens for incoming messages and routes them to the right handler.</p> <p>Governance - The rules and policies that control how nanobot operates (who can use what, approval workflows, cost limits, etc.).</p>"},{"location":"Glossary/#h","title":"H","text":"<p>Hardening - Securing a system by removing vulnerabilities, applying patches, configuring firewalls, and restricting access. A \"hardened\" VPS has security best practices applied (firewall rules, SSH key-only auth, no unnecessary services running, etc.).</p> <p>Heartbeat - A periodic check to make sure the system is still alive and healthy. Like taking a pulse.</p> <p>Hot-Reload - Updating code or configuration without needing to restart the system. Changes take effect immediately.</p> <p>HTTPS - A secure version of HTTP (the protocol used to transfer web pages). The \"S\" stands for Secure.</p>"},{"location":"Glossary/#i","title":"I","text":"<p>Inference - When an AI model processes text and generates a response. \"Running inference\" means asking the AI a question.</p> <p>Injection - Installing or activating a new skill or tool at runtime, without restarting the system. You can inject a skill by pasting a repository link or using a <code>/skill install</code> command in chat. Distinct from code hot-reload (see Hot-Reload).</p> <p>Integration - Connecting two systems so they can work together. Discord integration means nanobot can listen to Discord.</p>"},{"location":"Glossary/#j","title":"J","text":"<p>JSON (JavaScript Object Notation) - A standardized format for storing and sharing data. Looks like: <pre><code>{\n  \"name\": \"Alice\",\n  \"age\": 30\n}\n</code></pre></p>"},{"location":"Glossary/#k","title":"K","text":"<p>KPI (Key Performance Indicator) - A measurable way to track if something is working well. Examples: \"cost per successful task\" or \"errors per day.\"</p>"},{"location":"Glossary/#l","title":"L","text":"<p>LLM (Large Language Model) - A powerful AI trained on lots of text. Examples: Claude, GPT-4, Qwen. Nanobot uses LLMs to understand questions and generate responses.</p> <p>Log / Logging - Recording what happens in a system so you can review it later. Nanobot logs all requests for security and debugging.</p>"},{"location":"Glossary/#m","title":"M","text":"<p>MCP (Model Context Protocol) - A standard way to connect AI models to external tools (databases, file systems, APIs). Think of it as a universal connector.</p> <p>Memory Consolidation - Summarizing old conversations automatically, so the system doesn't get bogged down with endless history.</p> <p>Memory Plane - see Plane.</p> <p>Middleware - Software that sits in the middle of two other systems and helps them communicate.</p> <p>Model Routing - Deciding which AI model to use for each task. \"Route this to Claude because it's complex\" or \"Route this to a cheap model because it's simple.\"</p>"},{"location":"Glossary/#n","title":"N","text":"<p>Node - A single computer in a network. A \"VPS node\" is a virtual computer in the cloud.</p> <p>Notification - A message sent to alert someone about something important.</p>"},{"location":"Glossary/#o","title":"O","text":"<p>OAuth - A secure way to log in with your existing account (e.g., \"Sign in with Discord\").</p> <p>Obsidian - A note-taking app used by nanobot to store memory, audit trails, and artifacts. It runs on your computer.</p> <p>Orchestration - Coordinating multiple agents or tasks to work together toward a shared goal. Example: one subagent researches competitors while a second verifies findings, and a third writes the report. The orchestrator manages the handoffs and assembles the result.</p> <p>Operator - A human user who controls nanobot. You're the operator.</p>"},{"location":"Glossary/#p","title":"P","text":"<p>Payload - The data being sent or received. E.g., the message content is the payload.</p> <p>Permission - The right to do something. \"Shell execute permission\" means you're allowed to run shell commands.</p> <p>Plane - One of the three architectural layers of the Nanobot AOS. Separating the system into planes keeps concerns independent: you can change your chat platform without touching your LLM policy, and change your LLM policy without changing how data is stored. - Control Plane \u2014 The message intake layer. Receives requests from Discord, Slack, Telegram, etc. and routes them into the system. - Policy Plane \u2014 The governance layer. Decides which model to use, enforces cost limits, applies approval gates, and manages RBAC. - Memory Plane \u2014 The storage layer. Obsidian stores artifacts, audit trails, session history, and knowledge for replay and recovery.</p> <p>Policy - A rule about how something should work. \"Require approval for costs over $50\" is a policy.</p> <p>Policy Plane - see Plane.</p> <p>PR (Pull Request) - A way to propose changes to code on GitHub. \"Create a PR\" means suggest a code change.</p>"},{"location":"Glossary/#q","title":"Q","text":"<p>Query - A question or search request.</p>"},{"location":"Glossary/#r","title":"R","text":"<p>RBAC (Role-Based Access Control) - A security system where people have roles (operator, reviewer, owner), and each role has different permissions.</p> <p>REST API - A standard way to request information from a program over the internet. Obsidian has a REST API so nanobot can read and write notes.</p> <p>Revert - Go back to a previous state. \"Revert this file\" means restore an old version.</p> <p>Recovery - Restoring a system after an error or crash. We have recovery procedures in the Emergency guide.</p>"},{"location":"Glossary/#s","title":"S","text":"<p>Sandbox - An isolated environment where untrusted code can run safely without affecting the rest of the system.</p> <p>Session - A conversation or work period. Each user gets their own session so conversations don't mix.</p> <p>Skill - A pre-built bundle of tools configured for a specific task. Example: the \"Obsidian\" skill reads/writes notes.</p> <p>SKILL.md - The metadata file at the root of every custom skill folder. Defines the skill's name, description, version, required tools, permissions, and workflow instructions in YAML front matter + Markdown. Nanobot reads this file to register and validate a skill. See Skills &amp; Tools Complete Guide for the full format.</p> <p>SOUL.md - A root-level personality file at <code>~/.nanobot/SOUL.md</code>. Loaded on every startup, it defines persistent behavioral instructions for a nanobot instance: tone, default workflow style, and standing routines (e.g., nightly journal). Think of it as the agent's standing operating procedure.</p> <p>SSH (Secure Shell) - A secure way to connect to and control a remote computer from your computer.</p> <p>Subagent - An independent agent spawned to handle a specific part of a task. Subagents have their own context and memory, run in parallel, and report results back to the parent agent. See also Orchestration.</p>"},{"location":"Glossary/#t","title":"T","text":"<p>Tailscale - A tool that creates a secure, private network between computers (even across the internet), so they can communicate safely.</p> <p>Tier / Model Tier - A cost and capability classification for LLM models used in the AOS routing policy: - Tier A (Premium): Claude Opus, GPT-4o \u2014 highest capability, highest cost. Used for complex research, synthesis, high-stakes decisions. - Tier B (Standard): Claude Sonnet/Haiku, GPT-4o-mini \u2014 balanced. Used for most production tasks. - Tier C (Budget): Qwen, DeepSeek, local Ollama \u2014 lowest cost, often free. Used for routine tasks like bookkeeping, summaries, high-volume channels.</p> <p>Channel-to-tier mapping is defined in your governance policy. See Security &amp; Governance Policies.</p> <p>Token - This word has two distinct meanings in nanobot documentation. Context makes the meaning clear: 1. Auth token \u2014 A secret string that proves you are authorized to use a service (e.g., a Discord bot token or API key). Treat like a password. 2. LLM token \u2014 A unit of text (roughly one word or subword) used to measure how much text an AI model processes. LLM costs are priced per million tokens. Example: a 500-word message uses ~650 tokens.</p> <p>Tool - An action nanobot can perform. Examples: web search, file read, shell execute.</p> <p>Troubleshoot - Figure out what's wrong and fix it.</p>"},{"location":"Glossary/#u","title":"U","text":"<p>UFW (Uncomplicated Firewall) - A firewall used on Linux systems to control network traffic.</p> <p>Uptime - How long the system has been running without interruption. \"99% uptime\" means it's down for only 1% of the time.</p>"},{"location":"Glossary/#v","title":"V","text":"<p>Vault (Obsidian) - The folder where Obsidian stores all your notes.</p> <p>VPS (Virtual Private Server) - A rented computer in the cloud that you can control and customize.</p>"},{"location":"Glossary/#w","title":"W","text":"<p>Webhook - A way for one system to automatically send data to another system when something happens. Example: \"When a PR is created, send a message to Discord.\"</p> <p>Workspace - The folder where nanobot stores its files and configuration.</p> <p>WSL (Windows Subsystem for Linux) - A feature in Windows that lets you run a real Linux environment directly on your Windows computer, without needing a virtual machine. Useful for running Linux tools, bash scripts, and development workflows natively.</p> <p>WSL2 - The second generation of Windows Subsystem for Linux. WSL2 uses a lightweight virtual machine for better performance and full Linux kernel compatibility. Recommended for most users who want the best Linux experience on Windows.</p>"},{"location":"Glossary/#x-z","title":"X \u2014 Z","text":"<p>No entries currently. Suggest a term</p>"},{"location":"Glossary/#common-acronyms-quick-reference","title":"Common Acronyms Quick Reference","text":"Acronym Meaning Used For API Application Programming Interface Connecting systems CLI Command-Line Interface Typing commands HTTP/HTTPS HyperText Transfer Protocol (Secure) Web communication JSON JavaScript Object Notation Data format KPI Key Performance Indicator Measuring success LLM Large Language Model AI model (Claude, GPT, etc.) MCP Model Context Protocol Connecting tools OAuth Open Authentication Secure login PR Pull Request Code changes on GitHub RBAC Role-Based Access Control User permissions SSH Secure Shell Remote computer access UFW Uncomplicated Firewall Network security VPS Virtual Private Server Cloud computer"},{"location":"Glossary/#useful-concepts-explained-simply","title":"Useful Concepts Explained Simply","text":"<p>What's an LLM? An LLM (Large Language Model) is artificial intelligence trained on massive amounts of text. It's really good at understanding language and writing. Claude, GPT-4, and Qwen are all LLMs.</p> <p>What's an API Key? An API key is like a password for a service. When you sign up for OpenAI, they give you an API key. You put that key in your config so OpenAI knows it's you making requests. Treat it like a password: don't share it.</p> <p>What's a VPS? A VPS (Virtual Private Server) is a computer you rent in the cloud. It's like having a dedicated computer running somewhere else. You can SSH into it and run nanobot on it 24/7.</p> <p>What's Obsidian? Obsidian is a note-taking app. It runs on your computer and stores notes as markdown files in a folder. Nanobot can read and write to Obsidian, so it remembers things across conversations.</p>"},{"location":"Glossary/#common-misunderstandings-clarified","title":"Common Misunderstandings Clarified","text":"<p>\u274c \"Nanobot is only for Discord\" \u2705 Truth: Nanobot works with Discord, Slack, Telegram, Feishu, WhatsApp, Email, and more. The platform doesn't matter\u2014the features work the same.</p> <p>\u274c \"API Key = Password\" \u2705 Truth: Similar but different. A password proves who you are. An API key lets a program do things on your behalf. Treat both as secrets!</p> <p>\u274c \"LLM = ChatGPT\" \u2705 Truth: ChatGPT is one LLM. Claude, Gemini, GPT-4, Qwen, and Ollama are also LLMs. An LLM is the category; ChatGPT is one example.</p> <p>\u274c \"Bash = Python\" \u2705 Truth: Both are programming languages, but different uses. Bash is for command-line/shell tasks (installing software, running scripts). Python is for writing complex programs. Our installation uses Bash; nanobot itself uses Python internally.</p> <p>\u274c \"Allowlist = Allowance (like parents give kids pocket money)\" \u2705 Truth: An allowlist is a security list of approved things. Only items on the list are allowed; everything else is blocked. Think of it like a nightclub bouncer with a list of approved guests.</p> <p>\u274c \"Token = Cryptocurrency\" \u2705 Truth: In our docs, \"token\" has two meanings: (1) a unit of text (~1 word), used for counting AI usage cost, or (2) a secret string (like API key) used for authentication. Not cryptocurrency! Context makes the meaning clear.</p> <p>\u274c \"MCP = a new AI model\" \u2705 Truth: MCP (Model Context Protocol) is a standard for connecting external tools/services to AI models. Like an adapter that lets nanobot use databases, file systems, APIs, and custom business logic.</p> <p>\u274c \"Vault = where nanobot stores money\" \u2705 Truth: In our docs, \"vault\" always means an Obsidian vault\u2014a folder containing your notes that nanobot can read/write. It's called a \"vault\" because it's secure and locked down.</p> <p>Have a term that's confusing? Submit an issue or let us know!</p>"},{"location":"Glossary/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 1.2.0 Added 6 missing AOS terms: Approval Gate, Audit Trail, Context Window, Degraded Mode, SKILL.md, Tier/Model Tier 2026-02-26 1.1.0 Review pass: merged Agent Orchestration into Orchestration, added Control Plane + SOUL.md entries, expanded Plane and Token entries, fixed Injection definition, fixed Sub-Agent \u2192 Subagent, collapsed empty X/Y/Z sections"},{"location":"LLM-Provider-Setup-Guide/","title":"LLM Provider Setup Guide","text":"<p>Configure nanobot to use different AI (artificial intelligence) models based on workflow type, cost, and capability requirements.</p>"},{"location":"LLM-Provider-Setup-Guide/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.3.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> </ul>"},{"location":"LLM-Provider-Setup-Guide/#1-overview","title":"1. Overview","text":"<p>Nanobot supports 100+ LLM (Large Language Model) models via unified configuration. Choose your provider based on: - Cost - Qwen, DeepSeek cheaper; Opus more expensive but capable - Latency - Local faster; cloud slightly slower - Capability - Opus best for complex reasoning; Haiku fastest - Data residency - Local Ollama for sensitive data</p>"},{"location":"LLM-Provider-Setup-Guide/#2-supported-providers","title":"2. Supported Providers","text":"Provider Models Setup Difficulty Cost Latency OpenRouter (Recommended) 100+ (Claude, GPT, Qwen, etc.) \u2b50 Easy $1-5/M Medium Anthropic Direct Claude Opus, Sonnet, Haiku \u2b50 Easy $3-15/M Medium OpenAI Direct GPT-4, GPT-4o, GPT-3.5 \u2b50 Easy $5-30/M Fast Local (Ollama) Llama, Mistral, etc. \u2b50\u2b50 Moderate $0 Fast DeepSeek DeepSeek-Chat, Code \u2b50 Easy $0.14/M Medium Qwen (Alibaba) Qwen-Plus, -Turbo \u2b50 Easy $0.008/M Medium Gemini (Google) Gemini Pro, Ultra \u2b50 Easy $0.5-10/M Medium Cohere Command R, R+ \u2b50 Easy $0.5-3/M Medium <p>Linux/Mac Terminal Tip: To paste commands \u2014 middle-click (fastest), or <code>Ctrl+Shift+C</code> / <code>Ctrl+Shift+V</code>, or right-click \u2192 Paste.</p>"},{"location":"LLM-Provider-Setup-Guide/#3-quick-setup-5-minutes","title":"3. Quick Setup (5 minutes)","text":""},{"location":"LLM-Provider-Setup-Guide/#option-a-openrouter-all-in-one","title":"Option A: OpenRouter (All-in-One)","text":"<p>\u23f1\ufe0f ~5 minutes to complete OpenRouter gives you access to 100+ models with one API key. (An API key is like a password that lets nanobot connect to OpenRouter's servers.)</p>"},{"location":"LLM-Provider-Setup-Guide/#before-you-start","title":"Before You Start","text":"<ul> <li>\u2610 You have a credit card (free tier gives small free allocation)</li> <li>\u2610 Internet connection working</li> <li>\u2610 Text editor to edit config file</li> <li>\u2610 Terminal/shell access to nanobot</li> </ul> <p>Step 1: Get API Key \u23f1\ufe0f ~2 minutes</p> <ul> <li>Visit https://openrouter.ai/keys</li> <li>Sign up or log in</li> <li>Copy your API key (this is your unique password\u2014keep it secret!)</li> </ul> <p>Step 2: Configure \u23f1\ufe0f ~1 minute</p> <p><pre><code>{\n  \"providers\": {\n    \"openrouter\": {\n      \"apiKey\": \"sk-or-v1-YOUR_KEY_HERE\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"anthropic/claude-opus-4-5\",\n      \"provider\": \"openrouter\"\n    }\n  }\n}\n</code></pre> Save to <code>~/.nanobot/config.json</code> (or set <code>OPENROUTER_API_KEY</code> environment variable\u2014this is a way to store the API key so programs can read it)</p> <p>Step 3: Test <pre><code># Start nanobot interactive mode and ask it a question\nnanobot agent\nask a question\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#option-b-local-ollama","title":"Option B: Local Ollama","text":"<p>\u23f1\ufe0f ~10 minutes to complete Perfect for sensitive data, no API costs. (You run the AI on your own computer instead of using a cloud service.)</p>"},{"location":"LLM-Provider-Setup-Guide/#before-you-start_1","title":"Before You Start","text":"<ul> <li>\u2610 Ollama installed on your local machine</li> <li>\u2610 GPU or CPU with at least 4GB RAM (8GB recommended)</li> <li>\u2610 10GB+ disk space for models</li> <li>\u2610 Network access from VPS to local machine</li> </ul> <p>Step 1: Install Ollama \u23f1\ufe0f ~2 minutes</p> <ul> <li>Download from https://ollama.ai</li> <li>Install on your machine</li> </ul> <p>Step 2: Pull a Model \u23f1\ufe0f ~2 minutes</p> <p><pre><code># 'ollama pull' downloads an AI model to your machine (like downloading a file)\n# 'mistral' is the name of the model\nollama pull mistral\n</code></pre> \u2705 Expected: \"pulling manifest\" then \"success\"</p> <p>Step 3: Configure nanobot \u23f1\ufe0f ~1 minute <pre><code>{\n  \"providers\": {\n    \"ollama\": {\n      \"baseUrl\": \"http://localhost:11434\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"mistral\",\n      \"provider\": \"ollama\"\n    }\n  }\n}\n</code></pre></p> <p>Step 4: Start Ollama <pre><code># ollama serve starts the AI server on your machine\n# Keep this running in a terminal (it will listen for nanobot's requests)\nollama serve\n</code></pre> (Keep this running in background)</p> <p>Step 5: Test <pre><code>nanobot agent\nask a question\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#option-c-direct-anthropic-claude","title":"Option C: Direct Anthropic (Claude)","text":"<p>\u23f1\ufe0f ~5 minutes to complete Best if you're using Claude exclusively and want to avoid OpenRouter as an intermediary. Gives access to Anthropic's prompt caching features (see \u00a76).</p>"},{"location":"LLM-Provider-Setup-Guide/#before-you-start_2","title":"Before You Start","text":"<ul> <li>\u2610 Anthropic account at https://console.anthropic.com</li> <li>\u2610 Credit card (free tier credits available on signup)</li> <li>\u2610 Text editor to edit config file</li> </ul> <p>Step 1: Get API Key \u23f1\ufe0f ~2 minutes</p> <ul> <li>Visit https://console.anthropic.com/settings/keys</li> <li>Click Create Key</li> <li>Copy the key (shown once\u2014save it securely)</li> </ul> <p>Step 2: Configure \u23f1\ufe0f ~1 minute</p> <p><pre><code>{\n  \"providers\": {\n    \"anthropic\": {\n      \"apiKey\": \"sk-ant-YOUR_KEY_HERE\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"claude-opus-4-5\",\n      \"provider\": \"anthropic\"\n    }\n  }\n}\n</code></pre> Save to <code>~/.nanobot/config.json</code></p> <p>Step 3: Test <pre><code>nanobot agent\nask a question\n</code></pre> \u2705 Expected: Claude responds within a few seconds</p>"},{"location":"LLM-Provider-Setup-Guide/#4-multi-provider-setup-cost-optimization","title":"4. Multi-Provider Setup (Cost Optimization)","text":"<p>Use different models for different workflows:</p> <pre><code>{\n  \"providers\": {\n    \"openrouter\": {\n      \"apiKey\": \"sk-or-v1-...\"\n    }\n  },\n  \"agents\": {\n    \"default\": {\n      \"model\": \"openai/gpt-4-turbo\",\n      \"provider\": \"openrouter\"\n    },\n    \"research\": {\n      \"model\": \"anthropic/claude-opus-4-5\",\n      \"provider\": \"openrouter\"\n    },\n    \"bookkeeping\": {\n      \"model\": \"qwen/qwen-plus\",\n      \"provider\": \"openrouter\"\n    },\n    \"fast-response\": {\n      \"model\": \"anthropic/claude-haiku\",\n      \"provider\": \"openrouter\"\n    }\n  }\n}\n</code></pre> <p>Then configure channel routing in your governance policy to map channels to agents \u2014 see Security &amp; Governance Policies \u00a75 (Provider Routing by Workflow) for full routing config examples.</p>"},{"location":"LLM-Provider-Setup-Guide/#5-token-budgeting-cost-control","title":"5. Token Budgeting &amp; Cost Control","text":"<p>Configure per-request and per-agent limits. (Tokens = words, roughly. This controls how long responses can be.)</p> <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"maxInputTokens\": 8000,\n      \"maxOutputTokens\": 4096,\n      \"temperature\": 0.1,\n      \"maxIterations\": 40\n    },\n    \"research\": {\n      \"maxInputTokens\": 32000,\n      \"maxOutputTokens\": 8192,\n      \"temperature\": 0.3,\n      \"maxIterations\": 40\n    }\n  }\n}\n</code></pre> <p>What each means: - maxInputTokens = Maximum words/context to send to AI (8000 \u2248 6,000 words) - maxOutputTokens = Maximum words in response (4096 \u2248 3,000 words) - temperature = How \"creative\" the AI is (0.1 = logical, 1.0 = random) - maxIterations = How many times AI can self-correct (higher = more thinking, more cost)</p>"},{"location":"LLM-Provider-Setup-Guide/#6-prompt-caching-cost-optimization","title":"6. Prompt Caching (Cost Optimization)","text":"<p>Anthropic Claude supports prompt caching. (Caching = saving frequently-used context so you don't re-send it every time. This saves money!) Enable to reduce costs on repeated queries:</p> <pre><code>{\n  \"providers\": {\n    \"anthropic\": {\n      \"apiKey\": \"sk-ant-...\",\n      \"cacheControl\": true\n    }\n  }\n}\n</code></pre> <p>This re-uses cached prompts for 5 minutes. Cached tokens are billed at ~10% of normal cost, so total bill savings depend on your cache hit rate (typically 50\u201380% on repeated prompts).</p>"},{"location":"LLM-Provider-Setup-Guide/#7-environment-variable-override","title":"7. Environment Variable Override","text":"<p>When to use: Override the config-file model for a single command \u2014 useful for one-off tests, debugging a specific model, or CI/CD pipelines where you don't want to edit config files.</p> <pre><code># Use a specific model for one command only\nNANOBOT_MODEL=openai/gpt-4 nanobot agent\n\n# Override provider too\nNANOBOT_PROVIDER=anthropic NANOBOT_MODEL=claude-opus-4-5 nanobot agent\n</code></pre> <p>This does not change <code>config.json</code> \u2014 the override only applies to that command invocation.</p>"},{"location":"LLM-Provider-Setup-Guide/#8-web-search-api-brave","title":"8. Web Search API (Brave)","text":"<p>The <code>web_search</code> tool requires a Brave Search API key. This is separate from your LLM provider \u2014 it gives nanobot the ability to search the live web in addition to reasoning with an LLM.</p> <p>Get a key (~2 minutes): 1. Visit https://api.search.brave.com/ 2. Sign up \u2192 Free tier gives 2,000 queries/month at no cost 3. Copy your API key</p> <p>Add to config: <pre><code>{\n  \"braveApiKey\": \"YOUR_BRAVE_API_KEY\"\n}\n</code></pre></p> <p>Without this key: <code>web_search</code> tool will be unavailable. All other tools and LLM providers remain functional.</p>"},{"location":"LLM-Provider-Setup-Guide/#9-fallback-degraded-mode","title":"9. Fallback &amp; Degraded Mode","text":"<p>If primary provider fails, fall back to secondary:</p> <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"fallbackChain\": [\n        \"openrouter\",\n        \"anthropic\",\n        \"ollama\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Nanobot tries first provider, falls back to next on error.</p>"},{"location":"LLM-Provider-Setup-Guide/#10-multi-model-synergy-advanced-agentic-workflows","title":"10. Multi-Model Synergy &amp; Advanced Agentic Workflows","text":"<p>Beyond simple failover, you can design workflows where multiple specialized LLMs collaborate to solve complex problems more effectively and cheaply than a single expensive model.</p>"},{"location":"LLM-Provider-Setup-Guide/#collaborative-roles-synergy","title":"Collaborative Roles &amp; Synergy","text":"<p>When LLMs work together within the Nanobot AOS, they form a Multi-Agent System. By assigning specialized roles, each model handles what it does best:</p> <ul> <li>The Architect (High Intelligence): Premium model like Claude 3.5 Sonnet or GPT-4o. Handles high-level planning, complex reasoning, and final synthesis.</li> <li>The Worker (Speed/Efficiency): Faster, cheaper model like Claude 3 Haiku or DeepSeek. Handles repetitive tasks, data extraction, initial drafting, formatting.</li> <li>The Critic/Judge (Quality Control): Independent model (often different provider to avoid bias) that reviews outputs for errors or hallucinations.</li> </ul>"},{"location":"LLM-Provider-Setup-Guide/#synergy-schemes-in-practice","title":"Synergy Schemes in Practice","text":"Scheme Pattern Benefit Draft-and-Polish Worker (Draft) \u2192 Architect (Review) High-quality output at a fraction of the Architect's full cost Search-and-Filter Worker (Scout) \u2192 Architect (Analyst) Worker narrows 50 web results to 5 most relevant, saving Architect's expensive context window Verification Loop Model A (Generator) \u2194 Model B (Auditor) Model B approves shell commands or code before execution for security Delegation Chain Architect (Plan) \u2192 Worker (Execute) \u2192 Architect (Verify) Architect handles intelligence; Worker handles repetitive work; loop closes on verification"},{"location":"LLM-Provider-Setup-Guide/#implementation-via-nanobot-skills","title":"Implementation via Nanobot Skills","text":"<p>A Nanobot skill implements multi-model collaboration by calling the LLM multiple times within its <code>implementation.py</code>. Because Nanobot is channel-agnostic, this orchestration happens behind the scenes\u2014users see only the final, verified result in Discord/Slack/Telegram/etc.</p> <p>Example: \"Secure Coder\" Skill</p> <ol> <li>Step 1: Skill sends request to GPT-4o \u2192 writes Python script (cost: ~$0.01)</li> <li>Step 2: Skill sends output to local Llama 3 (via Ollama) with security review prompt (cost: $0.00)</li> <li>Step 3: If no issues found, code saved to workspace. If issues found, loop back to GPT-4o with error report for rewrite.</li> </ol> <p>Cost Example: - Using GPT-4 alone for all steps: ~$0.15-0.30 - Using GPT-4o for planning + Haiku for drafting + local Llama for verification: ~$0.03-0.05 (80% savings)</p>"},{"location":"LLM-Provider-Setup-Guide/#setup-via-skill-configuration","title":"Setup via Skill Configuration","text":"<p>Multi-model workflows are implemented in a skill's <code>SKILL.md</code> instructions and <code>implementation.py</code>. The <code>SKILL.md</code> describes the workflow in natural language; the implementation script handles the LLM calls.</p> <p>SKILL.md excerpt (research-synthesis skill): <pre><code>---\nname: research-synthesis\ndescription: \"Multi-model research workflow: fast model scouts, premium model synthesizes\"\ntools-required:\n  - web_search\n  - summarize\nmodels-required:\n  - scout: qwen (cheap, fast \u2014 for initial search and filtering)\n  - analyst: claude-opus (premium \u2014 for deep synthesis)\n  - critic: ollama-mistral (local/free \u2014 for quality review)\n---\n\n## Workflow\n\n1. Use the **scout model** (Qwen via OpenRouter) to run web_search on the topic and summarize\n   each result in 1-2 sentences. Return the top 5 most relevant summaries.\n2. Pass those 5 summaries to the **analyst model** (Claude Opus). Ask it to synthesize a\n   detailed analysis with citations.\n3. Pass the analyst's output to the **critic model** (Ollama Mistral) with the prompt:\n   \"Check this analysis for factual errors, missing citations, and unclear claims.\"\n4. If the critic flags issues, loop back to step 2 with the critique appended.\n5. Return the final verified synthesis to the user.\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#global-routing-with-tiered-configuration","title":"Global Routing with Tiered Configuration","text":"<p>You can also define multi-model synergy at the organization level via <code>config.json</code>. Different channels or teams automatically route to different model combinations:</p> <pre><code>{\n  \"llm_routing\": {\n    \"rules\": [\n      {\n        \"channel\": \"#admin-*\",\n        \"primary\": \"anthropic/claude-opus\",\n        \"secondary\": \"openrouter/qwen\",\n        \"verification\": \"local/ollama\"\n      },\n      {\n        \"channel\": \"#general\",\n        \"primary\": \"openrouter/qwen\",\n        \"secondary\": \"local/ollama\"\n      },\n      {\n        \"channel\": \"#research-*\",\n        \"primary\": \"anthropic/claude-opus\",\n        \"secondary\": \"anthropic/claude-haiku\",\n        \"verification\": \"openrouter/deepseek\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Result: Different \"brains\" automatically handle different organizational responsibilities, optimizing both cost and quality.</p>"},{"location":"LLM-Provider-Setup-Guide/#11-testing-troubleshooting","title":"11. Testing &amp; Troubleshooting","text":"<p>Test provider connection: <pre><code>nanobot doctor\n</code></pre></p> <p>Expected output: <pre><code>Provider: openrouter \u2713 Connected\nModel: claude-opus-4-5 \u2713 Available\nTokens available: Yes \u2713\n</code></pre></p> Issue Check <code>401 Unauthorized</code> Verify API key format and validity <code>Model not found</code> Confirm model name is correct for provider <code>Rate limited</code> Wait or upgrade API plan <code>Timeout</code> Check network connection or try different model"},{"location":"LLM-Provider-Setup-Guide/#12-common-mistakes-solutions","title":"12. Common Mistakes &amp; Solutions","text":""},{"location":"LLM-Provider-Setup-Guide/#mistake-1-api-key-has-extra-spaces","title":"\u274c Mistake 1: API Key Has Extra Spaces","text":"<p>Problem: <code>401 Unauthorized</code> or <code>Invalid API key</code> Why: Copy/paste sometimes includes leading/trailing whitespace Fix: <pre><code># Double-check the key has no spaces\necho \"YOUR_API_KEY\" | wc -c  # Count characters including any spaces\n# Paste fresh key, remove any spaces, then test\nnanobot doctor\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#mistake-2-wrong-model-name-for-provider","title":"\u274c Mistake 2: Wrong Model Name for Provider","text":"<p>Problem: <code>Model not found</code> or <code>Unknown model</code> Why: Each provider uses different model naming (Claude 3 vs claude-3-opus vs claude-opus-4-5) Fix: 1. Check provider documentation for exact model names 2. For OpenRouter, browse https://openrouter.ai/models 3. For Ollama, run <code>ollama list</code> to see available models 4. Update config with correct name</p>"},{"location":"LLM-Provider-Setup-Guide/#mistake-3-temperature-token-settings-too-high","title":"\u274c Mistake 3: Temperature &amp; Token Settings Too High","text":"<p>Problem: Very expensive bills, slow responses, incoherent output Why: High temperature (&gt;0.8) makes AI more random; large token limits are expensive Fix: <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"temperature\": 0.1,        // Use 0.1-0.3 for factual tasks\n      \"maxOutputTokens\": 1000    // Keep reasonable (500-2000)\n    }\n  }\n}\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#mistake-4-forgetting-to-start-ollama-local","title":"\u274c Mistake 4: Forgetting to Start Ollama (Local)","text":"<p>Problem: Nanobot runs but says \"Ollama unreachable\" Why: Ollama must be running as a background service Fix: <pre><code># Start Ollama in a new terminal\nollama serve\n\n# In another terminal, verify it's running\ncurl http://localhost:11434/api/tags\n# Should show your models\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#mistake-5-setting-up-fallback-chain-backwards","title":"\u274c Mistake 5: Setting Up Fallback Chain Backwards","text":"<p>Problem: Always uses expensive model even though cheap one is available Why: Fallback order matters; nanobot tries providers in config order Fix: Put cheap models first: <pre><code>{\n  \"fallbackProviders\": [\n    \"openrouter:qwen\",       // Try cheap first\n    \"openrouter:claude-opus\" // Fall back to expensive\n  ]\n}\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#13-aos-integration-governance","title":"13. AOS Integration &amp; Governance","text":"<p>LLM provider selections plug directly into the AOS 3-plane governance model. Once providers are configured here, you control which provider runs where through your governance policy \u2014 not by editing this file.</p> <p>Typical channel-to-model mapping:</p> Channel Pattern Recommended Model Reason <code>#bk-*</code> Qwen or DeepSeek (Tier C) Routine bookkeeping; low risk; cheapest <code>#prd-*-analytics</code> Claude Haiku or GPT-4o-mini (Tier B) Fast, moderate cost <code>#prd-*-marketing</code> Claude Sonnet (Tier B-A) Quality writing; moderate cost <code>#res-*</code> Claude Opus or GPT-4o (Tier A) Complex synthesis; accuracy matters <code>#admin-*</code> Claude Opus + local verification High responsibility; use Verification Loop (\u00a710) <code>#general</code> Qwen or local Ollama (Tier C/Free) High volume; keep costs low <p>Governance setup steps: 1. Configure all providers you'll use in <code>~/.nanobot/config.json</code> (this guide) 2. Define channel routing rules in your governance policy \u2014 see Security &amp; Governance Policies \u00a75 3. Set per-team budget caps \u2014 see Cost Calculator &amp; Optimization 4. Test with <code>nanobot doctor</code> to confirm all providers are reachable</p> <p>Provider routing is policy-plane configuration \u2014 operations staff can adjust it without touching this guide or your provider credentials.</p>"},{"location":"LLM-Provider-Setup-Guide/#14-related-documents","title":"14. Related Documents","text":"<ul> <li>Cost Calculator &amp; Optimization \u2014 Per-provider cost matrix and monthly spend estimation</li> <li>Security &amp; Governance Policies \u2014 LLM provider routing, approval workflows, cost allocation</li> <li>AOS Startup: Advanced Build \u2014 Ollama setup and configuration</li> <li>AOS Startup: Simple Build \u2014 Quick cloud-based setup</li> <li>Master Index \u2014 Complete system documentation</li> </ul>"},{"location":"LLM-Provider-Setup-Guide/#15-revision-history","title":"15. Revision History","text":"Date Version Change 2026-02-26 1.3.0 Review pass: completed Option C format, expanded \u00a77 (env override) and \u00a78 (Brave API), expanded \u00a713 (AOS governance table), fixed \u00a710 SKILL.md schema, clarified cost/M notation, converted copy/paste tip to inline callout 2026-02-26 1.2.0 Added \"Multi-Model Synergy &amp; Advanced Agentic Workflows\" section covering collaborative LLM patterns, skill-based coordination, and global routing 2026-02-26 1.1.0 Updated cross-references to consolidated docs; fixed section numbering; added related documents section 2026-02-25 1.0.0 Initial guide covering 8 major providers, multi-provider setup, cost controls, and caching"},{"location":"Master-Index/","title":"Nanobot Agentic Operating System Master Index","text":""},{"location":"Master-Index/#document-control","title":"Document Control","text":"<ul> <li>Owner: Nanobot Community</li> <li>Version: 2.2.0</li> <li>Last Updated: February 26, 2026</li> <li>Status: Active</li> <li>Purpose: Architecture reference and documentation navigator for the full AOS</li> </ul> <p>Repository: HKUDS/nanobot Nanobot Version: v0.1.4 and later</p>"},{"location":"Master-Index/#1-purpose","title":"1. Purpose","text":"<p>This document is the control index for the Nanobot documentation set. It explains how multiple communication channels, LLM (Large Language Model) governance, and Obsidian memory work together as one coordinated system\u2014independent of which chat platform (Discord, Slack, Telegram, Feishu, etc.) you use.</p>"},{"location":"Master-Index/#11-executive-summary-one-page","title":"1.1 Executive Summary (One-Page)","text":"<p>The Nanobot Agentic Operating System is a three-plane, channel-agnostic operating model: - Control Plane (Multi-Channel): workflow intake via Discord, Slack, Telegram, Feishu, or other platforms; approvals and operator visibility. - Policy Plane (LLM Governance): model routing (Claude, GPT, Qwen, Ollama, etc.), risk gates, budget controls, and cost optimization. - Memory Plane (Obsidian): durable records, audit trails, recovery evidence, and long-term knowledge indexing.</p> <p>Nanobot is the orchestration engine that powers the system. It listens to messages from any integrated channel, routes them through your policies, executes tasks (shell commands, file operations, web research, API calls, MCP (Model Context Protocol) tools, scheduled jobs), remembers what it learns, and sends results back to your chosen chat platform.</p> <p>How it works in practice: 1. Operator sends request in a policy-approved channel (e.g., Discord #prd-widget-marketing, Slack #prd-widget-marketing, Telegram group, or any supported platform). 2. Nanobot receives the message via channel integration. 3. LLM policy routes to appropriate model tier (Claude, GPT, local Ollama, etc.) with cost/security constraints. 4. Nanobot executes tasks: web search (Brave API), file read/write/edit, shell commands, GitHub automation, weather data, MCP tool calls, cron tasks, or spawns parallel subagents. 5. Results are logged with structured metadata (request_id, project_id, tokens, cost, timing). 6. Response is posted back to the requesting channel with citations, confidence notes, and references. 7. Structured artifacts are written to Obsidian for replay, audit, and recovery.</p>"},{"location":"Master-Index/#example-scenario-product-campaign-research-to-action-channel-independent","title":"Example Scenario: Product Campaign Research to Action (Channel-Independent)","text":"<ol> <li>Operator asks in Slack #prd-widget-marketing: \"Find 3 competitor campaigns this week and propose one test we can run.\"</li> <li>Nanobot receives message via Slack channel integration.</li> <li>Policy routes to model trained on current data (e.g., Claude Opus via OpenRouter).</li> <li>Nanobot invokes: web_search tool (Brave API) \u2192 retrieves competitor campaign data with cost/context controls.</li> <li>Web results \u2192 summarize skill \u2192 synthesizes findings with citations.</li> <li>Nanobot posts back to Slack with recommendation, source links, and confidence assessment.</li> <li>Nanobot writes structured artifact to Obsidian: request_id (unique identifier for this request), project_id (what project it belongs to), sources, reasoning, next steps.</li> <li>Operator approves test \u2192 change logged in Obsidian for compliance/audit trail.</li> </ol>"},{"location":"Master-Index/#12-nanobot-core-capabilities","title":"1.2 Nanobot Core Capabilities","text":"<p>Nanobot ships with these built-in features:</p> <p>LLM Provider Routing: (Choose which AI model to use for each task) - Cloud providers: OpenAI (GPT-4, etc.), Anthropic (Claude), Google Gemini, Cohere, Mistral, DeepSeek, Qwen, Moonshot, MiniMax, VolcEngine - Local inference via vLLM or Ollama (free, runs on your computer) - Custom provider support for proprietary models - Prompt caching (Anthropic) to save on costs - Automatic cost estimation and token budgeting</p> <p>Multi-Channel Integration: (Listen on any chat platform) - Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix/Element, Mochat, CLI (local terminal) - Control who can use nanobot in each channel - Send and receive media and files - Handle long messages automatically (Discord splitting, Slack threading, etc.)</p> <p>Tool System: (Actions nanobot can perform) - Web Search &amp; Fetch - Find current information using Brave Search, download full pages - File Operations - Read, write, edit, list files (safely sandboxed) - Shell Commands - Run system commands (restricted, logged, operator-approved) - Message/Notifications - Send alerts and updates across channels - Scheduling (Cron) - Run tasks on a schedule (e.g., \"every day at 9 AM\") - MCP (Model Context Protocol) - Connect to external databases, file systems, and APIs - Subagents - Launch parallel workers to handle parts of complex tasks - GitHub Automation - Search code repositories, create pull requests (PRs), manage issues - Custom Tools - Build your own extensions</p> <p>Pre-Built Skills: (Ready-to-use bundles) - Obsidian - Read and write notes, search knowledge base - Summarize - Condense long content while keeping the important parts - Memory - Manage conversations, automatically summarize old history - Cron - Schedule recurring tasks - Weather - Fetch weather data - Skill Creator - Write new skills from natural language descriptions - ClawHub - Find and install community-created skills - TMUX - Control terminal sessions for advanced automation</p> <p>Reliability &amp; Optimization: - Session continuity with automatic memory consolidation - Heartbeat system for connection health monitoring - Retry/fallback strategies with degraded mode - Tool-call validation and error handling - Structured logging for debugging and audit</p>"},{"location":"Master-Index/#13-cost-control-summary","title":"1.3 Cost Control Summary","text":"<p>Ways to control spending and prevent bill shock: - Tiered model routing (Tier A/B/C) - Use cheap models for simple tasks, expensive ones for complex work - Budget caps - Set spending limits by request, channel, or project - Approval gates - Require human sign-off before expensive operations - Smart context - Automatically summarize old conversations to reduce token use - Provider choice - Use budget-friendly models (Qwen, DeepSeek) for routine work; save Claude Opus for complex problems - Safety limits - Automatically stop runaway requests and prevent unexpected charges - Weekly reviews - Track spending patterns and watch for anomalies</p>"},{"location":"Master-Index/#14-security-compliance-baseline","title":"1.4 Security &amp; Compliance Baseline","text":"<p>How we keep your system safe: - Channel isolation - Teams can't see each other's conversations - Role-based access - Different users have different permissions (Operator, Reviewer, Owner) - Sandbox - Nanobot can only access files in its workspace, can't escape to system files - Allowlist - Only approved people can use dangerous tools (shell commands, APIs, GitHub automation) - Audit log - Every action is recorded with who did it, when, and what it cost - Monthly security checks - Run <code>nanobot security audit --deep</code> to verify everything is locked down - Separate sessions - Each user gets their own isolated workspace - Secret protection - API keys and tokens stored securely in <code>.env</code> files, never saved in code</p>"},{"location":"Master-Index/#15-small-business-enterprise-support-examples","title":"1.5 Small Business &amp; Enterprise Support Examples","text":"<p>Example ways this AOS supports organizations: - Bookkeeping: Ingest expense receipts, reconcile transactions, categorize spending, publish month-end summaries to Obsidian\u2014 all with traceable request_id chains for audit. - Product Marketing: Run product-scoped Slack/Discord/Telegram channels, auto-generate content drafts, run competitor research, report KPI deltas with cost-controlled model routing. - Research &amp; Development: Capture source links, synthesize findings with citations, evolve ideas through staged approval gates (hypothesis \u2192 design \u2192 test \u2192 post-mortem), all archived in Obsidian. - Customer Support: Automate FAQ routing, search knowledge base, generate pre-approval responses, escalate complex cases to humans with full context. - Operations/DevOps: Automate GitHub workflow triggers, monitor system health via cron jobs, log incidents with evidence, execute runbooks via shell tools.</p>"},{"location":"Master-Index/#2-getting-started-roadmap","title":"2. Getting Started Roadmap","text":"<p>New to Nanobot? Start with Getting Started With Nanobot for orientation, a system overview, and deployment path selection. Then return here for the detailed roadmap that matches your goal.</p> <p>Choose your path based on your goal:</p>"},{"location":"Master-Index/#21-quick-trial-30-40-minutes","title":"2.1 Quick Trial (30-40 minutes)","text":"<p>Goal: Try nanobot immediately with minimal setup.</p> <ol> <li>Getting Started With Nanobot \u2014 Orient yourself: 3 planes, deployment options, what you're building</li> <li>AOS Startup Procedure: Simple Build \u2014 Install and test nanobot locally with cloud LLM</li> <li>nanobot/README.md \u2014 Connect one chat platform (Discord, Slack, Telegram, etc.)</li> <li>Workflow Examples \u2014 Copy and run a simple workflow</li> </ol> <p>Result: Functional nanobot in 30-40 minutes. Explore, test, then decide to scale.</p>"},{"location":"Master-Index/#22-production-setup-1-2-hours","title":"2.2 Production Setup (1-2 hours)","text":"<p>Goal: Deploy a professional system with cost controls, governance, and reliability.</p> <ol> <li>Getting Started With Nanobot \u2014 Choose Simple or Advanced Build; understand which planes each activates</li> <li>Cost Calculator \u2014 Plan monthly spend, choose provider routing strategy</li> <li>Choose your startup path:</li> <li>Simple Build (25-35 min): AOS Startup: Simple Build \u2014 Run nanobot on your computer with cloud API</li> <li>Advanced Build (60-90 min): AOS Startup: Advanced Build \u2014 Run on VPS with local Ollama for 24/7 operation</li> <li>LLM Provider Setup \u2014 Configure all providers you'll use (multi-provider routing)</li> <li>nanobot/README.md \u2014 Set up your channels (Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix, Mochat)</li> <li>Skills &amp; Tools Reference \u2014 Learn all 14 tools, 9 skills, and how to develop custom skills</li> <li>Workflow Examples \u2014 Implement 1-2 real workflows for your use case</li> <li>Security &amp; Governance Policies \u2014 Set up access control, allowlists, cost caps (optional for solo users; required for teams)</li> </ol> <p>Result: Production-grade nanobot with cost controls, memory/audit trails, and multi-channel support.</p>"},{"location":"Master-Index/#23-multi-team-deployment-2-4-hours-ongoing","title":"2.3 Multi-Team Deployment (2-4 hours + ongoing)","text":"<p>Goal: Deploy across teams with role-based access, approval workflows, and cost chargeback.</p> <p>Follow the Production Setup path above (choose Simple or Advanced Build), then:</p> <ol> <li>Security &amp; Governance Policies \u2014 Configure RBAC (Owner, Reviewer, Operator roles), channel namespacing, approval gates, cost allocation, and run monthly security validation</li> <li>Cost Calculator \u2014 Set up cost chargeback by team/project</li> </ol> <p>Result: Nanobot operates safely across multiple teams with clear governance, spending transparency, and audit trails.</p>"},{"location":"Master-Index/#3-core-documents-reference","title":"3. Core Documents (Reference)","text":"<p>Use these docs as references when following one of the three roadmaps above.</p>"},{"location":"Master-Index/#entry-point","title":"Entry Point","text":"<ul> <li>Getting Started With Nanobot \u2014 Orientation, 3-plane overview, deployment path selection</li> </ul>"},{"location":"Master-Index/#setup-installation","title":"Setup &amp; Installation","text":"<ul> <li>LLM Provider Setup Guide \u2014 Configure Claude, GPT, local Ollama, Qwen, and other models</li> <li>nanobot/README.md \u2014 Channel setup for Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix, Mochat</li> </ul>"},{"location":"Master-Index/#operations-deployment","title":"Operations &amp; Deployment","text":"<ul> <li>AOS Startup: Simple Build \u2014 Run nanobot on your computer with cloud LLM (fast, cheapest to test)</li> <li>AOS Startup: Advanced Build \u2014 Run on VPS with local Ollama (24/7, zero per-query costs)</li> </ul>"},{"location":"Master-Index/#features-extensibility","title":"Features &amp; Extensibility","text":"<ul> <li>Skills &amp; Tools Complete Guide \u2014 All 14 built-in tools, 9 pre-built skills, 5-skill essential quickstart, and custom skill development</li> <li>Workflow Examples &amp; Recipes \u2014 Real-world workflows: knowledge consolidation, multi-channel posting, customer support bot, research agent, GitHub automation</li> </ul>"},{"location":"Master-Index/#governance-security-cost","title":"Governance, Security &amp; Cost","text":"<ul> <li>Security &amp; Governance Policies \u2014 Access control patterns, approval workflows, governance models, and monthly security validation</li> <li>Cost Calculator &amp; Optimization Guide \u2014 Monthly cost estimation, provider routing for cost savings, budget caps and tracking</li> <li>Emergency Recovery and Troubleshooting \u2014 System diagnostics, recovery procedures, troubleshooting quick reference</li> </ul>"},{"location":"Master-Index/#reference","title":"Reference","text":"<ul> <li>Glossary \u2014 Definitions for all AOS-specific terms: planes, tiers, SOUL.md, SKILL.md, approval gates, and more</li> </ul>"},{"location":"Master-Index/#4-interoperability-summary","title":"4. Interoperability Summary","text":""},{"location":"Master-Index/#41-system-handshake-channel-independent","title":"4.1 System Handshake (Channel-Independent)","text":"<ol> <li>Operator sends request in any integrated channel (Discord, Slack, Telegram, Feishu, etc.) using chat interface.</li> <li>Channel Integration receives message and forwards to Nanobot via message bus event (InboundMessage).</li> <li>Agent Loop receives event; builds context: conversation history, user permissions, LLM policy, available tools.</li> <li>LLM Routing applies policy: selects model (Claude, GPT, local Ollama, etc.), enforces cost/risk constraints, prepares context.</li> <li>Tool Execution loop (up to 40 iterations):</li> <li>LLM returns tool calls (web search, file read, shell command, MCP call, spawn subagent, etc.)</li> <li>Each tool executes; results logged with request_id, tokens, latency, cost</li> <li>Tool outputs returned to LLM for next iteration</li> <li>LLM returns final response or tool error handling</li> <li>Response Composition - Nanobot formats response with citations, confidence, metadata, next steps</li> <li>Memory Logging - Structured metadata written to Obsidian: request_id, project_id, workflow_domain, tokens, cost, tools used</li> <li>Channel Output - Response posted back to original channel (Discord, Slack, Telegram, etc.) with reference links</li> </ol>"},{"location":"Master-Index/#42-shared-control-principles","title":"4.2 Shared Control Principles","text":"<ul> <li>Channel agnostic - Governance works the same regardless of communication platform.</li> <li>Least privilege - Bot and user permissions restricted to required channels/tools; operator role gates sensitive actions.</li> <li>Context isolation - Separate sessions by user; channel family prevents cross-project data leakage.</li> <li>Structured logging - All requests logged with consistent metadata for tracing, cost accounting, and compliance.</li> <li>Model routing - Cost-optimal model selection per workflow type; expensive models (Opus) reserved for high-complexity work.</li> <li>Tool constraints - Workspace-scoped filesystem, allowlist-gated shell/MCP/GitHub tools, sensitive action approvals.</li> <li>Durable audit trail - Obsidian artifacts provide replay, recovery, and compliance evidence.</li> <li>Restore drills - Periodic validation that artifacts can be replayed and systems recovered.</li> </ul>"},{"location":"Master-Index/#43-security-baseline-cross-doc","title":"4.3 Security Baseline (Cross-Doc)","text":"<ul> <li>Configuration-driven access control - Allowlist of users/channels per tool in <code>config.json</code> or environment.</li> <li>Remote access - VPS-based agent uses SSH + Tailscale tunnel OR public cloud API auth (no direct public exposure).</li> <li>Session isolation - Each user gets independent session; no cross-user context bleed.</li> <li>Workspace binding - Agent sandbox respects workspace root; cannot escape to parent directories or system files.</li> <li>MCP security - Custom auth headers supported for external tool connections; credentials stored in secrets, not code.</li> <li>Tool opt-in - Tools disabled by default; operator explicitly enables (web search, shell, MCP, etc.) per deployment.</li> <li>Monthly audit - Run <code>nanobot security audit --deep</code> to validate allowlists, disabled tools, workspace constraints, and access logs.</li> <li>Incident response - Failed security checks automatically escalate; sensitive operations require explicit approval.</li> <li>Secret management - API keys, model credentials, MCP auth stored in <code>.env</code>, never committed to version control.</li> </ul>"},{"location":"Master-Index/#5-shared-data-contract-cross-doc","title":"5. Shared Data Contract (Cross-Doc)","text":"<p>Use these fields consistently across channel logs, LLM telemetry, and Obsidian notes: - request_id - project_id - workflow_domain - owner or requester - status - timestamp_utc - model_tier and model_name (when applicable) - input_tokens / output_tokens / estimated_cost (LLM executions) - reference (link to note/runbook/output)</p> <p>Plain-English Note: Using the same core fields across systems makes tracing and recovery much faster.</p>"},{"location":"Master-Index/#6-naming-and-path-standards","title":"6. Naming and Path Standards","text":""},{"location":"Master-Index/#61-multi-channel-naming-convention","title":"6.1 Multi-Channel Naming Convention","text":"<p>Use consistent naming across all integrated channels (Discord, Slack, Telegram, Feishu, etc.) for easy operator recognition: - Product channels: <code>prd-&lt;project_id&gt;-marketing</code>, <code>prd-&lt;project_id&gt;-sales</code>, <code>prd-&lt;project_id&gt;-analytics</code> - Bookkeeping channels: <code>bk-&lt;project_id&gt;-inbox</code>, <code>bk-&lt;project_id&gt;-reconcile</code>, <code>bk-&lt;project_id&gt;-reporting</code> - Research channels: <code>res-&lt;project_id&gt;-inbox</code>, <code>res-&lt;topic&gt;</code>, <code>res-syntheses</code> - Control/Admin channels: <code>ctl-nanobot-commands</code>, <code>ctl-nanobot-alerts</code>, <code>ctl-nanobot-audit</code></p> <p>Note: Exact channel naming syntax varies by platform (Discord uses <code>#</code>, Slack uses <code>#</code>, Telegram uses group names, Feishu uses channel topics, etc.), but adopt this semantic naming across all platforms.</p>"},{"location":"Master-Index/#62-obsidian-vault-structure-v1","title":"6.2 Obsidian Vault Structure (v1)","text":"<ul> <li>02-Ideas// - Proposals, hypotheses, early-stage concepts <li>08-Research/// - Research artifacts, syntheses, cited sources <li>07-Operations/Change-Records// - Approved changes, executions, outcomes <li>07-Operations/Recovery-Drills/ - Drill evidence, restoration success logs</li> <li>00-System/AOS-Journal/ - Daily operational journaling (if journaler skill is enabled)</li> <li>00-System/Audit-Logs/ - Monthly security audit results and remediation</li>"},{"location":"Master-Index/#63-web-research-tier-mapping-channel-model-tier","title":"6.3 Web Research Tier Mapping (Channel \u2192 Model Tier)","text":"<p>When enabling web search (Brave API), use these tier guidelines to balance cost and depth:</p> Channel Family Research Depth Cost Tier Model Tier Notes <code>#bk-*</code> Metadata only R1 A Snippet-level financial data, no full-page retrieval <code>#prd-*-analytics</code> Bounded data R1 A Industry metrics, light competitive analysis <code>#prd-*-marketing</code> Full-page R2 B Content research, campaign analysis, limited depth <code>#res-*</code> Deep research R2 B Multi-source synthesis, citations required <code>#res-* (escalated)</code> Exhaustive R3 C Comprehensive analysis; requires Owner approval <code>#ctl-*</code> Policy-limited Restricted A only Control channel; internet access optional <p>Plain-English Note: R1 = cheap/shallow, R2 = moderate cost/depth, R3 = expensive/comprehensive. Model tier (A/B/C) controls which LLM is used; escalate to higher-cost models only for complex work.</p>"},{"location":"Master-Index/#7-raci-snapshot-who-owns-what","title":"7. RACI Snapshot (Who Owns What)","text":"<p>RACI key: R = Responsible (does the work) | A = Accountable (owns the outcome) | C = Consulted (input before action) | I = Informed (notified after)</p> Area Owner Operator Reviewer Channel policy &amp; naming conventions A R C LLM routing rules and budget caps A R I Obsidian vault structure and retention A R I Incident response execution A R C Recovery drill scheduling and governance A I R Monthly security audit A R C Cost chargeback and reporting A R R"},{"location":"Master-Index/#8-review-cadence","title":"8. Review Cadence","text":"<ul> <li>Daily: alerts, budget anomalies, failed runs.</li> <li>Weekly: KPI and cost review, blocked workflow review.</li> <li>Monthly: restore drill and policy adjustments.</li> <li>Quarterly: channel cleanup, model portfolio review, disaster drill.</li> </ul>"},{"location":"Master-Index/#9-change-management-flow","title":"9. Change Management Flow","text":"<ol> <li>Propose change in the appropriate control channel (e.g., <code>#ctl-nanobot-commands</code>).</li> <li>Assess risk, cost impact, and rollback plan.</li> <li>Update affected docs (channel integration/LLM/Obsidian/Procedure).</li> <li>Execute controlled test.</li> <li>Approve and promote to active.</li> <li>Log outcome and references in Obsidian change records.</li> </ol>"},{"location":"Master-Index/#10-interoperability-health-checklist","title":"10. Interoperability Health Checklist","text":"<ul> <li> Channel naming follows the project_id pattern.</li> <li> Each active channel family maps to an Obsidian path.</li> <li> Each workflow domain maps to a default LLM tier (A/B/C).</li> <li> Escalation and fallback are configured and tested.</li> <li> Required shared metadata fields appear in logs/notes.</li> <li> Monthly restore drill completed with evidence.</li> <li> End-to-end message loop validated: channel \u2192 agent \u2192 response (send a test message and confirm round-trip).</li> <li> Direct-message (DM) access to the bot is restricted to approved users via allowlist.</li> <li> Workspace sandbox verified: agent cannot access files outside its designated workspace root.</li> <li> Monthly security audit findings are logged and remediated.</li> </ul>"},{"location":"Master-Index/#11-common-mistakes-misunderstandings","title":"11. Common Mistakes &amp; Misunderstandings","text":""},{"location":"Master-Index/#mistake-1-thinking-nanobot-requires-discord-it-doesnt","title":"\u274c Mistake 1: Thinking Nanobot Requires Discord (It Doesn't)","text":"<p>Problem: \"We use Slack, not Discord. Can we still use nanobot?\" Why: The documentation mentions Discord often, making it seem like Discord is required Fix: - Nanobot works with any chat platform: Discord, Slack, Telegram, Feishu, WhatsApp, Email, CLI, etc. - The choice of platform doesn't change nanobot's core behavior - Same rules, same capabilities, same governance apply across all platforms - See nanobot/README.md for setup instructions for your chosen platform</p>"},{"location":"Master-Index/#mistake-2-confusing-control-plane-with-discord-control-channel","title":"\u274c Mistake 2: Confusing \"Control Plane\" with \"Discord Control Channel\"","text":"<p>Problem: \"What's the Control Plane? Is it a Discord channel?\" Why: The term \"plane\" is architectural jargon that's not self-explanatory Fix: - Control Plane = the system that routes user requests and manages approvals (exists across all channels) - Discord control channel = just one example of where you might receive requests - Think of it as layers:    - Control = intake + request routing (works in Discord, Slack, email, CLI, etc.)   - Policy = which AI model to use + cost controls (same rules everywhere)   - Memory = where records go (Obsidian vault, same for everyone)</p>"},{"location":"Master-Index/#mistake-3-setting-up-channels-with-wrong-naming-convention","title":"\u274c Mistake 3: Setting Up Channels with Wrong Naming Convention","text":"<p>Problem: Created channels named <code>#slack-research</code>, <code>#marketing_team</code>, <code>#ops</code>, etc., but system won't recognize them Why: Channel names don't follow the documented <code>project_id</code> pattern Fix: - Use pattern: <code>#[workflow_domain]-[team_or_project]-[optional_detail]</code> - Good examples:   - <code>#prd-widget-marketing</code> (product team, research)   - <code>#bk-finances</code> (bookkeeping, financial tasks)   - <code>#res-ai-safety</code> (research, AI safety topic)   - <code>#ctl-nanobot</code> (control, nanobot operations) - Avoid:   - Single-word names like <code>#marketing</code>   - Descriptive names like <code>#team-daily-standup</code>   - Special characters or underscores</p>"},{"location":"Master-Index/#mistake-4-llm-routing-not-working-default-model-used-everywhere","title":"\u274c Mistake 4: LLM Routing Not Working - Default Model Used Everywhere","text":"<p>Problem: Set up Tier A/B/C routing, but nanobot always uses the default model Why: Routing rules not actually configured in the active config file Fix: 1. Check your active config: <code>nanobot config --show</code> 2. Verify routing rules exist:    <pre><code>{\n  \"llm\": {\n    \"routing\": {\n      \"default\": \"tier_b\",\n      \"rules\": [\n        { \"channel\": \"#prd-*\", \"tier\": \"a\" },\n        { \"channel\": \"#bk-*\", \"tier\": \"c\" }\n      ]\n    }\n  }\n}\n</code></pre> 3. Restart nanobot after config changes 4. Test: Send a message in <code>#prd-*</code> channel and check logs: <code>nanobot logs | grep \"model used\"</code></p>"},{"location":"Master-Index/#mistake-5-obsidian-vault-paths-dont-match-configuration","title":"\u274c Mistake 5: Obsidian Vault Paths Don't Match Configuration","text":"<p>Problem: \"Nanobot says it's writing to my vault, but I don't see files appearing\" Why: Config has relative path (<code>~/vault</code>) but actual vault is at absolute path (<code>/Users/alice/Documents/My Vault</code>) Fix: 1. Find actual vault location: Go to Obsidian \u2192 Settings \u2192 About \u2192 Vault location 2. Copy the exact full path (including spaces if any) 3. Update config to absolute path:    <pre><code>\u274c \"vault_path\": \"~/vault\"\n\u2705 \"vault_path\": \"/Users/alice/Documents/My Vault\"\n</code></pre> 4. On Windows: Use forward slashes <code>/</code> or escaped backslashes <code>\\\\</code>:    <pre><code>\u2705 \"vault_path\": \"C:/Users/alice/Documents/Nanobot-Vault\"\n\u2705 \"vault_path\": \"C:\\\\Users\\\\alice\\\\Documents\\\\Nanobot-Vault\"\n</code></pre> 5. Restart nanobot and test: <code>nanobot test-vault</code></p>"},{"location":"Master-Index/#mistake-6-budget-controls-set-but-no-alerts-configured","title":"\u274c Mistake 6: Budget Controls Set But No Alerts Configured","text":"<p>Problem: \"We said no more than $100/month, but bill was $500. No one noticed!\" Why: Budget limit set but no alert mechanism to notify when approaching limit Fix: <pre><code>\u274c Budget with no alerts:\n{\n  \"budget\": {\n    \"monthly_limit\": 100\n  }\n}\n\n\u2705 Budget with alerts:\n{\n  \"budget\": {\n    \"monthly_limit\": 100,\n    \"alerts\": {\n      \"at_50_percent\": { \"channel\": \"#alerts\", \"message\": \"50% of budget used\" },\n      \"at_75_percent\": { \"channel\": \"#alerts\", \"message\": \"75% of budget used\" },\n      \"at_90_percent\": { \"channel\": \"#alerts\", \"message\": \"WARNING: 90% of budget used\" }\n    }\n  }\n}\n</code></pre> 2. Set up calendar reminders to check: <code>nanobot budget status</code> weekly 3. Review daily: <code>nanobot cost report --daily</code></p>"},{"location":"Master-Index/#12-documentation-set-status","title":"12. Documentation Set Status","text":"<p>Current state of the AOS documentation (11 active documents):</p> Document Version Status Getting-Started-With-Nanobot.md 1.3.0 \u2705 Active \u2014 entry point and orientation Master-Index.md 2.2.0 \u2705 Active \u2014 this file AOS-Startup-Simple-Build.md 1.0.0 \u2705 Active AOS-Startup-Advanced-Build.md 2.2.0 \u2705 Active LLM-Provider-Setup-Guide.md 1.3.0 \u2705 Active Skills-and-Tools-Complete-Guide.md 2.1.0 \u2705 Active Security-and-Governance-Policies.md 1.0.0 \u2705 Active Cost-Calculator-and-Optimization.md 1.0.0 \u2705 Active Workflow-Examples-and-Recipes.md 1.0.0 \u2705 Active Emergency-Recovery-and-Troubleshooting.md \u2014 \u2705 Active Glossary.md 1.2.0 \u2705 Active"},{"location":"Master-Index/#13-revision-history","title":"13. Revision History","text":"Date Version Change 2026-02-26 2.2.0 Second review pass: \"model class\" \u2192 \"model tier\" (\u00a71.1, \u00a76.3 heading); \"Discord logs\" \u2192 \"channel logs\" (\u00a75); <code>model_class</code> field \u2192 <code>model_tier</code> (\u00a75); \u00a79 step 3 \"Discord/\" \u2192 \"channel integration/\"; \u00a711 Mistake 3 <code>#bk-finances</code> comment \"backlog\" \u2192 \"bookkeeping\"; \u00a72.3 hyphens \u2192 em dashes 2026-02-26 2.1.0 First review pass: added Document Control header; added Getting-Started-With-Nanobot.md as entry point; fixed broken links to deleted Multi-Channel doc; repaired \u00a72.2 step numbering; de-duplicated \u00a73; fixed \u00a77 RACI table; added RACI definition; fixed \u00a79 Discord-specific reference; clarified \u00a710 jargon; replaced stale \u00a712 notes with doc status table 2026-02-25 2.0.0 Major update: Made AOS system channel-agnostic (Discord/Slack/Telegram/Feishu/etc.); documented all actual nanobot capabilities (LLM routing, tools, skills, MCP, web search, subagents, cron); updated Core Documents section with new guides; expanded security baseline to cover all deployment scenarios; clarified 3-plane governance model applies to any channel 2026-02-24 1.1.10 Added Discord Messaging Setup Guide to core docs for onboarding field collection and allowlist formatting 2026-02-24 1.1.9 Added Nanobot Onboarding Guide link for manual-mode local-gateway onboarding standard 2026-02-23 1.1.8 Added AOS Project Startup Guide for standardized new-project onboarding 2026-02-23 1.1.7 Renamed document title to \"Nanobot Agentic Operating System Master Index\" for project-name consistency 2026-02-23 1.1.0 Security Hardening v1: added cross-doc security baseline and enforcement checklist items 2026-02-23 1.0.0 Initial master index: interoperability map, shared contract, standards, and review cadence"},{"location":"Security-and-Governance-Policies/","title":"Security &amp; Governance: Policies, Config &amp; Validation","text":"<p>Complete reference for governance frameworks, access control patterns, security validation procedures, and compliance auditing.</p> <p>Enforce organizational guardrails, access control, cost accountability, and security controls through governance policies and regular validation runbooks.</p>"},{"location":"Security-and-Governance-Policies/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.1.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> </ul>"},{"location":"Security-and-Governance-Policies/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>Part 1: Governance Model &amp; Policies \u2014 Access control, policy enforcement, cost routing</li> <li>Part 2: Security Validation &amp; Auditing \u2014 Monthly validation procedures, compliance checks</li> <li>Part 3: Common Mistakes &amp; Solutions \u2014 12 governance mistakes + 6 security mistakes with fixes</li> </ul>"},{"location":"Security-and-Governance-Policies/#part-1-governance-model-policies","title":"Part 1: Governance Model &amp; Policies","text":""},{"location":"Security-and-Governance-Policies/#1-overview-the-3-plane-governance-model","title":"1. Overview: The 3-Plane Governance Model","text":"<p>Plane 1: Control \u2014 Who can do what? (access control, tool allowlisting) Plane 2: Policy \u2014 How are decisions made? (routing rules, escalation, approval flows) Plane 3: Memory \u2014 What does the system know? (vault scope, retention policies)</p> <p>All three planes are channel-aware (work in Discord, Slack, Telegram, etc.).</p>"},{"location":"Security-and-Governance-Policies/#2-access-control-patterns","title":"2. Access Control Patterns","text":""},{"location":"Security-and-Governance-Policies/#pattern-a-role-based-tool-allowlisting-rbac","title":"Pattern A: Role-Based Tool Allowlisting (RBAC)","text":"<p>RBAC = Role-Based Access Control. (Different people get different permissions based on their job role.)</p> <p>Use Case: Different teams get different tools.</p> <p>Config example:</p> <pre><code>{\n  \"teams\": {\n    \"engineering\": {\n      \"channels\": [\"#dev\", \"#devops\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"github_*\",\n        \"shell_exec\",\n        \"file_*\",\n        \"mcp_call\",\n        \"cron_schedule\"\n      ],\n      \"forbidden_tools\": [\"shell_exec:rm\", \"shell_exec:sudo\"],\n      \"llm_tier\": \"b\"\n    },\n    \"marketing\": {\n      \"channels\": [\"#marketing\", \"#content-hub\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"file_read\",\n        \"message_send\",\n        \"obsidian\"\n      ],\n      \"forbidden_tools\": [\"shell_exec\", \"github_*\"],\n      \"llm_tier\": \"c\"\n    },\n    \"executive\": {\n      \"channels\": [\"#exec\", \"#leadership\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"file_read\",\n        \"message_send\",\n        \"summarize\"\n      ],\n      \"forbidden_tools\": [\"shell_exec\", \"cron\", \"mcp\"],\n      \"llm_tier\": \"a\",\n      \"escalation\": \"required\"\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> Team Can use Cannot use LLM Engineering All tools except destructive shell rm, sudo, reboot Tier B Marketing Search, read, message, obsidian Shell, GitHub, MCP Tier C Executive Search, read, message, summarize Shell, GitHub, cron, MCP Tier A <p>Enforcement:</p> <p>If marketing user tries <code>@BotName shell_exec: ls /</code>: <pre><code>\u274c Tool 'shell_exec' not allowed for #marketing team.\n   Allowed tools: web_search, file_read, message_send, obsidian\n   Contact: @engineering-lead for access request\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#pattern-b-channel-level-tool-restrictions","title":"Pattern B: Channel-Level Tool Restrictions","text":"<p>Use Case: Public channels more restricted than private.</p> <pre><code>{\n  \"channels\": {\n    \"#general\": {\n      \"tools\": [\"web_search\", \"message_send\"],\n      \"visibility\": \"public\"\n    },\n    \"#dev\": {\n      \"tools\": [\"web_search\", \"shell_exec\", \"github_*\", \"mcp_call\"],\n      \"visibility\": \"team\"\n    },\n    \"#devops-secrets\": {\n      \"tools\": [\"shell_exec\", \"file_*\", \"mcp_call\"],\n      \"visibility\": \"restricted\",\n      \"requires_approval\": true,\n      \"approval_group\": \"@devops-leads\"\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> <ul> <li><code>#general</code>: Only safe, read-only tools</li> <li><code>#dev</code>: Dev-friendly tools, no approval needed</li> <li><code>#devops-secrets</code>: Full power, but every action logged + approved</li> </ul>"},{"location":"Security-and-Governance-Policies/#pattern-c-per-user-rate-limiting","title":"Pattern C: Per-User Rate Limiting","text":"<p>Use Case: Prevent cost overruns and abuse.</p> <pre><code>{\n  \"rate_limits\": {\n    \"default_user\": {\n      \"tokens_per_day\": 50000,\n      \"requests_per_hour\": 60,\n      \"web_search_per_day\": 20\n    },\n    \"power_users\": {\n      \"tokens_per_day\": 200000,\n      \"requests_per_hour\": 300,\n      \"web_search_per_day\": 100\n    },\n    \"limited_users\": {\n      \"tokens_per_day\": 5000,\n      \"requests_per_hour\": 10,\n      \"web_search_per_day\": 5\n    }\n  },\n  \"team_quotas\": {\n    \"engineering\": {\n      \"daily_tokens\": 500000,\n      \"monthly_budget\": 100\n    },\n    \"marketing\": {\n      \"daily_tokens\": 100000,\n      \"monthly_budget\": 30\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> <p>User exceeds daily limit: <pre><code>\u26a0\ufe0f Daily token limit reached (50,000/50,000)\n   Your limit resets tomorrow at 12:00am UTC\n   Need more capacity? Request upgrade: https://...\n</code></pre></p> <p>Team exceeds budget: <pre><code>\ud83d\udcb0 Team monthly budget exhausted ($100/$100)\n   Remaining requests will use local Ollama (free)\n   Budget resets in 5 days\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#3-risk-tier-framework-who-needs-approval","title":"3. Risk Tier Framework (Who Needs Approval?)","text":"<p>Goal: Classify actions by how easy they are to undo. (Reversibility = can you fix it if something goes wrong?)</p> <p>If an action is hard to undo or could cause problems, it needs human approval first.</p>"},{"location":"Security-and-Governance-Policies/#risk-tiers-overview","title":"Risk Tiers Overview","text":"<p>Risk is measured by Magnitude of Irreversibility. If an action is hard to undo or compromises core security, it's high-risk.</p> Tier Automation Description Examples Approval? Tier 0: Safe \u2705 Autonomous Read-only, internal logs, low-impact data Checking weather, reading Obsidian notes, summarizing public PDFs No Tier 1: Minor \u2705 Autonomous State changes with undo capability Creating folders, moving temp files, adding Discord reactions No (log only) Tier 2: Moderate \u26a0\ufe0f Soft-Pause Actions affecting external data or \"shadow\" systems Sending email to known contact, deleting temp folder, running scheduled reports Conditional* Tier 3: High \ud83d\uded1 Hard-Pause Actions affecting identity or security Modifying Discord permissions, changing .env files, new SSH node access Yes (Approver role) Tier 4: Critical \ud83d\udd12 Locked Destructive or system-wide changes Deleting database, mass-sending external messages, changing Primary Operator ID Yes (MFA/Admin only) <p>*Conditional = approved automatically if target is allowlisted; requires approval otherwise</p>"},{"location":"Security-and-Governance-Policies/#implementation-example","title":"Implementation Example","text":"<pre><code>{\n  \"risk_tiers\": {\n    \"tier_0\": {\n      \"automation\": \"autonomous\",\n      \"description\": \"Read-only, safe\",\n      \"examples\": [\"web_search\", \"obsidian_read\", \"summarize\"],\n      \"approval_required\": false\n    },\n    \"tier_1\": {\n      \"automation\": \"autonomous\", \n      \"description\": \"Minor changes, recoverable\",\n      \"examples\": [\"file_create\", \"folder_create\", \"message_react\"],\n      \"approval_required\": false,\n      \"audit_logging\": true\n    },\n    \"tier_2\": {\n      \"automation\": \"soft_pause\",\n      \"description\": \"External or shadow data impacts\",\n      \"examples\": [\"message_send:email\", \"file_delete:temp\", \"cron:schedule\"],\n      \"approval_required\": \"conditional\",\n      \"auto_approve_if\": \"target_in_allowlist\"\n    },\n    \"tier_3\": {\n      \"automation\": \"hard_pause\",\n      \"description\": \"Security/identity impacts\",\n      \"examples\": [\"permission_modify\", \"config_write:secrets\", \"node_authorize\"],\n      \"approval_required\": true,\n      \"approver_role\": \"AOS Approver\",\n      \"timeout_seconds\": 300\n    },\n    \"tier_4\": {\n      \"automation\": \"locked\",\n      \"description\": \"Destructive, system-wide\",\n      \"examples\": [\"database_truncate\", \"message_broadcast:external\", \"operator_change\"],\n      \"approval_required\": true,\n      \"approver_role\": \"Admin\",\n      \"requires_mfa\": true,\n      \"requires_human_review\": true\n    }\n  }\n}\n</code></pre>"},{"location":"Security-and-Governance-Policies/#how-tiers-trigger-approval-flows","title":"How Tiers Trigger Approval Flows","text":"<p>When user requests a Tier 3 action:</p> <pre><code>User: @BotName ssh authorize new-node 192.168.1.50\n\n\ud83d\uded1 HIGH-RISK ACTION: Node Authorization\n   Requested by: @alice (engineering team)\n   Action: Authorize new SSH access to 192.168.1.50\n\n   Risk Level: Tier 3 (security impact)\n   Reversibility: Revocable but requires cleanup\n\n   \u270b Approval Required from: @AOS-Approver role\n   Timeout: 5 minutes\n\n[Review Details] [Approve] [Deny]\n</code></pre> <p>When user requests a Tier 4 action:</p> <pre><code>User: @BotName database truncate production_logs\n\n\ud83d\udd12 CRITICAL ACTION: Database Truncate\n   Requested by: @alice\n   Action: PERMANENTLY DELETE production_logs\n\n   Risk Level: Tier 4 (destructive, irreversible)\n   Data Loss: Irreversible\n\n   \u26d4 LOCKED: Only Admin role with MFA can approve\n   Requires: Multi-factor authentication\n   Approval Timeout: 1 hour (imminent action warning)\n\n   WARNING: This action cannot be undone!\n   All audit trails will be deleted.\n\n[View Details] [Request Admin] [Cancel]\n</code></pre>"},{"location":"Security-and-Governance-Policies/#4-channel-naming-convention-governance","title":"4. Channel Naming Convention &amp; Governance","text":"<p>Goal: Channel names automatically enforce policy.</p>"},{"location":"Security-and-Governance-Policies/#standard-naming-scheme","title":"Standard Naming Scheme","text":"<pre><code>{scope}-{purpose}-{privacy}\n\nScope: prd, bk, res, ctl, fin, hr, lgl\nPurpose: any lowercase string\nPrivacy: none (public), -private, -secret\n</code></pre> <p>Examples:</p> Channel Scope Team Tools Allowed Privacy <code>#prd-architecture</code> prd engineering All dev tools Public <code>#prd-secrets</code> prd engineering Full power Restricted <code>#bk-payroll</code> bk hr Read-only files Restricted <code>#res-customer-data</code> res research Web search, file read Restricted <code>#ctl-emergency</code> ctl ops All tools, instant approval Restricted <code>#fin-quarterly</code> fin finance Summarize, search Private"},{"location":"Security-and-Governance-Policies/#config-based-routing","title":"Config-based Routing","text":"<pre><code>{\n  \"channel_policy\": {\n    \"naming_scheme\": \"{scope}-{purpose}[-{privacy}]\",\n    \"routing_rules\": [\n      {\n        \"pattern\": \"prd-*\",\n        \"team\": \"engineering\",\n        \"tools\": \"engineering_allowed\",\n        \"tier\": \"b\",\n        \"cost_center\": \"engineering\"\n      },\n      {\n        \"pattern\": \"bk-*\",\n        \"team\": \"operations\",\n        \"tools\": \"operations_allowed\",\n        \"tier\": \"c\",\n        \"cost_center\": \"operations\"\n      },\n      {\n        \"pattern\": \"*-secret\",\n        \"requires_approval\": true,\n        \"audit_level\": \"verbose\",\n        \"approval_group\": \"@security-team\"\n      },\n      {\n        \"pattern\": \"ctl-*\",\n        \"tier\": \"a\",\n        \"approval\": \"instant\",\n        \"cost_center\": \"operations\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Behavior:</p> <p>When user creates channel <code>#prd-auth-secret</code>: <pre><code>\u2713 Channel created: #prd-auth-secret\n  Automatically assigned:\n  - Team: engineering\n  - Tools allowed: {engineering_allowed}\n  - Cost center: engineering\n  - LLM tier: b\n  - Approval required: Yes (contains 'secret')\n  - Audit logging: Verbose\n\n  Confirm policies? [Y/n]\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#5-provider-routing-by-workflow","title":"5. Provider Routing by Workflow","text":"<p>Goal: Smart cost optimization. Route by channel/keyword/priority.</p> <pre><code>{\n  \"llm_routing\": {\n    \"rules\": [\n      {\n        \"channel\": \"#prd-*\",\n        \"priority\": \"high\",\n        \"provider\": \"openrouter\",\n        \"model\": \"claude-opus\",\n        \"tier\": \"a\",\n        \"fallback\": \"openrouter-qwen\"\n      },\n      {\n        \"channel\": \"#research-*\",\n        \"priority\": \"medium\",\n        \"provider\": \"openrouter\",\n        \"model\": \"qwen2:72b\",\n        \"tier\": \"b\",\n        \"fallback\": \"openrouter-deepseek\"\n      },\n      {\n        \"channel\": \"#bk-*\",\n        \"priority\": \"low\",\n        \"provider\": \"openrouter\",\n        \"model\": \"deepseek-67b\",\n        \"tier\": \"c\",\n        \"fallback\": \"local-ollama\"\n      },\n      {\n        \"keyword\": \"urgent\",\n        \"priority\": \"critical\",\n        \"provider\": \"anthropic\",\n        \"model\": \"claude-opus\",\n        \"tier\": \"a\"\n      },\n      {\n        \"keyword\": \"batch\",\n        \"time_window\": \"02:00-06:00\",\n        \"provider\": \"local\",\n        \"model\": \"ollama-qwen\",\n        \"tier\": \"free\"\n      },\n      {\n        \"time\": \"22:00-08:00\",\n        \"default_tier\": \"c\",\n        \"reason\": \"off-peak budget mode\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Examples:</p> <pre><code>User in #prd-architecture:\n@BotName: Design async connection pooling\n\n\u2192 Route: claude-opus (Tier A, $0.015/1K tokens)\nReason: High-priority engineering channel\n</code></pre> <pre><code>User in #bk-categorization:\n@BotName: Classify these 100 support tickets\n\n\u2192 Route: deepseek-67b (Tier C, $0.0003/1K tokens)\nReason: Bookkeeping channel, low priority\nCost estimate: ~$0.03 instead of $0.30 if using Opus\n</code></pre> <pre><code>User in #prd-emergency:\n@BotName urgent: Production database down, need immediate diagnosis\n\n\u2192 Route: claude-opus (Tier A, instant)\nReason: Keyword \"urgent\"\nBypass tier restrictions\n</code></pre>"},{"location":"Security-and-Governance-Policies/#6-approval-workflows-for-high-risk-actions","title":"6. Approval Workflows for High-Risk Actions","text":"<p>Goal: Prevent costly or dangerous operations without human review.</p> <pre><code>{\n  \"approval_required\": {\n    \"rules\": [\n      {\n        \"tool\": \"shell_exec\",\n        \"with_keywords\": [\"rm\", \"sudo\", \"chmod\", \"kill\"],\n        \"approvers\": [\"@security-team\"],\n        \"timeout\": 300\n      },\n      {\n        \"tool\": \"mcp_call\",\n        \"to_system\": [\"external_api\", \"database_write\"],\n        \"approvers\": [\"@devops-leads\"],\n        \"timeout\": 600\n      },\n      {\n        \"action\": \"cost_exceeds\",\n        \"threshold\": 50,\n        \"approvers\": [\"@finance-team\"],\n        \"timeout\": 3600\n      },\n      {\n        \"channel\": \"*-secret\",\n        \"any_tool\": true,\n        \"approvers\": [\"@security-team\"],\n        \"timeout\": 300\n      }\n    ]\n  }\n}\n</code></pre> <p>Example Flow:</p> <pre><code>User in #prd-database:\n@BotName shell_exec: rm -rf /data/cache/*\n\n\u274c APPROVAL REQUIRED\nSafe mode blocked destructive command: rm\n\nDescription: Remove all cache data\nRequested by: @alice\nApprovers needed: @security-team, @devops-leads\nApproval timeout: 5 minutes\n\nApproving this will:\n- Delete /data/cache\n- Cannot be undone\n- See audit trail: https://...\n\n[View Details] [Approve] [Deny]\n</code></pre> <p>If approved: <pre><code>\u2705 Approved by @eve (security-team)\n\u2705 Approved by @frank (devops-leads)\n\nExecuting: rm -rf /data/cache/*\n\nCommand output:\n[operation results]\n\nAudit entry created: ID-2026-0225-0447\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#7-escalation-workflows","title":"7. Escalation Workflows","text":"<p>Goal: Uncertain decisions bubble up to humans.</p> <pre><code>{\n  \"escalation\": {\n    \"rules\": [\n      {\n        \"confidence_below\": 0.70,\n        \"escalate_to\": \"@support-team\",\n        \"message\": \"Low confidence response; please review\"\n      },\n      {\n        \"cost_estimate_exceeds\": 100,\n        \"escalate_to\": \"@finance-team\",\n        \"message\": \"High-cost operation; needs approval\"\n      },\n      {\n        \"error_rate_above\": 0.10,\n        \"escalate_to\": \"@devops-team\",\n        \"message\": \"Tool failure rate elevated; investigate\"\n      },\n      {\n        \"channel\": \"#legal-*\",\n        \"any_question\": true,\n        \"escalate_to\": \"@legal-team\",\n        \"message\": \"All legal channel requests auto-escalate\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Example:</p> <pre><code>User in #support:\n@BotName: What's our HIPAA compliance status?\n\n\ud83e\udd14 Low confidence response (58%)\nEscalating to human...\n\nConversation forwarded to: @support-team\nEstimated response: 15 mins\n\nCustomer message:\n\"Our specialist team is reviewing your question.\nYou'll get a detailed response shortly.\"\n</code></pre>"},{"location":"Security-and-Governance-Policies/#8-audit-logging-policies","title":"8. Audit &amp; Logging Policies","text":"<p>Goal: Track all actions for security and cost compliance.</p> <pre><code>{\n  \"audit\": {\n    \"log_level\": {\n      \"default\": \"info\",\n      \"*-secret\": \"verbose\",\n      \"mcp_call\": \"verbose\",\n      \"shell_exec\": \"verbose\",\n      \"github_*\": \"info\"\n    },\n    \"retention\": {\n      \"default\": 90,\n      \"*-secret\": 365,\n      \"security_events\": 730\n    },\n    \"fields\": [\n      \"timestamp\",\n      \"user_id\",\n      \"team\",\n      \"channel\",\n      \"tool_used\",\n      \"cost_incurred\",\n      \"tokens_consumed\",\n      \"success_or_error\",\n      \"approval_chain\"\n    ],\n    \"export\": {\n      \"frequency\": \"daily\",\n      \"format\": \"json\",\n      \"destination\": \"s3://audit-logs/\"\n    }\n  }\n}\n</code></pre> <p>Usage:</p> <pre><code># View audit logs for a user\nnanobot audit --user alice --since \"7 days ago\"\n\n# View by team\nnanobot audit --team engineering --since \"this month\"\n\n# View security events\nnanobot audit --event-type shell_exec,mcp_call --since \"30 days ago\"\n\n# Export for compliance\nnanobot audit export --format csv --destination ./audit-report.csv\n</code></pre>"},{"location":"Security-and-Governance-Policies/#9-cost-allocation-chargeback","title":"9. Cost Allocation &amp; Chargeback","text":"<p>Goal: Multi-team deployments need to track who spent what.</p> <pre><code>{\n  \"cost_allocation\": {\n    \"teams\": {\n      \"engineering\": {\n        \"cost_center\": \"eng-ops\",\n        \"monthly_budget\": 150,\n        \"alert_at\": 100,\n        \"override_contact\": \"alice@company.com\"\n      },\n      \"marketing\": {\n        \"cost_center\": \"mkt-ops\",\n        \"monthly_budget\": 50,\n        \"alert_at\": 35,\n        \"override_contact\": \"bob@company.com\"\n      },\n      \"research\": {\n        \"cost_center\": \"r-and-d\",\n        \"monthly_budget\": 200,\n        \"alert_at\": 150,\n        \"override_contact\": \"carol@company.com\"\n      }\n    },\n    \"reporting\": {\n      \"frequency\": \"weekly\",\n      \"recipients\": [\"cfo@company.com\", \"ops-team@company.com\"],\n      \"format\": \"html\"\n    }\n  }\n}\n</code></pre> <p>Weekly Report Example:</p> <pre><code>Cost Allocation Report - Week of Feb 24, 2026\n\nEngineering:\n  Budget: $150/month | Spent this week: $32.50 (22%)\n  YTD: $130 / Projected total: $520\n\nMarketing:\n  Budget: $50/month | Spent this week: $8.20 (16%)\n  YTD: $30 / Projected total: $120\n\nResearch:\n  Budget: $200/month | Spent this week: $45.80 (23%)\n  YTD: $190 / Projected total: $760 (ESTIMATE EXCEEDS)\n\n\u26a0\ufe0f Research team on track to exceed budget\n   Contact: @carol | Recommend: Increase budget or reduce scope\n</code></pre>"},{"location":"Security-and-Governance-Policies/#10-sample-complete-config-all-planes","title":"10. Sample Complete Config (All Planes)","text":"<p>Control Plane (Access):</p> <pre><code>{\n  \"access_control\": {\n    \"teams\": {\n      \"engineering\": {\n        \"channels\": [\"#dev\", \"#devops\", \"#prd-*\"],\n        \"allowed_tools\": [\"web_search\", \"shell_exec\", \"github_*\", \"file_*\", \"mcp_call\"],\n        \"excluded_tools\": [\"shell_exec:rm\", \"shell_exec:sudo\"]\n      }\n    }\n  }\n}\n</code></pre> <p>Policy Plane (Routing &amp; Approval):</p> <pre><code>{\n  \"routing\": {\n    \"default\": \"tier_b\",\n    \"rules\": [\n      { \"channel\": \"#prd-*\", \"tier\": \"a\", \"provider\": \"anthropic\" },\n      { \"channel\": \"#bk-*\", \"tier\": \"c\", \"provider\": \"openrouter-deepseek\" }\n    ]\n  },\n  \"approval\": {\n    \"rules\": [\n      { \"tool\": \"shell_exec\", \"with_keywords\": [\"rm\"], \"required\": true }\n    ]\n  }\n}\n</code></pre> <p>Memory Plane (Scope &amp; Retention):</p> <pre><code>{\n  \"memory\": {\n    \"vault_policies\": {\n      \"#dev\": { \"path\": \"/vault/dev\", \"retention\": 90 },\n      \"#secret\": { \"path\": \"/vault/secret\", \"retention\": 730, \"encrypted\": true }\n    }\n  }\n}\n</code></pre>"},{"location":"Security-and-Governance-Policies/#11-governance-deployment-checklist","title":"11. Governance Deployment Checklist","text":"<p>Before going live:</p> <p>Access Control: - [ ] Define teams and their allowed tools - [ ] Set per-user rate limits - [ ] Set team budgets - [ ] Publish channel naming convention</p> <p>Routing &amp; Cost: - [ ] Define tier assignments (A/B/C) by channel - [ ] Set provider fallback chain - [ ] Test multi-provider failover - [ ] Validate cost estimates</p> <p>Approval &amp; Escalation: - [ ] List high-risk tools requiring approval - [ ] Define escalation rules (confidence, cost) - [ ] Train approvers on response time - [ ] Test approval workflow end-to-end</p> <p>Audit &amp; Compliance: - [ ] Set log retention policy - [ ] Configure audit export - [ ] Set up weekly cost reports - [ ] Define compliance requirements</p> <p>Enforcement: - [ ] Test access denied scenario - [ ] Test approval workflow - [ ] Test escalation triggers - [ ] Monitor first week closely</p>"},{"location":"Security-and-Governance-Policies/#part-2-security-validation-auditing","title":"Part 2: Security Validation &amp; Auditing","text":""},{"location":"Security-and-Governance-Policies/#12-security-validation-runbook","title":"12. Security Validation Runbook","text":"<p>Purpose: Recurring security validation steps for the Nanobot Agentic Operating System.</p>"},{"location":"Security-and-Governance-Policies/#validation-frequency-and-ownership","title":"Validation Frequency and Ownership","text":"<ul> <li>Frequency: Monthly (minimum), and after major config changes</li> <li>Owner: Security/Platform Owner</li> <li>Operator: Assigned Operator</li> <li>Reviewer: Assigned Reviewer</li> </ul>"},{"location":"Security-and-Governance-Policies/#preconditions","title":"Preconditions","text":"<ul> <li>Access to gateway host</li> <li>Access to channel/platform settings (Discord, Slack, Telegram, etc.)</li> <li>Access to Nanobot config and logs</li> <li>Access to Obsidian operational records</li> </ul>"},{"location":"Security-and-Governance-Policies/#how-to-copy-paste-commands-in-linux","title":"How to Copy &amp; Paste Commands in Linux","text":"<p>When you encounter bash commands in validation steps:</p> <p>Quick reference: - Fastest: Highlight \u2192 middle-click in terminal - Reliable: Highlight \u2192 <code>Ctrl+Shift+C</code> \u2192 <code>Ctrl+Shift+V</code> to paste - Fallback: Highlight \u2192 <code>Ctrl+C</code> \u2192 right-click Paste</p> <p>Middle-click paste is native to Linux/Mac terminals and requires no additional steps.</p>"},{"location":"Security-and-Governance-Policies/#13-validation-sequence","title":"13. Validation Sequence","text":"<p>Execute in this order to ensure consistent evidence collection.</p>"},{"location":"Security-and-Governance-Policies/#step-1-gateway-exposure-check","title":"Step 1: Gateway Exposure Check","text":"<ul> <li>Verify gateway bind is loopback-only. (Loopback = only accessible from this computer)</li> <li>Confirm no unintended public bind (0.0.0.0\u2014which means \"accessible to the whole internet\") is active.</li> <li>Validate remote access path is SSH (Secure Shell\u2014encrypted remote access) tunnel or Tailscale network-based.</li> <li>Validate Ollama on local Windows host is reachable from VPS (Virtual Private Server) only via trusted Tailscale path and is not publicly exposed.</li> </ul> <p>Pass Criteria - Gateway is loopback-bound and remote access is controlled.</p> <p>Fail Criteria - Any direct public exposure without approved exception.</p>"},{"location":"Security-and-Governance-Policies/#step-2-dm-policy-and-allowlist-check","title":"Step 2: DM Policy and Allowlist Check","text":"<p>DM = Direct Message (private messages sent to the bot, not in public channels) - Verify DM policy is pairing mode by default. - Validate unknown sender behavior (no command execution before approval). - Verify allowlist entries are current and minimal. (Allowlist = list of approved people/channels)</p> <p>Pass Criteria - DM pairing flow works and allowlist scope is least-privilege.</p>"},{"location":"Security-and-Governance-Policies/#step-3-trust-boundary-check","title":"Step 3: Trust Boundary Check","text":"<ul> <li>Confirm no mutually untrusted operator groups share one gateway trust boundary.</li> <li>Validate separation model (separate gateway/host/OS user) where required.</li> </ul> <p>Pass Criteria - Trust boundaries are documented and enforced.</p>"},{"location":"Security-and-Governance-Policies/#step-4-sandbox-policy-check","title":"Step 4: Sandbox Policy Check","text":"<ul> <li>Verify non-main/shared channels run under sandbox profile where required.</li> <li>Confirm high-risk tools are not broadly exposed in shared contexts.</li> </ul> <p>Pass Criteria - Sandbox rules match policy for shared/non-main sessions.</p>"},{"location":"Security-and-Governance-Policies/#step-5-security-audit-execution","title":"Step 5: Security Audit Execution","text":"<ul> <li>Run <code>nanobot security audit --deep</code> (automated security check for vulnerabilities)</li> <li>Verify deployed Nanobot version is v0.1.4 or later. (Newer versions have security fixes)</li> <li>Review latest Nanobot security advisories and confirm no unpatched High/Critical findings apply to deployed version.</li> <li>Capture findings and classify severity. (Severity = how serious the issue is)</li> <li>Confirm critical findings have immediate mitigation plan.</li> </ul> <p>Pass Criteria - No unresolved critical findings. - Deployed version is at or above the current patched minimum for published advisories.</p>"},{"location":"Security-and-Governance-Policies/#step-6-secrets-and-token-hygiene","title":"Step 6: Secrets and Token Hygiene","text":"<ul> <li>Confirm tokens/secrets are in .env (configuration file with secrets\u2014NOT shared in code) or approved secret store only.</li> <li>Confirm no secrets (API keys, passwords) are present in notes, docs, or source-controlled config.</li> <li>Validate token rotation readiness and last rotation date. (Rotation = changing tokens regularly, like changing passwords)</li> </ul> <p>Pass Criteria - Secret handling policy is fully compliant.</p>"},{"location":"Security-and-Governance-Policies/#step-7-logging-and-evidence-integrity","title":"Step 7: Logging and Evidence Integrity","text":"<ul> <li>Confirm required telemetry fields exist (request_id, project_id, workflow_domain, status, timestamps, model/cost fields where applicable).</li> <li>Confirm incident and change records are persisted to Obsidian.</li> </ul> <p>Pass Criteria - Security-relevant logs are complete and traceable end-to-end.</p>"},{"location":"Security-and-Governance-Policies/#14-evidence-to-capture","title":"14. Evidence to Capture","text":"<ul> <li>Command output snippets (including security audit)</li> <li>Nanobot version output (nanobot --version) and advisory review date</li> <li>Config screenshots or sanitized config excerpts</li> <li>Allowlist review record</li> <li>Sandbox policy verification record</li> <li>Remediation tickets with owners and due dates</li> </ul>"},{"location":"Security-and-Governance-Policies/#15-remediation-sla","title":"15. Remediation SLA","text":"<ul> <li>Critical: immediate containment + fix plan same day</li> <li>High: remediation within 7 days</li> <li>Medium: remediation within 30 days</li> <li>Low: backlog with documented rationale</li> </ul>"},{"location":"Security-and-Governance-Policies/#16-runbook-output-record-template","title":"16. Runbook Output Record Template","text":"<pre><code># Security Validation Report - &lt;YYYY-MM-DD&gt;\n- Run ID:\n- Owner:\n- Operator:\n- Reviewer:\n- Environment:\n\n## Results by Step\n1. Gateway Exposure Check: Pass/Fail\n2. DM Policy and Allowlist Check: Pass/Fail\n3. Trust Boundary Check: Pass/Fail\n4. Sandbox Policy Check: Pass/Fail\n5. Security Audit Execution: Pass/Fail\n6. Secrets and Token Hygiene: Pass/Fail\n7. Logging and Evidence Integrity: Pass/Fail\n\n## Findings\n- Critical:\n- High:\n- Medium:\n- Low:\n\n## Remediation Plan\n- Item:\n  - Owner:\n  - Due Date:\n  - Status:\n\n## Final Decision\n- Overall Status: Pass / Conditional Pass / Fail\n- Next Review Date:\n</code></pre>"},{"location":"Security-and-Governance-Policies/#17-gono-go-rule","title":"17. Go/No-Go Rule","text":"<ul> <li>Go: all critical controls pass and no unresolved critical findings.</li> <li>No-Go: any unresolved critical finding or trust-boundary violation.</li> </ul>"},{"location":"Security-and-Governance-Policies/#part-3-common-mistakes-solutions","title":"Part 3: Common Mistakes &amp; Solutions","text":""},{"location":"Security-and-Governance-Policies/#18-governance-common-mistakes","title":"18. Governance Common Mistakes","text":""},{"location":"Security-and-Governance-Policies/#mistake-1-rbac-config-too-restrictive-users-blocked","title":"\u274c Mistake 1: RBAC Config Too Restrictive, Users Blocked","text":"<p>Problem: Team members can't use necessary tools; constant \"not allowed\" errors Why: <code>allowed_tools</code> list incomplete or too conservative Fix: 1. Audit actual tool usage: <code>nanobot logs --filter=\"tool_denied\" | head -20</code> 2. See what users are trying to do 3. Update allowed_tools:    <pre><code>\"engineering\": {\n  \"allowed_tools\": [\n    \"web_search\",\n    \"github_*\",        // GitHub operations\n    \"shell_exec\",      // Command line\n    \"file_read\",       // Read files\n    \"file_write\",      // Write files\n    \"mcp_call\",        // MCP integrations\n    \"cron_schedule\"    // Scheduled tasks\n  ]\n}\n</code></pre> 4. Restart: <code>nanobot gateway</code></p>"},{"location":"Security-and-Governance-Policies/#mistake-2-tool-whitelist-misspelled-or-mismatched","title":"\u274c Mistake 2: Tool Whitelist Misspelled or Mismatched","text":"<p>Problem: User loses access to tool that was supposedly allowed Why: Tool name in config doesn't match actual tool name Fix: 1. Check exact tool names: <code>nanobot tools list</code> 2. Common mistakes:    <pre><code>\u274c \"github\"          # Wrong - it's github_search, github_pr, etc.\n\u2705 \"github_*\"       # Correct - wildcard matches all github tools\n\n\u274c \"Web_Search\"     # Wrong - lowercase, no underscore\n\u2705 \"web_search\"     # Correct\n\n\u274c \"file_ops\"       # Wrong - not a real tool\n\u2705 \"file_read\" and \"file_write\" # Correct - separate tools\n</code></pre> 3. Validate config: <code>nanobot config validate</code></p>"},{"location":"Security-and-Governance-Policies/#mistake-3-approval-chain-never-completes-bottleneck","title":"\u274c Mistake 3: Approval Chain Never Completes - Bottleneck","text":"<p>Problem: Users waiting hours for approvals; productivity blocked Why: Too many approvers, or approvers offline/not checking Fix: <pre><code>\u274c Too strict:\n{\n  \"requires_approval\": true,\n  \"approval_group\": \"@devops-leads\",  // Only 1 person!\n  \"timeout\": 86400  // 24 hours to approve\n}\n\n\u2705 Better:\n{\n  \"requires_approval\": true,\n  \"approval_group\": [\"@devops-lead\", \"@devops-oncall\", \"@devops-backup\"],\n  \"approval_mode\": \"any\",  // ANY one can approve\n  \"timeout\": 900  // 15 minutes to request, auto-escalate\n}\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#mistake-4-cost-budget-not-enforced-bills-skyrocketing","title":"\u274c Mistake 4: Cost Budget Not Enforced - Bills Skyrocketing","text":"<p>Problem: Monthly bill 5x expected; no alerts or controls Why: Budget limits set but not actually enforced; no alerts configured Fix: <pre><code>\u274c Budget defined but no enforcement:\n{\n  \"budget\": {\n    \"monthly\": 1000,\n    \"team_allocation\": { \"eng\": 600, \"marketing\": 400 }\n  }\n  // No alerts, no hard limit!\n}\n\n\u2705 With enforcement:\n{\n  \"budget\": {\n    \"monthly\": 1000,\n    \"alerts\": {\n      \"at_50_percent\": true,\n      \"at_75_percent\": true,\n      \"at_90_percent\": true,\n      \"channel\": \"#finance\"\n    },\n    \"enforcement\": {\n      \"hard_limit\": true,  \n      \"when_exceeded\": \"disable_high_tier_models\"\n    }\n  }\n}\n</code></pre> 2. Check spend daily: <code>nanobot budget status</code> 3. Set up alerts: <code>nanobot budget alert --set 75% --channel #finance</code></p>"},{"location":"Security-and-Governance-Policies/#mistake-5-audit-logs-deleted-cant-prove-compliance","title":"\u274c Mistake 5: Audit Logs Deleted, Can't Prove Compliance","text":"<p>Problem: Regulator asks \"Who deleted that file?\" - No logs! Why: Log retention too short; logs not being written Fix: <pre><code>\u274c Audit logs might get deleted:\n{\n  \"audit\": {\n    \"enabled\": true,\n    \"retention_days\": 7  // Too short!\n  }\n}\n\n\u2705 Enterprise-grade retention:\n{\n  \"audit\": {\n    \"enabled\": true,\n    \"level\": \"verbose\",\n    \"retention_days\": 365,  // Full year\n    \"export_format\": \"json\",\n    \"backup_location\": \"s3://compliance-bucket/nanobot-logs/\",\n    \"tools_logged\": [\"shell_exec\", \"file_write\", \"mcp_call\", \"github_*\"]\n  }\n}\n</code></pre> 2. Verify logs exist: <code>ls -lh ~/.nanobot/logs/</code> 3. Export to archive: <code>nanobot audit export --format=compliance --days=365</code></p>"},{"location":"Security-and-Governance-Policies/#mistake-6-escalation-rules-never-trigger","title":"\u274c Mistake 6: Escalation Rules Never Trigger","text":"<p>Problem: High-risk/high-cost actions run without waiting for approval Why: Escalation threshold set too high, or action doesn't match rule Fix: <pre><code>\u274c Escalation never triggers:\n{\n  \"escalation\": {\n    \"high_risk_threshold\": 50000,  // Only escalates if &gt;50k tokens\n    \"tools\": [\"shell_exec\"]        // Only shell_exec\n  }\n  // User does web search (5k tokens) - not escalated\n  // User runs github action (3k tokens) - not escalated\n}\n\n\u2705 Proper escalation:\n{\n  \"escalation\": {\n    \"high_risk_tools\": [\"shell_exec\", \"mcp_call\", \"file_write\"],\n    \"high_cost_threshold\": 5000,   // Escalate high-cost actions\n    \"approval_required_for\": [\n      \"shell_exec:*\",         // ALL shell commands need approval\n      \"mcp_call:database\",    // Database MCP calls\n      \"file_write:config\"     // Config file writes\n    ]\n  }\n}\n</code></pre> 2. Test escalation manually: <code>/tool shell_exec test</code> 3. Check approval queue: <code>nanobot approvals list</code></p>"},{"location":"Security-and-Governance-Policies/#19-security-common-mistakes","title":"19. Security Common Mistakes","text":""},{"location":"Security-and-Governance-Policies/#mistake-7-security-audit-shows-findings-but-no-remediation-plan","title":"\u274c Mistake 7: Security Audit Shows Findings But No Remediation Plan","text":"<p>Problem: Audit fails with \"3 High severity findings\"; validation stops Why: Findings documented, but no owner/timeline assigned Fix: 1. For each High/Critical finding, create remediation ticket immediately:    <pre><code># Remediation: [Issue name]\n- Owner: @specific_person (not \"team\")\n- Due Date: [7 days from today for High]\n- Priority: High\n- Ticket: &lt;link&gt;\n</code></pre> 2. Don't mark validation as \"Conditional Pass\" without assigned owner + date 3. Follow up: Check status 3 days before due date</p>"},{"location":"Security-and-Governance-Policies/#mistake-8-token-rotation-never-happens-old-tokens-still-active","title":"\u274c Mistake 8: Token Rotation Never Happens - Old Tokens Still Active","text":"<p>Problem: Last rotation was 6 months ago; old Discord token still working Why: No automated reminder; no rotation policy enforced Fix: 1. Set up rotation auto-reminders: <pre><code>nanobot schedule \"Rotate Discord token\" cron \"0 9 1 * *\"  # 1st of month at 9am\nnanobot schedule \"Rotate API keys\" cron \"0 9 15 * *\"     # 15th of month\n</code></pre> 2. Document last rotation date: <pre><code>- Discord token: Last rotated [DATE] - Due [DATE+90days]\n- OpenRouter API: Last rotated [DATE] - Due [DATE+90days]\n- GitHub token: Last rotated [DATE] - Due [DATE+90days]\n</code></pre> 3. Enforce in config: <pre><code>{\n  \"secrets\": {\n    \"rotation_policy\": \"every_90_days\",\n    \"expiry_alert_days\": 14\n  }\n}\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#mistake-9-sandbox-rules-documented-but-not-enforced","title":"\u274c Mistake 9: Sandbox Rules Documented But Not Enforced","text":"<p>Problem: Security says \"shared channels run in sandbox\"; in reality, they don't Why: Sandbox policy written but config doesn't enforce it Fix: 1. Check actual config enforces sandbox: <pre><code>{\n  \"channels\": {\n    \"#general\": {\n      \"sandbox\": true,\n      \"allowed_tools\": [\"web_search\", \"message_send\"],\n      \"disallowed_tools\": [\"shell_exec\", \"file_write\"]\n    },\n    \"#devops\": {\n      \"sandbox\": false,\n      \"allowed_tools\": \"all\"\n    }\n  }\n}\n</code></pre> 2. Verify it's actually enforced: <pre><code>nanobot config --validate\n# If validation passes, config is syntactically correct\n# But config enforcement = separate system check\n</code></pre> 3. Test sandbox actually blocks: <pre><code>/in #general shell_exec ls\n# Should get: \"Blocked: shell_exec not allowed in #general (sandbox)\"\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#mistake-10-secrets-in-git-history-cant-be-removed","title":"\u274c Mistake 10: Secrets in Git History - Can't Be Removed","text":"<p>Problem: Someone committed API key to GitHub 3 months ago; it's still in history Why: Used plain <code>git rm</code> instead of removing from history Fix: 1. Remove the file from git history using <code>git filter-repo</code>:    <pre><code># Install if needed:\npip install git-filter-repo\ngit filter-repo --path config.json --invert-paths --force\n</code></pre> 2. Force push to remote: <pre><code>git push origin --force --all\n</code></pre> 3. Immediately revoke the compromised token in the service (GitHub, Discord, etc.) 4. Add to .gitignore to prevent future commits: <pre><code>echo \"config.json\" &gt;&gt; .gitignore\necho \".env\" &gt;&gt; .gitignore\necho \"secrets/*\" &gt;&gt; .gitignore\ngit add .gitignore &amp;&amp; git commit -m \"Add secrets to gitignore\"\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#mistake-11-trust-boundary-violation-multiple-untrusted-groups-share-gateway","title":"\u274c Mistake 11: Trust Boundary Violation - Multiple Untrusted Groups Share Gateway","text":"<p>Problem: Engineering team and Marketing team both use same gateway; engineer accesses marketing's Slack token Why: Didn't enforce separation; all users on same process Fix: <pre><code>\u274c No trust boundary enforcement:\ngateway:\n  users: [\"eng-team\", \"marketing-team\"]  # Same process!\n\n\u2705 Separate trust boundaries:\ngateway_engineering:\n  users: [\"eng-team\"]\n  bind: \"127.0.0.1:8000\"\n\ngateway_marketing:\n  users: [\"marketing-team\"]\n  bind: \"127.0.0.1:8001\"\n\n# Even better: Separate hosts/VMs\n</code></pre> 2. Implement: Create separate gateway instances for each trust group 3. Verify separation: <pre><code>ps aux | grep nanobot\n# Should see multiple nanobot processes with different ports\n</code></pre></p>"},{"location":"Security-and-Governance-Policies/#mistake-12-allowlist-has-old-users-who-left-company","title":"\u274c Mistake 12: Allowlist Has Old Users Who Left Company","text":"<p>Problem: Employee left 6 months ago; bot still accepts DMs from their old Discord account Why: Never removed from allowlist config Fix: 1. Quarterly audit: <pre><code>{\n  \"dms\": {\n    \"allowlist\": [\n      \"alice (joined 2026-01-15)\",\n      \"bob (joined 2025-09-01)\",\n      \"dave (REVOKED 2026-02-01 - left company)\"  // Mark as revoked\n    ]\n  }\n}\n</code></pre> 2. Enforce allowlist strictly: <pre><code>nanobot config dms.allowlist --validate\n# Check for stale/revoked entries\n</code></pre> 3. When employee leaves:    - Remove from allowlist immediately    - Revoke any API tokens they created    - Check <code>~/.nanobot/logs/</code> for any emergency access patterns</p>"},{"location":"Security-and-Governance-Policies/#20-troubleshooting-governance-issues","title":"20. Troubleshooting Governance Issues","text":"Problem Symptom Solution User complains \"tool not allowed\" Tool blocked for user Check RBAC config; user in right team? Check channel policy Cost running over budget Monthly spend exceeds threshold Review routing rules; are low-priority tasks using high tiers? Approvals taking too long Users waiting for action Check approval timeout; add more approvers; use instant approval for low-risk Audit logs missing Cannot find historical actions Check log_level and retention; increase verbosity for critical tools Escalations not triggering Cases not bubbling to humans Verify escalation rules match actual thresholds; test with manual override"},{"location":"Security-and-Governance-Policies/#21-common-patterns-by-organization-type","title":"21. Common Patterns by Organization Type","text":""},{"location":"Security-and-Governance-Policies/#startup-lean-speed-focused","title":"Startup (Lean, Speed-Focused)","text":"<pre><code>{\n  \"teams\": [\"engineering\"],\n  \"policies\": \"minimal\",\n  \"approval\": \"self-approve\",\n  \"audit\": \"basic\",\n  \"budget\": \"flexible\"\n}\n</code></pre> <p>Philosophy: Move fast, minimal overhead.</p>"},{"location":"Security-and-Governance-Policies/#scale-up-multiple-teams","title":"Scale-Up (Multiple Teams)","text":"<pre><code>{\n  \"teams\": [\"engineering\", \"marketing\", \"operations\"],\n  \"policies\": \"channel-based\",\n  \"approval\": \"for high-risk + high-cost\",\n  \"audit\": \"weekly reports\",\n  \"budget\": \"per-team allocation\"\n}\n</code></pre> <p>Philosophy: Balance autonomy + accountability.</p>"},{"location":"Security-and-Governance-Policies/#enterprise-compliance-heavy","title":"Enterprise (Compliance-Heavy)","text":"<pre><code>{\n  \"teams\": [\"engineering\", \"marketing\", \"operations\", \"legal\", \"finance\"],\n  \"policies\": \"strict RBAC\",\n  \"approval\": \"required for all risky actions\",\n  \"audit\": \"verbose + compliance export\",\n  \"budget\": \"strict cost centers + chargeback\"\n}\n</code></pre> <p>Philosophy: Governance by default; audit everything.</p>"},{"location":"Security-and-Governance-Policies/#22-revision-history","title":"22. Revision History","text":"Date Version Change 2026-02-26 2.1.0 Fixed #bk-* routing description (backlog \u2192 bookkeeping); generalized Discord-specific precondition; replaced deprecated git filter-branch with git filter-repo in Mistake 10 2026-02-26 2.0.0 Consolidated Security Validation Runbook and Governance Policies into single comprehensive guide 2026-02-25 1.0.0 (Governance) Initial governance policies and config examples 2026-02-23 1.0.0 (Security) Initial monthly security validation runbook"},{"location":"Security-and-Governance-Policies/#related-documents","title":"Related Documents","text":"<ul> <li>Master Index</li> <li>Skills &amp; Tools Complete Guide</li> <li>Cost Calculator &amp; Optimization</li> </ul>"},{"location":"Skills-and-Tools-Complete-Guide/","title":"Nanobot Skills &amp; Tools Complete Guide","text":"<p>Complete, progressive reference for all 14 built-in tools, 9 pre-built skills, essential 5-skill quickstart, and custom skill development.</p>"},{"location":"Skills-and-Tools-Complete-Guide/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.1.0</li> <li>Last Updated: 2026-02-26</li> <li>Status: Active</li> <li>Scope: Tools, pre-built skills, essential skills, custom development, troubleshooting</li> </ul>"},{"location":"Skills-and-Tools-Complete-Guide/#quick-navigation","title":"Quick Navigation","text":"<p>New to nanobot? Start with Essential 5-Skill Quickstart \u2192 then explore Pre-Built Skills</p> <p>Exploring tools? See Tool Details &amp; Configuration or the Tool Matrix</p> <p>Building custom skills? Go to Custom Skill Development \u2192 then Best Practices</p> <p>Daily automation examples? See Part 3: Daily Operations Example</p> <p>Troubleshooting? Jump to Troubleshooting &amp; Common Mistakes</p>"},{"location":"Skills-and-Tools-Complete-Guide/#part-1-tools-built-in-skills-overview","title":"Part 1: Tools &amp; Built-In Skills Overview","text":""},{"location":"Skills-and-Tools-Complete-Guide/#what-are-tools-vs-skills","title":"What Are Tools vs. Skills?","text":"<p>Tools = Single executable actions (web search, write file, run command, etc.) Skills = Pre-built, opinionated bundles of tools configured for specific workflows (obsidian integration, memory management, cron scheduling, etc.)</p>"},{"location":"Skills-and-Tools-Complete-Guide/#tool-matrix-all-14-built-in-tools","title":"Tool Matrix (All 14 Built-In Tools)","text":"Tool Purpose Risk Cost Notes web_search Real-time web search (Brave API) Low ~$0.01 Requires Brave API key web_fetch Retrieve &amp; parse full web pages Low Free Rate-limited file_read Read files (workspace-scoped) Low Free Sandbox-enforced file_write Create/overwrite files Medium Free Audit-logged file_edit Edit specific lines in files Medium Free Line-based; audit-logged file_list List directory contents Low Free Workspace-visible only shell_exec Execute shell commands High Free Operator-restricted; logged message_send Send alerts/notifications Low Free Cross-channel possible mcp_call Call MCP server tools High Varies Custom auth supported cron_schedule Schedule recurring tasks Medium Free Cron syntax subagent_spawn Launch parallel agents High Varies Own context/memory github_search Search GitHub repos Low Free Public access github_pr_create Create pull requests High Free Requires token github_action_trigger Trigger GitHub workflows High Free Requires permissions"},{"location":"Skills-and-Tools-Complete-Guide/#part-1a-tool-details-configuration","title":"Part 1A: Tool Details &amp; Configuration","text":""},{"location":"Skills-and-Tools-Complete-Guide/#web_search","title":"web_search","text":"<p>Purpose: Real-time search via Brave Search API Required API Key: Yes (Brave) Cost: ~$0.01-0.05 per search Config: <pre><code>{\n  \"braveApiKey\": \"YOUR_BRAVE_KEY\"\n}\n</code></pre> Usage: <code>nanobot: \"Find 3 articles about AI safety from this week\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#web_fetch","title":"web_fetch","text":"<p>Purpose: Download and parse web pages full-text Cost: None Usage: <code>nanobot: \"Summarize this page: https://example.com/article\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#file_read-file_write-file_edit-file_list","title":"file_read / file_write / file_edit / file_list","text":"<p>Purpose: Access workspace files Workspace Scope: All paths relative to <code>~/.nanobot/workspace/</code> Security: Cannot escape workspace root Usage Examples: <pre><code>\"Read the project README\"\n\"Create a deployment checklist in deploy-checklist.md\"\n\"Update line 10 in config.json to set debug=true\"\n\"List all Python files in src/\"\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#shell_exec","title":"shell_exec","text":"<p>Purpose: Execute OS commands Risk Tier: High Config: <pre><code>{\n  \"tools\": {\n    \"shell\": {\n      \"enabled\": true,\n      \"allowFrom\": [\"USER_ID_1\", \"USER_ID_2\"],\n      \"timeout\": 30,\n      \"blocklist\": [\"rm -rf\", \"sudo dd\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#message_send","title":"message_send","text":"<p>Purpose: Send cross-channel alerts, escalations, notifications Usage Examples: <pre><code>\"Alert team in #incidents that model latency &gt; 5s\"\n\"Send daily summary to #ops-digest\"\n\"Notify owner in #alerts about high spend\"\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mcp_call","title":"mcp_call","text":"<p>Purpose: Call externally hosted MCP (Model Context Protocol) tools Examples of MCP Tools: - Filesystem operations on remote systems - Database queries - API calls to internal services - Custom business logic tools Config: <pre><code>{\n  \"mcpServers\": {\n    \"mydb\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/db_mcp_server.py\"],\n      \"customHeaders\": {\n        \"Authorization\": \"Bearer YOUR_TOKEN\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#cron_schedule","title":"cron_schedule","text":"<p>Purpose: Schedule tasks to run on recurring schedule Syntax: Standard cron (minute hour day month weekday) Examples: <pre><code>\"0 9 * * 1-5\" \u2192 Every weekday at 9 AM\n\"0 * * * *\" \u2192 Every hour\n\"*/15 * * * *\" \u2192 Every 15 minutes\n\"0 23 * * *\" \u2192 Daily at 11 PM\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#subagent_spawn","title":"subagent_spawn","text":"<p>Purpose: Launch independent agents for parallel work Use Cases: - Parallel research across multiple sources - Delegated tasks (research, fix, monitor simultaneously) - Complex multi-step workflows - Fact-checking and verification Config: <pre><code>{\n  \"orchestration\": {\n    \"maxSpawnDepth\": 2,\n    \"maxConcurrentAgents\": 5,\n    \"costCeiling\": 5.00,\n    \"subagentDefaults\": {\n      \"model_fast\": \"qwen-2-72b\",\n      \"model_smart\": \"claude-opus\",\n      \"timeout_seconds\": 300\n    }\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#github_search-github_pr_create-github_action_trigger","title":"github_search, github_pr_create, github_action_trigger","text":"<p>Purpose: Automate GitHub workflows Required: GitHub personal access token Config: <pre><code>{\n  \"tools\": {\n    \"github\": {\n      \"token\": \"github_pat_...\",\n      \"allowFrom\": [\"USER_ID\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#part-1b-the-9-pre-built-skills","title":"Part 1B: The 9 Pre-Built Skills","text":""},{"location":"Skills-and-Tools-Complete-Guide/#1-obsidian","title":"1. obsidian","text":"<p>Purpose: Read, write, and query Obsidian vault from nanobot Why Essential: Core memory plane; all AOS artifacts stored here for audit and recovery Install: Built-in or <code>nanobot skill add obsidian</code> Config: <pre><code>{\n  \"obsidianVaultPath\": \"~/Documents/ObsidianVault\",\n  \"obsidianRestEndpoint\": \"http://localhost:27123\",\n  \"obsidianRestToken\": \"token...\"\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#2-memory","title":"2. memory","text":"<p>Purpose: Automatic session management, memory consolidation, context optimization Why Essential: Enables long conversations without token explosion; automatic history summarization Install: Built-in Config: <pre><code>{\n  \"session\": {\n    \"memoryWindow\": 100,\n    \"maxSessionTokens\": 32000,\n    \"consolidationInterval\": 10\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#3-summarize","title":"3. summarize","text":"<p>Purpose: Condense long content while preserving key information Why Essential: Reduces token burn, improves clarity for reports and digests Install: Built-in Config: <pre><code>{\n  \"summarize\": {\n    \"targetLength\": \"concise\",\n    \"preserveCitations\": true\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#4-cron","title":"4. cron","text":"<p>Purpose: Schedule tasks to run on recurring schedules Why Essential: Enables proactive, always-on operations (daily journal, health checks, backups) Install: <code>nanobot skill add cron</code> Config: <pre><code>{\n  \"cron\": {\n    \"timezone\": \"UTC\",\n    \"maxConcurrentJobs\": 3,\n    \"jobTimeout\": 1800\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#5-github","title":"5. github","text":"<p>Purpose: GitHub automation (search repos, create PRs, trigger workflows) Why Essential: Enables GitOps automation from chat; CI/CD triggers from Discord/Slack Install: Built-in; requires token Config: <pre><code>{\n  \"github\": {\n    \"token\": \"github_pat_...\",\n    \"defaultOrg\": \"your-org\",\n    \"allowFrom\": [\"OPERATOR_USER_ID\"]\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#6-weather","title":"6. weather","text":"<p>Purpose: Fetch current and forecast weather data Install: <code>nanobot skill add weather</code> Cost: Free (community weather service)  </p>"},{"location":"Skills-and-Tools-Complete-Guide/#7-clawhub","title":"7. clawhub","text":"<p>Purpose: Search and install public skills from ClawHub marketplace Install: <code>nanobot skill add clawhub</code> Note: Vet all skills before installing  </p>"},{"location":"Skills-and-Tools-Complete-Guide/#8-skill-creator","title":"8. skill-creator","text":"<p>Purpose: Auto-generate new skills from natural language descriptions Install: <code>nanobot skill add skill-creator</code> Usage: <pre><code>\"Create a new skill: read financial PDFs and extract quarterly earnings\"\n\"Generate a skill for checking DNS records\"\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#9-tmux","title":"9. tmux","text":"<p>Purpose: Control terminal multiplexer for advanced automation Install: <code>nanobot skill add tmux</code> Config: <pre><code>{\n  \"tmux\": {\n    \"defaultSession\": \"main\",\n    \"allowFrom\": [\"TRUSTED_USER_ID\"]\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#part-2-essential-5-skill-quickstart","title":"Part 2: Essential 5-Skill Quickstart","text":"<p>\u2b50 START HERE if you're new to nanobot. These 5 skills cover 80% of deployments. Learn these first, add others as needed.</p>"},{"location":"Skills-and-Tools-Complete-Guide/#installation-checklist","title":"Installation Checklist","text":"<ul> <li> obsidian - Configured with vault path and REST endpoint</li> <li> memory - Session consolidation enabled (default)</li> <li> cron - Installed and tested with one schedule</li> <li> summarize - Tested with a long document</li> <li> github - Token configured and tested with one search</li> </ul>"},{"location":"Skills-and-Tools-Complete-Guide/#essential-skill-1-obsidian","title":"Essential Skill 1: Obsidian","text":"<p>Purpose: Read, write, and query Obsidian vault; core memory plane for audit and recovery  </p>"},{"location":"Skills-and-Tools-Complete-Guide/#obsidian-local-rest-api-setup-required","title":"Obsidian Local REST API Setup (Required)","text":"<p>REST API = a standard way for programs to exchange data via HTTP requests.</p> <p>Step 1: Enable Community Plugins 1. Open Obsidian \u2192 Settings \u2192 Community Plugins 2. Toggle Turn on community plugins (if not already on) 3. Search for \"Local REST API\" by Coremute 4. Click Install</p> <p>Step 2: Configure REST API 1. Go to Settings \u2192 Local REST API 2. Enable the plugin 3. Note the Ribbon Icon appears in left sidebar 4. Click the icon to see your API details:    - Listening on: http://localhost:27123 (or another port)    - API Token: (long hex string)</p> <p>Step 3: Update Nanobot Config <pre><code>{\n  \"obsidian\": {\n    \"vaultPath\": \"/Users/your-username/Documents/MyVault\",\n    \"restEndpoint\": \"http://localhost:27123\",\n    \"restToken\": \"&lt;paste-token-here&gt;\"\n  }\n}\n</code></pre></p> <p>Step 4: Test Connection <pre><code>nanobot test-vault --path /Users/your-username/Documents/MyVault\n# Should return: \u2705 Vault accessible\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#common-obsidian-mistakes-solutions","title":"Common Obsidian Mistakes &amp; Solutions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-rest-api-plugin-not-installed","title":"\u274c Mistake 1: REST API Plugin Not Installed","text":"<p>Fix: 1. Open Obsidian \u2192 Settings \u2192 Community Plugins 2. Search \"Local REST API\" by Coremute 3. Click Install then Enable 4. Restart Obsidian 5. Test: <code>nanobot test-vault</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-wrong-vault-path-in-config","title":"\u274c Mistake 2: Wrong Vault Path in Config","text":"<p>Fix: - Use absolute path: <code>/Users/username/Documents/MyVault</code> (not <code>~/MyVault</code>) - On Windows: Use forward slashes <code>/</code> or escaped backslashes <code>\\\\</code> - Test path exists: <code>ls /Users/username/Documents/MyVault</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-using-wrong-port-number","title":"\u274c Mistake 3: Using Wrong Port Number","text":"<p>Fix: 1. Open Obsidian REST API ribbon icon (left sidebar) 2. Check \"Listening on: http://localhost:XXXX\" 3. Copy exact port number 4. Update nanobot config with correct port 5. Restart</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-4-rest-api-token-missing-or-revoked","title":"\u274c Mistake 4: REST API Token Missing or Revoked","text":"<p>Fix: 1. Click REST API ribbon icon 2. Copy fresh token 3. Update nanobot config 4. Restart nanobot</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-5-obsidian-lockedfile-sync-conflict","title":"\u274c Mistake 5: Obsidian Locked/File Sync Conflict","text":"<p>Fix: 1. Move vault out of cloud sync folder temporarily, OR 2. Disable cloud sync while nanobot is writing, OR 3. Use <code>.gitignore</code> to exclude <code>.obsidian</code> folder from sync</p>"},{"location":"Skills-and-Tools-Complete-Guide/#essential-skill-2-memory","title":"Essential Skill 2: Memory","text":"<p>Purpose: Automatic session management, memory consolidation, context optimization; enables long conversations without token explosion</p>"},{"location":"Skills-and-Tools-Complete-Guide/#configuration","title":"Configuration","text":"<pre><code>{\n  \"session\": {\n    \"memoryWindow\": 100,\n    \"maxSessionTokens\": 32000,\n    \"consolidationInterval\": 10\n  }\n}\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#common-memory-mistakes-solutions","title":"Common Memory Mistakes &amp; Solutions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-memory-consolidation-not-running","title":"\u274c Mistake 1: Memory Consolidation Not Running","text":"<p>Fix: 1. Check config: <code>consolidationInterval: 10</code> (consolidates every 10 messages) 2. If set to 0, consolidation is disabled; change to 10-20 3. Restart nanobot 4. Watch logs for \"Consolidating memory...\" messages</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-context-window-always-hits-max-too-fast","title":"\u274c Mistake 2: Context Window Always Hits Max Too Fast","text":"<p>Fix: - Increase from 32000 to 50000-80000 (if your LLM supports it) - Check your LLM token limits - Set <code>maxSessionTokens</code> to 80% of model's limit</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-memory-not-carrying-over-between-sessions","title":"\u274c Mistake 3: Memory Not Carrying Over Between Sessions","text":"<p>Fix: 1. Add to config: <code>\"persistentSessions\": true</code> 2. Restart nanobot 3. Sessions now auto-save to <code>~/.nanobot/sessions/</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#essential-skill-3-cron-scheduling","title":"Essential Skill 3: Cron (Scheduling)","text":"<p>Purpose: Schedule tasks to run on recurring schedules; enables proactive, always-on operations</p>"},{"location":"Skills-and-Tools-Complete-Guide/#cron-syntax-cheat-sheet","title":"Cron Syntax Cheat Sheet","text":"<pre><code>\"0 9 * * 1-5\" \u2192 Every weekday at 9 AM\n\"0 * * * *\" \u2192 Every hour\n\"*/15 * * * *\" \u2192 Every 15 minutes\n\"0 23 * * *\" \u2192 Daily at 11 PM\n\"0 0 * * 0\" \u2192 Every Sunday at midnight\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#common-cron-mistakes-solutions","title":"Common Cron Mistakes &amp; Solutions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-cron-job-uses-wrong-timezone","title":"\u274c Mistake 1: Cron Job Uses Wrong Timezone","text":"<p>Fix: 1. Check config: <code>\"timezone\": \"UTC\"</code> (is this your actual timezone?) 2. If in US Eastern: Change to <code>\"America/New_York\"</code> 3. See full list: <code>nanobot config cron --list-timezones</code> 4. Test: <code>\"Schedule test job for 30 seconds from now\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-scheduled-task-fails-silently","title":"\u274c Mistake 2: Scheduled Task Fails Silently","text":"<p>Fix: 1. Check job definition: Simple commands work better 2. Increase <code>jobTimeout</code> from 1800 to 3600 seconds if jobs take long 3. Check logs: <code>nanobot logs --filter=\"cron\"</code> 4. Test task manually first before scheduling</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-too-many-jobs-scheduled-system-overload","title":"\u274c Mistake 3: Too Many Jobs Scheduled, System Overload","text":"<p>Fix: 1. Reduce <code>maxConcurrentJobs</code> from 5 to 2-3 2. Space out job schedules (don't run 5 jobs at 23:50) 3. Example good spacing: 23:50, 00:10, 00:30 4. Check queue: <code>nanobot cron --status</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#essential-skill-4-summarize","title":"Essential Skill 4: Summarize","text":"<p>Purpose: Condense long content while preserving key information; reduces token burn, improves clarity</p>"},{"location":"Skills-and-Tools-Complete-Guide/#configuration_1","title":"Configuration","text":"<pre><code>{\n  \"summarize\": {\n    \"targetLength\": \"concise\",  // Options: \"terse\", \"concise\", \"detailed\"\n    \"preserveCitations\": true\n  }\n}\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#common-summarize-mistakes-solutions","title":"Common Summarize Mistakes &amp; Solutions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-summary-is-too-short-missing-key-details","title":"\u274c Mistake 1: Summary Is Too Short, Missing Key Details","text":"<p>Fix: 1. Change to <code>\"targetLength\": \"concise\"</code> for better detail retention 2. Or specify exact length: <code>\"Summarize to exactly 5 sentences\"</code> 3. Always use <code>\"preserveCitations\": true</code> to keep references</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-summary-is-incoherent-or-jargon-heavy","title":"\u274c Mistake 2: Summary Is Incoherent or Jargon-Heavy","text":"<p>Fix: 1. Add instruction: <code>\"Summarize in simple language for non-technical users\"</code> 2. Or: <code>\"Explain this like you're talking to a 10-year-old\"</code> 3. Test with different personas to find clearest explanation</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-losing-source-links-and-citations","title":"\u274c Mistake 3: Losing Source Links and Citations","text":"<p>Fix: 1. Enable: <code>\"preserveCitations\": true</code> 2. Request: <code>\"Summarize with at least 3 citations and page numbers\"</code> 3. For Obsidian: <code>\"Summarize and add wiki links to referenced notes\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#essential-skill-5-github","title":"Essential Skill 5: GitHub","text":"<p>Purpose: GitHub automation (search repos, create PRs, trigger workflows); enables GitOps from chat</p>"},{"location":"Skills-and-Tools-Complete-Guide/#configuration_2","title":"Configuration","text":"<pre><code>{\n  \"github\": {\n    \"token\": \"github_pat_...\",\n    \"defaultOrg\": \"your-org\",\n    \"allowFrom\": [\"OPERATOR_USER_ID\"]\n  }\n}\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#common-github-mistakes-solutions","title":"Common GitHub Mistakes &amp; Solutions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-github-token-has-wrong-permissions","title":"\u274c Mistake 1: GitHub Token Has Wrong Permissions","text":"<p>Fix: 1. Go to GitHub \u2192 Settings \u2192 Developer settings \u2192 Personal access tokens 2. Create new token with these scopes:    - \u2705 <code>repo</code> (full repository access)    - \u2705 <code>workflow</code> (to trigger Actions)    - \u2705 <code>read:org</code> (to access org repos) 3. Copy exact token (no extra spaces) 4. Update config and restart nanobot</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-workflows-not-triggering-or-wrong-workflow-selected","title":"\u274c Mistake 2: Workflows Not Triggering, or Wrong Workflow Selected","text":"<p>Fix: 1. Check file exists: <code>.github/workflows/deploy.yml</code> (exact case/spelling) 2. Add trigger at top of workflow file:    <pre><code>on:\n  workflow_dispatch:\n</code></pre> 3. Commit &amp; push to GitHub 4. Retry: <code>\"Trigger the deploy workflow\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-token-exposed-or-accidentally-committed","title":"\u274c Mistake 3: Token Exposed or Accidentally Committed","text":"<p>Fix: 1. Immediately: Regenerate token in GitHub settings (old one compromised) 2. Remove old token from commit history: <code>git filter-branch --force --index-filter \"git rm --cached --ignore-unmatch .env\" -- --all</code> 3. Create <code>.env</code> file and add to <code>.gitignore</code>:    <pre><code>echo \"GITHUB_TOKEN=github_pat_...\" &gt;&gt; .env\necho \".env\" &gt;&gt; .gitignore\n</code></pre> 4. Update nanobot to read from <code>.env</code> instead of config file</p>"},{"location":"Skills-and-Tools-Complete-Guide/#part-3-daily-operations-example","title":"Part 3: Daily Operations Example","text":""},{"location":"Skills-and-Tools-Complete-Guide/#daily-journal-using-cron-obsidian-summarize","title":"Daily Journal Using Cron + Obsidian + Summarize","text":"<p>Combine three essential skills to automate daily operational journaling:</p> <p>Archivist Personality (add to config or SOUL.md):</p> <p>What is SOUL.md? A root-level personality file at <code>~/.nanobot/SOUL.md</code> that defines persistent behavioral instructions for your nanobot instance \u2014 how it addresses users, its default workflow style, and standing operational routines like this journal. It loads on every startup. Think of it as the agent's standing operating procedure.</p> <pre><code># AOS Archivist Identity\n\nEvery night at 23:50, run this routine:\n\n1. **Analyze Discord history** from #aos-control and #general channels\n2. **Extract key metadata:** milestones, technical hurdles, model performance notes\n3. **Format for Obsidian** using structured template\n4. **Write to vault** at 00-System/AOS-Journal/{{date}}.md\n5. **Include metadata:**\n   - Model used today\n   - Context efficiency notes\n   - 3-sentence summary\n\n**Template:**\n# AOS Operational Journal: {{date}}\n\n## \ud83d\udee0 Technical Milestones\n* [List of tasks completed]\n\n## \ud83e\udde0 Model Context &amp; Performance\n* Model Used: {{primary_model}}\n* Context Efficiency: [Memory retention rating]\n\n## \ud83d\udcdd Summary\n[3-sentence summary of the day]\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#part-4-custom-skill-development","title":"Part 4: Custom Skill Development","text":""},{"location":"Skills-and-Tools-Complete-Guide/#understanding-skills-architecture","title":"Understanding Skills Architecture","text":"<p>A Skill is an extension that adds new capabilities to your nanobot deployment. Unlike pre-built skills, custom skills are: - Created on-demand for your specific workflows - Hot-reloaded without system restart - Composable\u2014built from existing tools - Operator-injectable via chat interface</p>"},{"location":"Skills-and-Tools-Complete-Guide/#skill-types","title":"Skill Types","text":"Skill Type Best For Complexity Deploy Time Prompt-Only Reasoning, summarization, content generation Low &lt;5 min Tool-Based System integration, API calls, file operations Medium 15-30 min Orchestrated Multi-step workflows, delegated sub-tasks High 30+ min"},{"location":"Skills-and-Tools-Complete-Guide/#skill-file-structure","title":"Skill File Structure","text":"<pre><code>~/.nanobot/skills/my-custom-skill/\n\u251c\u2500\u2500 SKILL.md          # Metadata + logic (required)\n\u251c\u2500\u2500 README.md         # Usage guide (optional)\n\u251c\u2500\u2500 requirements.txt  # Python dependencies (if tool-based)\n\u2514\u2500\u2500 implementation.py # Python code (if tool-based)\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#skillmd-format","title":"SKILL.md Format","text":""},{"location":"Skills-and-Tools-Complete-Guide/#minimal-prompt-only-skill-example","title":"Minimal Prompt-Only Skill Example","text":"<pre><code>---\nname: standup\ndescription: Summarizes recent work into a standup report\nversion: 1.0.0\ncategory: reporting\nuser-invocable: true\n---\n\n# Purpose\nGenerate a concise standup summary from recent Obsidian logs.\n\n# Trigger\nUser types: `/standup` or mentions \"give me a standup\"\n\n# Workflow\n1. Search Obsidian vault for files modified in last 24 hours from `07-Projects/` folder\n2. Read the 3 most recent entries\n3. Extract \"Completed\", \"In Progress\", \"Blockers\" sections\n4. Format as brief standup (Yesterday \u2192 Today \u2192 Blockers)\n\n# Output Format\n**Yesterday:** [bullet list of completed items]\n**Today:** [planned work]\n**Blockers:** [any issues or blocked items]\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#tool-based-skill-python-example","title":"Tool-Based Skill (Python) Example","text":"<pre><code>---\nname: health-check\ndescription: Monitor system resources and connection health\nversion: 1.0.0\ncategory: operations\ntype: tool-based\nentry-point: implementation.py::run_health_check\nuser-invocable: true\ntools-required: [shell_exec, message_send]\n---\n\n# Purpose\nCheck CPU, memory, disk, and network health. Alert if thresholds exceeded.\n\n# Trigger\nUser types: `/health` or automatic daily at 09:00 UTC\n\n# Metrics Checked\n- CPU usage &gt; 80% \u2192 WARN\n- Memory usage &gt; 85% \u2192 WARN\n- Disk usage &gt; 90% \u2192 CRITICAL\n- Nanobot process running \u2192 OK/FAIL\n- Connection to LLM provider \u2192 OK/FAIL\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#operator-injected-skills","title":"Operator-Injected Skills","text":""},{"location":"Skills-and-Tools-Complete-Guide/#install-from-repository","title":"Install from Repository","text":"<ol> <li> <p>Paste link in Discord: <pre><code>@nanobot install skill: https://github.com/user/nanobot-skill-example\n</code></pre></p> </li> <li> <p>The bot will:</p> </li> <li>Analyze SKILL.md file</li> <li>Check for security risks</li> <li> <p>Ask for confirmation</p> </li> <li> <p>Once approved:</p> </li> <li>Clones to <code>~/.nanobot/skills/</code></li> <li>Hot-reloads gateway</li> <li>Confirms: \"Skill registered. Try <code>/example</code> to test.\"</li> </ol>"},{"location":"Skills-and-Tools-Complete-Guide/#create-a-new-skill-via-chat","title":"Create a New Skill via Chat","text":"<pre><code>@nanobot create skill:\n- Name: task-tracker\n- Goal: Extract TODO items from Discord messages\n- Action: Append them to Obsidian inbox.md\n- Trigger: Any message starting with \"TODO:\"\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#skill-lifecycle-management","title":"Skill Lifecycle Management","text":""},{"location":"Skills-and-Tools-Complete-Guide/#activation","title":"Activation","text":"<pre><code>/skill enable task-tracker\n/skill list --enabled\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#testing","title":"Testing","text":"<pre><code>/skill test task-tracker --sample \"TODO: Review PR #42\"\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#monitoring","title":"Monitoring","text":"<pre><code>/skill stats --skill standup --days 7\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#updates","title":"Updates","text":"<pre><code>/skill reload task-tracker\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#deactivation","title":"Deactivation","text":"<pre><code>/skill disable task-tracker\n/skill uninstall task-tracker\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#security-permissions","title":"Security &amp; Permissions","text":""},{"location":"Skills-and-Tools-Complete-Guide/#permission-tiers","title":"Permission Tiers","text":"Permission Description Risk Level read_obsidian Read vault files Low write_obsidian Create/edit notes Medium shell_exec Run system commands High file_write Write files outside Obsidian High mcp_call Access external APIs High message_send Send external messages Medium"},{"location":"Skills-and-Tools-Complete-Guide/#declaring-permissions","title":"Declaring Permissions","text":"<p>In your SKILL.md:</p> <pre><code>---\nname: advanced-task-processor\npermissions:\n  - read_obsidian\n  - write_obsidian\n  - shell_exec\n  - mcp_call\n---\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#tool-cost-performance-reference","title":"Tool Cost &amp; Performance Reference","text":"Tool Latency Cost/Call Context web_search 2-5s ~$0.01 5-10KB web_fetch 1-3s Free 10-50KB file_* &lt;100ms Free &lt;1KB shell_exec 1-30s Free Varies message_send &lt;100ms Free &lt;1KB mcp_call Varies Varies Varies cron_schedule N/A Free None subagent_spawn High Variable +memory github_* 1-5s Free &lt;5KB <p>Next: See Best Practices for skill naming conventions, documentation standards, and testing commands before writing your first custom skill.</p>"},{"location":"Skills-and-Tools-Complete-Guide/#part-5-troubleshooting-common-mistakes","title":"Part 5: Troubleshooting &amp; Common Mistakes","text":""},{"location":"Skills-and-Tools-Complete-Guide/#tool-allowlisting-aos-security","title":"Tool Allowlisting (AOS Security)","text":"<p>Restrict tools per channel using tool group aliases (shorthand for the canonical tool names in the Tool Matrix above):</p> Alias Canonical Tool(s) <code>shell</code> <code>shell_exec</code> <code>mcp</code> <code>mcp_call</code> <code>github</code> <code>github_search</code>, <code>github_pr_create</code>, <code>github_action_trigger</code> <code>web</code> <code>web_search</code>, <code>web_fetch</code> <code>file</code> <code>file_read</code>, <code>file_write</code>, <code>file_edit</code>, <code>file_list</code> <code>message</code> <code>message_send</code> <code>obsidian</code> skill: obsidian (file_read/write scoped to vault) <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"allowedTools\": {\n        \"#ctl-nanobot\": [\"shell\", \"mcp\", \"github\"],\n        \"#prd-*\": [\"web\", \"file\", \"message\"],\n        \"#bk-*\": [\"file\", \"message\", \"obsidian\"],\n        \"#res-*\": [\"web\", \"message\", \"obsidian\"],\n        \"default\": [\"web\", \"file\", \"message\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#common-tool-mistakes","title":"Common Tool Mistakes","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-tool-allowlist-misspelled-tool-blocked-for-all-users","title":"\u274c Mistake 1: Tool Allowlist Misspelled - Tool Blocked for All Users","text":"<p>Problem: \"I configured web_search as allowed, but getting 'tool not allowed' error\" Fix: - Check exact tool names: <code>nanobot tools list</code> - Common misspellings:   <pre><code>\u274c \"allowed_tools\": [\"web search\"]      # Wrong - has space\n\u274c \"allowed_tools\": [\"web_Search\"]      # Wrong - capital S\n\u2705 \"allowed_tools\": [\"web_search\"]      # Correct - exact match\n</code></pre> - Validate config: <code>nanobot config validate</code> - Restart nanobot after config changes</p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-brave-api-key-not-set-web_search-silently-fails","title":"\u274c Mistake 2: Brave API Key Not Set, web_search Silently Fails","text":"<p>Problem: Users try <code>/web_search</code>, nothing happens; no error Fix: 1. Get API key from Brave Search API 2. Add to config:    <pre><code>{\n  \"tools\": {\n    \"web_search\": {\n      \"enabled\": true,\n      \"braveApiKey\": \"YOUR_KEY_HERE\"\n    }\n  }\n}\n</code></pre> 3. Restart nanobot 4. Test: <code>nanobot test-tool web_search \"test query\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-shell_exec-allowlist-is-empty-no-one-can-run-commands","title":"\u274c Mistake 3: shell_exec Allowlist Is Empty - No One Can Run Commands","text":"<p>Problem: \"Need to execute commands but keep getting 'not allowed' error\" Fix: <pre><code>\u2705 With allowlist (specific users allowed):\n{\n  \"tools\": {\n    \"shell_exec\": {\n      \"enabled\": true,\n      \"allowFrom\": [\n        \"DISCORD_USER_ID_1\",\n        \"DISCORD_USER_ID_2\",\n        \"@devops\"\n      ],\n      \"timeout\": 30,\n      \"blocklist\": [\"rm -rf\", \"sudo dd\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-4-mcp-server-connections-fail-auth-headers-missing","title":"\u274c Mistake 4: MCP Server Connections Fail - Auth Headers Missing","text":"<p>Problem: \"Cannot connect to MCP server: mydb - Connection refused\" Fix: 1. Verify MCP server running: <code>curl http://localhost:3000/health</code> 2. Add auth to config:    <pre><code>{\n  \"mcpServers\": {\n    \"mydb\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/db_mcp_server.py\"],\n      \"customHeaders\": {\n        \"Authorization\": \"Bearer YOUR_TOKEN\",\n        \"X-API-Key\": \"your-api-key\"\n      }\n    }\n  }\n}\n</code></pre> 3. Restart nanobot 4. Test: <code>nanobot test-tool mcp_call mydb --query \"SELECT 1\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-5-cron-jobs-never-fire-wrong-timezone-or-syntax","title":"\u274c Mistake 5: Cron Jobs Never Fire - Wrong Timezone or Syntax","text":"<p>Problem: Scheduled job set for \"9 AM daily\" but never runs; or runs at wrong time Fix: 1. Check timezone: UTC or your actual timezone? 2. Verify cron syntax: <code>nanobot cron validate \"0 9 * * *\"</code> 3. Common syntax mistakes:    <pre><code>\u274c \"9 * * * *\"       # Runs every hour at minute 9 (not 9 AM!)\n\u2705 \"0 9 * * *\"       # Runs at 9 AM\n\n\u274c \"0 9 * * * *\"     # Too many fields (cron has 5, not 6)\n\u2705 \"0 9 * * *\"       # 5 fields: minute, hour, day, month, day-of-week\n</code></pre> 4. List cron jobs: <code>nanobot cron list</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-6-subagent-spawning-consumes-too-many-tokens-cost-explosion","title":"\u274c Mistake 6: Subagent Spawning Consumes Too Many Tokens - Cost Explosion","text":"<p>Problem: Spawned 5 agents, bill was 10x expected Fix: 1. Give each agent a focused single task and share memory context: <pre><code>\u2705 Better - shared context, split specific tasks:\nagents = await nanobot.spawn_subagents(\n    count=3,\n    shared_context=True,  # Agents share memory\n    tasks=[\n        \"Research company A\",\n        \"Research company B\", \n        \"Research company C\"\n    ]\n)\n</code></pre> 2. Estimate cost: <code>nanobot estimate-cost --agents=5 --context=shared</code> 3. Use sparingly: Reserve for complex, high-value tasks 4. Monitor: <code>nanobot logs --filter=\"subagent\" | grep \"tokens_used\"</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#common-skill-mistakes","title":"Common Skill Mistakes","text":""},{"location":"Skills-and-Tools-Complete-Guide/#mistake-1-skillmd-metadata-syntax-wrong","title":"\u274c Mistake 1: SKILL.md Metadata Syntax Wrong","text":"<p>Problem: Skill won't register; error: \"Invalid YAML metadata\" Fix: - Field names must be lowercase with hyphens, not underscores:   <pre><code>\u274c user_invocable: true       # Wrong\n\u2705 user-invocable: true       # Correct\n</code></pre> - Values containing colons must be quoted (bare strings without colons are fine):   <pre><code>\u274c description: Config: phase one   # colon in value breaks YAML parsing\n\u2705 description: \"Config: phase one\" # quoted = safe\n\u2705 description: Summarizes recent work  # no colon = no quotes needed\n</code></pre> - Validate: <code>nanobot skill validate ~/.nanobot/skills/my-skill/SKILL.md</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-2-python-skill-missing-dependencies","title":"\u274c Mistake 2: Python Skill Missing Dependencies","text":"<p>Problem: Skill runs, then crashes: <code>ModuleNotFoundError: psutil</code> Fix: 1. Add to <code>requirements.txt</code>:    <pre><code>psutil==6.0.0\nrequests==2.31.0\n</code></pre> 2. Install: <code>pip install -r ~/.nanobot/skills/my-skill/requirements.txt</code> 3. Or let nanobot auto-install: Check config <code>\"auto_install_deps\": true</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-3-skill-references-undefined-tool-or-permission","title":"\u274c Mistake 3: Skill References Undefined Tool or Permission","text":"<p>Problem: Skill runs but action fails: \"Tool not found: web_search\" Fix: <pre><code>tools-required:\n  - web_search\n  - file_read\n  - message_send\n</code></pre> Check available: <code>nanobot tools list</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-4-skill-works-locally-but-fails-in-discordslack","title":"\u274c Mistake 4: Skill Works Locally, But Fails in Discord/Slack","text":"<p>Problem: <code>/skill-name</code> works in CLI, fails in Discord Why: The CLI accepts plain text output. Discord/Slack expect structured message objects (embeds/blocks). A skill returning a plain string will silently produce no visible message or an error that doesn't appear in chat. Fix: Return a platform-specific structured response: <pre><code>\u2705 Returns Discord embed - looks professional\nreturn {\n    \"type\": \"discord_embed\",\n    \"title\": \"System Health\",\n    \"fields\": [\n        {\"name\": \"CPU\", \"value\": \"45%\"},\n        {\"name\": \"Memory\", \"value\": \"60%\"}\n    ]\n}\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-5-hot-reload-doesnt-work-changes-not-applied","title":"\u274c Mistake 5: Hot Reload Doesn't Work - Changes Not Applied","text":"<p>Problem: Modified skill code, but old version still runs Fix: 1. After modifying code, reload:    <pre><code>/skill reload my-skill\n</code></pre> 2. Verify reload: <code>nanobot skills --status</code> should show \"Loaded: 2 minutes ago\" 3. If still not working: Restart nanobot entirely    <pre><code>systemctl stop nanobot\nnanobot gateway\n</code></pre></p>"},{"location":"Skills-and-Tools-Complete-Guide/#mistake-6-prompt-bloat-high-token-usage-cost","title":"\u274c Mistake 6: Prompt Bloat = High Token Usage &amp; Cost","text":"<p>Problem: Skill uses 5,000+ tokens per run Fix: 1. Trim system prompt (no unnecessary context) 2. Add token limit: <code>max_tokens: 500</code> 3. Test cost: <code>nanobot skill bench my-skill</code></p>"},{"location":"Skills-and-Tools-Complete-Guide/#troubleshooting-reference-table","title":"Troubleshooting Reference Table","text":"Problem Cause Solution Skill won't register Malformed SKILL.md metadata Run <code>nanobot skill validate</code> Skill runs but no output Missing tool permissions Add to <code>tools-required:</code> High token usage Inefficient prompting Add context limits; break into sub-tasks Skill crashes silently Python dependency missing Add to <code>requirements.txt</code> Changes don't take effect Skill not reloaded Run <code>/skill reload skillname</code> Tool disabled error Not in allowlist Check channel allowlist config Tool timeout Command too slow Increase <code>timeout</code> or optimize MCP connection failed Server down or wrong auth Verify server running; check headers"},{"location":"Skills-and-Tools-Complete-Guide/#best-practices","title":"Best Practices","text":"<p>These practices apply to custom skills (Part 4). Follow them for any skill you build, install from ClawHub, or generate with skill-creator.</p>"},{"location":"Skills-and-Tools-Complete-Guide/#skill-naming","title":"Skill Naming","text":"<ul> <li>Action verbs: <code>generate-</code>, <code>summarize-</code>, <code>fetch-</code>, <code>track-</code></li> <li>Domains: <code>obsidian-</code>, <code>discord-</code>, <code>github-</code>, <code>slack-</code></li> <li>Examples: <code>summarize-daily-logs</code>, <code>fetch-github-prs</code>, <code>track-costs</code></li> </ul>"},{"location":"Skills-and-Tools-Complete-Guide/#documentation","title":"Documentation","text":"<p>Every skill should include: - Purpose (one-line) - Trigger (how it's invoked) - Prerequisites - Setup instructions - Example usage - Output description - Troubleshooting - Cost estimate (if applicable)</p>"},{"location":"Skills-and-Tools-Complete-Guide/#testing_1","title":"Testing","text":"<pre><code>nanobot skill test --skill my-skill --sample \"test input\" --verbose\nnanobot skill validate --skill my-skill\nnanobot skill inspect --skill my-skill --show-permissions\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#version-management","title":"Version Management","text":"<pre><code>---\nversion: 1.0.0  # Semantic versioning\ncompatibility: \"nanobot &gt;= 0.1.4\"\nchangelog:\n  1.0.0: Initial release\n  0.9.0: Beta testing\n---\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#real-world-examples","title":"Real-World Examples","text":""},{"location":"Skills-and-Tools-Complete-Guide/#example-1-obsidian-note-tagging-prompt-only","title":"Example 1: Obsidian Note Tagging (Prompt-Only)","text":"<pre><code>---\nname: auto-tag\ndescription: Tag Obsidian notes based on Discord channel\nuser-invocable: false\ntrigger: on_note_create\n---\n\n# When triggered\nWhen a note is created from Discord message, automatically:\n1. Extract the source channel name\n2. Prepend tag: #channel-name\n3. Add to daily journal entry\n4. Link back to Discord message thread\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#example-2-weekly-digest-tool-based","title":"Example 2: Weekly Digest (Tool-Based)","text":"<pre><code>---\nname: weekly-digest\ndescription: Compile week's work into formatted report\ntype: tool-based\ntrigger: manual or cron:0 9 * * 1\npermissions:\n  - read_obsidian\n  - write_obsidian\n  - message_send\n---\n\n# Workflow\n1. Search Obsidian for notes created/modified Mon-Fri\n2. Group by project/domain\n3. Count completions, blockers, metrics\n4. Generate formatted report\n5. Post to #weekly-digest\n6. Archive report in Obsidian\n</code></pre>"},{"location":"Skills-and-Tools-Complete-Guide/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 2.1.0 Review pass: completed Quick Navigation, explained SOUL.md, fixed subagent fix numbering, added tool alias table, fixed SKILL.md YAML quoting guidance, clarified Skill Mistake 4 cause, anchored Best Practices to Part 4 2026-02-26 2.0.0 Consolidated Tools &amp; Skills Reference, Essential AOS Skills, and Advanced Skill Development into single comprehensive guide with progressive learning path 2026-02-25 1.0.0 Original separate documents"},{"location":"Workflow-Examples-and-Recipes/","title":"Workflow Examples &amp; Recipes","text":"<p>Real-world nanobot workflows. Copy, customize, and deploy.</p>"},{"location":"Workflow-Examples-and-Recipes/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.1.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Workflow-Examples-and-Recipes/#1-daily-knowledge-consolidation-obsidian-cron-summarize","title":"1. Daily Knowledge Consolidation (Obsidian + Cron + Summarize)","text":"<p>Goal: Every night at 2am, summarize yesterday's activity from a monitored channel into your Obsidian vault.</p> <p>Tools used: cron_schedule, file_read, file_write, shell_exec (python + summarize skill)</p> <p>Why useful: Engineering teams generate insights constantly; capturing them prevents loss.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup","title":"Setup","text":"<p>1.1 Config (in ~/.nanobot/config.json):</p> <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"token\": \"your-discord-token\",\n      \"listen_channels\": [\"prd\"]\n    }\n  },\n  \"skills\": {\n    \"obsidian\": {\n      \"enabled\": true,\n      \"vault_path\": \"/path/to/obsidian/vault\"\n    },\n    \"summarize\": {\n      \"enabled\": true,\n      \"model\": \"qwen2:latest\"\n    },\n    \"cron\": {\n      \"enabled\": true\n    }\n  }\n}\n</code></pre> <p>1.2 Create Cron Job (in your control channel, e.g. <code>#ctl-nanobot-commands</code>):</p> <p>Send this message to trigger scheduled job creation:</p> <pre><code>@BotName cron create: nightly_prd_summary\n  schedule: \"0 2 * * *\"\n  action: \"Summarize #prd from yesterday and write to Obsidian daily-standup/{date}.md\"\n  provider: qwen2:latest\n  output_format: markdown\n</code></pre> <p>1.3 Check Job Created:</p> <pre><code>@BotName cron list\n</code></pre> <p>Output: <pre><code>\u2713 nightly_prd_summary (0 2 * * *) - Last run: 2026-02-25 02:01\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#execution-automatic-every-night","title":"Execution (Automatic Every Night)","text":"<p>What happens at 2am:</p> <ol> <li>Nanobot reads last 24h of #prd messages</li> <li>Runs summarize skill: \"Extract key decisions, blockers, and discussions\"</li> <li>Formats as Markdown with timestamps and attributions</li> <li>Writes to: <code>Obsidian/01-Daily/2026-02-25.md</code></li> <li>Posts confirmation to #prd: \"Summary written \u2713\"</li> </ol>"},{"location":"Workflow-Examples-and-Recipes/#sample-output","title":"Sample Output","text":"<p>File: <code>/Obsidian/01-Daily/2026-02-25.md</code></p> <pre><code># Daily Standup - Feb 25, 2026\n\n## Key Decisions\n- **Design System:** Approved new component library (Alex, 2:15pm)\n- **Timeline:** Sprint ends Friday with demo Friday 4pm (Sara, 3:22pm)\n\n## Blockers\n- S3 integration failing with session token expiration (James, 1:45pm)\n  - Action: James to investigate IAM policy with DevOps team\n\n## Technical Discussions\n- Python async patterns for high-concurrency services (3 messages)\n- Caching strategy for API responses (2 threads)\n\n## Attendees\n- @alex, @sara, @james, @yuki\n\n## Full Transcript\n[link to Discord thread]\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#customization-ideas","title":"Customization Ideas","text":"<p>Variation 1: Weekly Executive Summary</p> <pre><code>schedule: \"0 8 * * 1\"  // Monday 8am\nformat: executive_brief  // Shorter, business-focused\nchannels: [\"prd\", \"exec\", \"strategy\"]  // Multiple channels\n</code></pre> <p>Variation 2: Per-Team Summaries</p> <pre><code>{\n  \"cron_jobs\": [\n    { \"channel\": \"prd\", \"team\": \"engineering\", \"time\": \"8am\" },\n    { \"channel\": \"marketing\", \"team\": \"marketing\", \"time\": \"9am\" },\n    { \"channel\": \"sales\", \"team\": \"sales\", \"time\": \"10am\" }\n  ]\n}\n</code></pre> <p>Variation 3: Slack Instead of Obsidian</p> <pre><code>action: \"Summarize and post to Slack #daily-standup\"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#2-multi-channel-content-distribution","title":"2. Multi-Channel Content Distribution","text":"<p>Goal: User posts article in one channel. Nanobot automatically reformats and distributes it to Discord, Slack, and Telegram with platform-specific formatting.</p> <p>Tools used: message_send (with channel routing), file_read, shell_exec (for formatting)</p> <p>Why useful: Marketing teams write once, distribute everywhere. No copy-pasting errors.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_1","title":"Setup","text":"<p>2.1 Config:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": { \"enabled\": true },\n    \"slack\": { \"enabled\": true },\n    \"telegram\": { \"enabled\": true }\n  },\n  \"tools\": {\n    \"message_send\": {\n      \"enabled\": true,\n      \"default_channel\": \"discord\",\n      \"routing\": {\n        \"blog\": [\"discord\", \"slack\"],\n        \"announcement\": [\"discord\", \"slack\", \"telegram\"],\n        \"internal\": [\"slack\"]\n      }\n    }\n  }\n}\n</code></pre> <p>2.2 Trigger (from any connected channel):</p> <p>User post in <code>#content-hub</code> (or equivalent):</p> <pre><code>@BotName post:\nTitle: \"5 Nanobot Best Practices\"\nBody: &gt; Best practices for deploying nanobot at scale...\n[full article text]\n\nDistribute to: announcement\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution","title":"Execution","text":"<p>What Bot Does:</p> <ol> <li>Format for Discord:</li> <li>Embed with title + body + author</li> <li>Link to full document</li> <li> <p>Reactions for feedback</p> </li> <li> <p>Format for Slack:</p> </li> <li>Slack blocks layout</li> <li>Threading support</li> <li> <p>Mention relevant team members</p> </li> <li> <p>Format for Telegram:</p> </li> <li>Plain text (Telegram markdown)</li> <li>Link in thread</li> </ol>"},{"location":"Workflow-Examples-and-Recipes/#sample-output_1","title":"Sample Output","text":"<p>Discord: <pre><code>\ud83d\udcf0 5 Nanobot Best Practices\nby @alice | #content-hub\n\nBest practices for deploying nanobot at scale...\n[Read Full Article](link)\n\n\ud83d\udc4d \u2764\ufe0f \ud83d\udd17\n</code></pre></p> <p>Slack: <pre><code>5 Nanobot Best Practices\nPosted by alice in #content-hub\n\nBest practices for deploying nanobot at scale...\nRead Full Article: [link]\n\n\nThread: 0 replies | 2 emoji reactions\n</code></pre></p> <p>Telegram: <pre><code>\ud83d\udcf0 5 Nanobot Best Practices\n@alice\n\nBest practices for deploying nanobot...\n\nRead: [link]\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#cost-0005-per-distribution-tier-b","title":"Cost: ~$0.005 per distribution (Tier B)","text":""},{"location":"Workflow-Examples-and-Recipes/#3-customer-support-bot-multi-channel","title":"3. Customer Support Bot (Multi-Channel)","text":"<p>Goal: Answer customer questions in Discord, Slack, Telegram. Route to human if confidence &lt;70%.</p> <p>Tools used: web_search, file_read (knowledge base), message_send, mcp_call (to ticket system)</p> <p>Why useful: 24/7 support, reduce ticket volume by 50-60%, instant answers.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_2","title":"Setup","text":"<p>3.1 Config:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": { \"enabled\": true, \"channels\": [\"#support\"] },\n    \"slack\": { \"enabled\": true, \"channels\": [\"#help\"] },\n    \"telegram\": { \"enabled\": true }\n  },\n  \"tools\": {\n    \"web_search\": { \"enabled\": true, \"api_key\": \"brave_key\" },\n    \"file_read\": { \"enabled\": true }\n  },\n  \"skills\": {\n    \"memory\": {\n      \"enabled\": true,\n      \"knowledge_base\": \"/path/to/support-docs\"\n    }\n  },\n  \"routing\": {\n    \"confidence_threshold\": 0.70,\n    \"low_confidence_action\": \"escalate_to_human\"\n  }\n}\n</code></pre> <p>3.2 Knowledge Base File Structure:</p> <pre><code>/knowledge-base/\n\u251c\u2500\u2500 faq.md (Common questions &amp; answers)\n\u251c\u2500\u2500 troubleshooting.md (Error codes + fixes)\n\u251c\u2500\u2500 api-docs.md (API reference)\n\u2514\u2500\u2500 pricing.md (Pricing &amp; billing)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_1","title":"Execution","text":"<p>User in Discord #support:</p> <pre><code>@BotName: How do I enable multi-channel support?\n</code></pre> <p>Bot Process:</p> <ol> <li>Search knowledge base for \"multi-channel\"</li> <li>Search web if not found locally</li> <li>Generate answer with confidence score</li> <li>If confidence &gt;70%: Post answer</li> <li>If confidence &lt;70%: Tag @support-team with context</li> </ol> <p>Sample Output:</p> <pre><code>\u2713 How do I enable multi-channel support?\n\nTo enable multi-channel support, edit ~/.nanobot/config.json:\n\n{\n  \"channels\": {\n    \"discord\": { \"enabled\": true },\n    \"slack\": { \"enabled\": true }\n  }\n}\n\nThen restart: nanobot gateway\n\n\ud83d\udcda See: [Full Multi-Channel Guide](link)\n\ud83d\udc65 Still need help? Thread @alice, @bob, or @support-team\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#advanced-escalation-logic","title":"Advanced: Escalation Logic","text":"<p>If bot unsure, creates MCP ticket:</p> <pre><code>\ud83e\udd14 I'm not confident in my answer (62% confidence).\nEscalating to human team...\n\n\ud83d\udccb Internal Ticket ID: SUP-2026-0225-001\n\ud83d\udc65 Assigned to: next available\n\u23f1\ufe0f Est. response: 15 mins\n\nCustomer sees: \"A human team member will respond shortly\"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#handle-volume","title":"Handle Volume","text":"<p>For 100 support questions/day: - Auto-answer: 60-70 questions (~$2.25/month Tier C) - Escalate: 30-40 questions (~30 mins human review) - ROI: ~2 person-hours saved, net positive</p>"},{"location":"Workflow-Examples-and-Recipes/#4-research-agent-web-search-synthesis","title":"4. Research Agent (Web Search + Synthesis)","text":"<p>Goal: User asks research question. Bot searches web, reads articles, synthesizes findings into report.</p> <p>Tools used: web_search, file_read, file_write, shell_exec (for web scraping)</p> <p>Why useful: Replace 2-3 hour research task with 2-minute bot task.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_3","title":"Setup","text":"<p>4.1 Config:</p> <pre><code>{\n  \"tools\": {\n    \"web_search\": {\n      \"enabled\": true,\n      \"api_key\": \"brave_api_key\",\n      \"max_results\": 10\n    },\n    \"file_read\": { \"enabled\": true },\n    \"file_write\": { \"enabled\": true }\n  },\n  \"llm\": {\n    \"model\": \"claude-opus\",\n    \"tier\": \"a\"\n  }\n}\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#trigger-in-discord-research","title":"Trigger (in Discord #research)","text":"<pre><code>@BotName research:\nQuestion: \"What are latest trends in AI agent frameworks (Feb 2026)?\"\nFormat: report\nOutput: obsidian_file\nVault path: /obsidian/01-Research/{date}-{topic}.md\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_2","title":"Execution","text":"<p>Bot Process (takes 2-3 min):</p> <ol> <li>Web search: \"AI agent frameworks 2026 trends\"</li> <li>Read top 10 articles</li> <li>Extract key points: frameworks, capabilities, costs, adoption</li> <li>Synthesize into structured report</li> <li>Write to Obsidian with citations</li> </ol> <p>Sample Output:</p> <p>File: <code>/Obsidian/01-Research/2026-02-25-AI-Agent-Frameworks.md</code></p> <pre><code># AI Agent Frameworks - Trends Feb 2026\n\n## Executive Summary\n3 major frameworks dominating: Nanobot, AutoGPT-7, and Cursor-AI v2.\nCommon pattern: LLM routing + tool composition + memory consolidation.\n\n## Framework Comparison\n\n| Framework | LLM Support | Tools | Channels | Cost/mo |\n|---|---|---|---|---|\n| **Nanobot** | 100+ | 14 | 11 | $0-200 |\n| **AutoGPT-7** | OpenAI only | 30 | 5 | $50-500 |\n| **Cursor-AI** | varies | 50+ | 3 | $20-300 |\n\n## Key Trends\n\n1. **Multi-provider routing** - Cost optimization (Trend strength: ++++)\n2. **Memory consolidation** - Reduce context window costs (++++)\n3. **Self-hosted inference** - Privacy + cost control (+++)\n4. **Tool composition** - Complex workflows from simple primitives (++++)\n\n## Detailed Analysis\n[30-50 lines of synthesis]\n\n## Sources\n- [Article 1](url) - \"2026 State of AI Agents\"\n- [Article 2](url) - \"Framework Benchmark Report\"\n- [Article 3](url) - \"Enterprise AI Agent Adoption\"\n\nGenerated 2026-02-25 by Nanobot Research Agent\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#cost-002-per-research-task-tier-a-claude-opus","title":"Cost: ~$0.02 per research task (Tier A - Claude Opus)","text":"<p>ROI: Replaces 1-2 hours manual research at cost of $0.02 \ud83c\udfaf</p>"},{"location":"Workflow-Examples-and-Recipes/#5-github-automation-daily-standup","title":"5. GitHub Automation &amp; Daily Standup","text":"<p>Goal: Every morning, summarize overnight PRs/issues, post to <code>#engineering</code> (or your team channel).</p> <p>Tools used: github_search, github_pr_create, github_action_trigger, summarize skill, message_send, cron_schedule</p> <p>Why useful: Engineering team is aware of PRs needing review without checking GitHub manually.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_4","title":"Setup","text":"<p>5.1 Config:</p> <pre><code>{\n  \"tools\": {\n    \"github\": {\n      \"enabled\": true,\n      \"token\": \"github-personal-access-token\",\n      \"org\": \"your-org\",\n      \"repos\": [\"nanobot\", \"cli-tools\", \"integrations\"]\n    }\n  },\n  \"skills\": {\n    \"cron\": { \"enabled\": true },\n    \"summarize\": { \"enabled\": true }\n  },\n  \"channels\": {\n    \"discord\": { \"enabled\": true }\n  }\n}\n</code></pre> <p>5.2 Create Cron Job (in your control channel):</p> <pre><code>@BotName cron create: morning_github_standup\n  schedule: \"0 8 * * 1-5\"  // Mon-Fri 8am\n  action: \"\n    Get all open PRs and issues from last 24h across repos\n    Summarize: PRs awaiting review, merged PRs, new critical issues\n    Post to #engineering with action items\n  \"\n  provider: openrouter/qwen2:latest\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_3","title":"Execution","text":"<p>Every Weekday 8am:</p> <p>Bot fetches from GitHub: - 3 PRs opened overnight (with file diffs) - 8 PRs merged yesterday - 2 new critical issues - 15 comments on open PRs</p> <p>Generates summary:</p> <p>#engineering (your team channel):</p> <pre><code>\ud83d\udcca GitHub Standup - Thursday Feb 25\n\n## PRs Awaiting Review (3)\n\ud83d\udd34 #456: Refactor auth middleware (alice) - 8 files, needs review\n\ud83d\udfe1 #457: Add caching layer (bob) - 3 files, 1 approval needed\n\ud83d\udfe1 #458: Update dependencies (dependabot) - automated\n\n## Merged Yesterday (8)\n\u2705 #445: Fix S3 upload bug\n\u2705 #446: Add telemetry logging\n\u2705 #447-452: Dependency updates\n\n## Critical Issues (2)\n\ud83d\udd34 #2034: Memory leak in connection pool (opened 3h ago)\n\ud83d\udd34 #2035: API rate limiting broken\n\n## Action Items\n- @alice: Review #457 (3 mins)\n- @james: Investigate #2034 (estimate 1h)\n- @sara: Prioritize #2035 after standup\n\n## Stats\n- 8 PRs merged | 3 awaiting review | 14 commits\n- Test coverage: 87% (\u2191 1%)\n\n[Full report](link to GitHub)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#cost-0003-per-run-tier-c-daily-009month","title":"Cost: ~$0.003 per run (Tier C - daily) = $0.09/month","text":""},{"location":"Workflow-Examples-and-Recipes/#6-obsidian-sync-weekly-review","title":"6. Obsidian Sync + Weekly Review","text":"<p>Goal: Friday 5pm, auto-generate weekly review from Obsidian vault + Discord logs.</p> <p>Tools used: file_read (Obsidian), shell_exec (Obsidian API), summarize skill, file_write</p> <p>Why useful: Weekly reflection on team progress, decisions, and blockers.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_5","title":"Setup","text":"<p>6.1 Obsidian Vault Structure:</p> <pre><code>/Vault/\n\u251c\u2500\u2500 00-System/\n\u2502   \u2514\u2500\u2500 weekly-review-template.md\n\u251c\u2500\u2500 01-Daily/\n\u2502   \u251c\u2500\u2500 2026-02-21.md\n\u2502   \u251c\u2500\u2500 2026-02-22.md\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 02-Project/\n\u2502   \u251c\u2500\u2500 project-a.md\n\u2502   \u251c\u2500\u2500 project-b.md\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 03-Archive/\n    \u2514\u2500\u2500 weekly-2026-w08.md\n</code></pre> <p>6.2 Cron Job:</p> <pre><code>@BotName cron create: weekly_review\n  schedule: \"0 17 * * 5\"  // Friday 5pm\n  action: \"\n    1. Read daily notes from last 7 days\n    2. Extract decisions, blockers, wins\n    3. Summarize project updates\n    4. Generate weekly review\n    5. Save to 03-Archive/weekly-{date}.md\n    6. Post summary to #weekly-review\n  \"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#sample-output_2","title":"Sample Output","text":"<p>#weekly-review (your channel):</p> <pre><code>\ud83d\udccb Weekly Review - Week of Feb 24\n\n**Wins This Week**\n\u2705 Launched multi-channel support (Major!)\n\u2705 Cut API latency by 40% with caching\n\u2705 Onboarded 3 new team members\n\n**Blockers**\n\ud83d\udd34 S3 integration still failing (blocker for 2 PRs)\n\ud83d\udfe1 API rate limits causing test flakiness\n\n**Key Decisions**\n- \u2713 Approved new design system (for Q2 rollout)\n- \u2713 Migrated to OpenRouter for cost control (saving 70%)\n- \u2713 Delayed mobile app launch to May (more runway needed)\n\n**Team Metrics**\n- 23 PRs merged | 3 critical bugs fixed\n- Code coverage: 87% (\u2191 1%)\n- Release readiness: 94%\n\n**Next Week Priorities**\n1. Fix S3 blocker (alice + james)\n2. Complete onboarding (sara)\n3. Q2 planning kickoff (friday afternoon)\n\n[Full weekly review](link)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#common-mistakes-gotchas","title":"Common Mistakes &amp; Gotchas","text":""},{"location":"Workflow-Examples-and-Recipes/#mistake-1-cron-schedule-syntax-wrong","title":"\u274c Mistake 1: Cron Schedule Syntax Wrong","text":"<p>Problem: Scheduled workflow never runs Why: Cron expression uses wrong format (off-by-one in day, wrong timezone) Fix: - Correct format: <code>\"0 2 * * *\"</code> (minute=0, hour=2, day=any, month=any, day-of-week=any) - Test BEFORE deploying: <code>nanobot cron validate \"0 2 * * *\"</code> - Check timezone in config matches your office: <code>\"timezone\": \"America/New_York\"</code> (not UTC) - Common mistake: <code>\"2 0 * * *\"</code> runs at 12am not 2am (hour comes AFTER minute)</p>"},{"location":"Workflow-Examples-and-Recipes/#mistake-2-api-rate-limits-hit-workflow-stops-silently","title":"\u274c Mistake 2: API Rate Limits Hit, Workflow Stops Silently","text":"<p>Problem: Workflow runs once, then stops. No error messages. Why: Channel platform or web search API limits exceeded; nanobot backs off Fix: 1. Check logs: <code>nanobot logs --filter=\"rate_limit\"</code> 2. Add backoff to config:    <pre><code>{\n  \"retry\": {\n    \"maxAttempts\": 3,\n    \"backoffMultiplier\": 2.0,\n    \"initialDelaySeconds\": 5\n  }\n}\n</code></pre> 3. Stagger workflows: Don't run 5 at 2am (spread to 2am, 2:10am, 2:20am) 4. Upgrade API tier if hitting hard limits (check your channel platform's bot documentation for tier options; check your LLM provider dashboard for rate limit upgrades)</p>"},{"location":"Workflow-Examples-and-Recipes/#mistake-3-config-typo-silently-disables-entire-workflow","title":"\u274c Mistake 3: Config Typo Silently Disables Entire Workflow","text":"<p>Problem: Feature doesn't work, but no error message Why: JSON syntax error or misspelled key name Fix: 1. Validate JSON first: <pre><code>python -m json.tool ~/.nanobot/config.json\n</code></pre>    (If this fails, JSON is broken) 2. Check exact key names:    - \u274c <code>\"obsidian_path\"</code> (underscore wrong)    - \u2705 <code>\"vault_path\"</code> (correct) 3. Always restart after config changes: <code>nanobot gateway</code> (stop and restart) 4. Check logs: <code>nanobot logs | tail -20</code></p>"},{"location":"Workflow-Examples-and-Recipes/#mistake-4-output-file-path-doesnt-exist","title":"\u274c Mistake 4: Output File Path Doesn't Exist","text":"<p>Problem: Workflow runs but output file not written Why: Directory <code>/path/to/obsidian/vault/01-Daily/</code> doesn't exist Fix: <pre><code># Create directory structure first\nmkdir -p /path/to/obsidian/vault/01-Daily/\nmkdir -p /path/to/obsidian/vault/02-Projects/\nmkdir -p /path/to/obsidian/vault/03-Archive/\n\n# Then grant nanobot write permission\nchmod 755 /path/to/obsidian/vault\n\n# Test write\nnanobot write test \"/path/to/obsidian/vault/test.md\"\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#mistake-5-bot-missing-channel-permissions","title":"\u274c Mistake 5: Bot Missing Channel Permissions","text":"<p>Problem: Workflow tries to send message, fails silently or with \"Forbidden\" error Why: The bot account doesn't have Send/Read permissions for the target channel Fix: 1. In your platform's admin panel, grant the bot these permissions on the target channel:    - \u2705 Send Messages / Post Messages    - \u2705 Read Message History    - \u2705 Manage Messages (if deleting old summaries)    - \u2705 Embed Links (for formatted output \u2014 Discord/Slack) 2. Test the bot can send: <code>@BotName test</code> in target channel 3. If access is still denied: the bot may have been removed from the channel \u2014 re-invite it via your platform's channel settings 4. Check nanobot logs for the specific error: <code>nanobot logs --filter=\"forbidden\\|permission\"</code></p>"},{"location":"Workflow-Examples-and-Recipes/#mistake-6-tokenssecrets-hardcoded-in-config","title":"\u274c Mistake 6: Tokens/Secrets Hardcoded in Config","text":"<p>Problem: Config file with API keys committed to GitHub (security breach!) Why: Used hardcoded token instead of environment variable Fix: 1. Immediately: Revoke all tokens in API provider dashboard 2. Remove from history (requires <code>git filter-repo</code> \u2014 install with <code>pip install git-filter-repo</code>):    <pre><code>git filter-repo --path ~/.nanobot/config.json --invert-paths\ngit push --force --all\n</code></pre> 3. Use environment variables instead: <pre><code>{\n  \"discord\": {\n    \"token\": \"${DISCORD_TOKEN}\"\n  }\n}\n</code></pre> 4. Set in <code>.env</code> file (added to <code>.gitignore</code>): <pre><code>DISCORD_TOKEN=your_actual_token_here\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#mixing-matching","title":"Mixing &amp; Matching","text":"<p>All these recipes share common patterns. Combine them:</p> <ul> <li>Daily Standup + Multi-Channel Distribution: Write once, post everywhere</li> <li>Research Agent + Obsidian: Auto-capture findings</li> <li>GitHub Standup + Cron: Every morning, team has context</li> <li>Customer Support + Memory: Knowledge base grows with every ticket</li> </ul> <p>Cost for running all 6 workflows continuously: - ~$50-100/month combined (using Tier B+C routing) - Replaces: ~10-15 person-hours/week work - ROI: 20-30x annual payback</p>"},{"location":"Workflow-Examples-and-Recipes/#customization-template","title":"Customization Template","text":"<p>Use this for building your own workflow:</p> <pre><code>Name: [workflow name]\nGoal: [what problem does this solve]\nTools: [list tools used]\n\nSetup:\n1. [Config changes]\n2. [File structures needed]\n3. [Initial trigger/setup]\n\nExecution:\n- [Step 1]\n- [Step 2]\n- [Step 3]\n\nSample Output:\n[Real example of what user sees]\n\nCost:\n[Est. cost/month]\n\nVariations:\n- [Variation 1]\n- [Variation 2]\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-26 1.1.0 Accuracy &amp; utility review: fixed channel count 12+\u219211 (\u00a74 table); removed unsupported \"twitter\" routing key from \u00a72 config; generalized Discord-specific goal/trigger/output language to channel-agnostic in \u00a71, \u00a72, \u00a75, \u00a76; generalized \u00a7Mistake 2 rate limit guidance; generalized \u00a7Mistake 5 title and fix body; replaced deprecated <code>git filter-branch</code> with <code>git filter-repo</code> in \u00a7Mistake 6 2026-02-25 1.0.0 Initial workflow examples and recipes"}]}