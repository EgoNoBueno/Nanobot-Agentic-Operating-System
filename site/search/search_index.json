{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Nanobot Agentic Operating System","text":"<p>Production-ready documentation for deploying and operating the Nanobot AI agent framework.</p> <p>Nanobot is a lightweight (~4,000 lines), extensible agentic framework that: - Routes to 100+ LLM models (Claude, GPT-4, local Ollama, Qwen, DeepSeek, etc.) - Integrates with 12+ communication channels (Discord, Slack, Telegram, Feishu, etc.) - Executes 14 built-in tools (web search, file ops, shell, GitHub, scheduling, MCP) - Provides 9 pre-built skills (Obsidian, memory, summarization, cron, GitHub automation) - Manages cost through tiered routing and budget controls - Enforces security with role-based access control and audit logging</p>"},{"location":"#about-this-documentation","title":"About This Documentation","text":"<p>Repository: HKUDS/nanobot Nanobot Version: v0.1.4 and later Documentation Updated: February 25, 2026</p>"},{"location":"#get-the-code","title":"Get the Code","text":"<pre><code>git clone https://github.com/HKUDS/nanobot.git\ncd nanobot\npip install -e .\n</code></pre> <p>Or install from PyPI: <pre><code>pip install nanobot-ai\n</code></pre></p>"},{"location":"#quick-start-5-minutes","title":"Quick Start (5 Minutes)","text":"<ol> <li>Quick Install &amp; Setup \u2014 Get nanobot running locally with your LLM provider</li> <li>LLM Provider Setup \u2014 Configure any of 100+ models</li> <li>Multi-Channel Integration \u2014 Connect Discord, Slack, or other platforms</li> </ol>"},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Master Index \u2014 Overview of the entire system architecture</li> <li>Build Procedure \u2014 Deploy to production (simple or advanced)</li> <li>Startup Procedure \u2014 Bring system online</li> </ul>"},{"location":"#operating-nanobot","title":"Operating Nanobot","text":"<ul> <li>Essential Skills \u2014 5 core skills you need</li> <li>Tools &amp; Skills Reference \u2014 Complete inventory of all capabilities</li> <li>Workflow Examples \u2014 Real-world workflows to copy &amp; customize</li> <li>Daily knowledge consolidation</li> <li>Multi-channel content distribution</li> <li>Customer support bot</li> <li>Research agent</li> <li>GitHub automation</li> </ul>"},{"location":"#cost-governance","title":"Cost &amp; Governance","text":"<ul> <li>Cost Calculator &amp; Optimization \u2014 Estimate your bill, optimize routing</li> <li>Provider cost matrix (cheapest to premium)</li> <li>Monthly cost calculators with examples</li> <li>Multi-provider routing for 60-70% savings</li> <li> <p>Break-even analysis (cloud vs. self-hosted)</p> </li> <li> <p>Governance Policies \u2014 Multi-team deployments</p> </li> <li>Role-based access control</li> <li>Channel naming conventions</li> <li>Approval workflows</li> <li>Escalation rules</li> <li>Audit logging</li> <li>Cost allocation &amp; chargeback</li> </ul>"},{"location":"#security-compliance","title":"Security &amp; Compliance","text":"<ul> <li>Security Validation Runbook \u2014 Monthly audit procedures</li> </ul>"},{"location":"#system-overview","title":"System Overview","text":""},{"location":"#3-plane-architecture","title":"3-Plane Architecture","text":"<p>Control Plane: Multi-channel intake (Discord, Slack, Telegram, etc.) Policy Plane: LLM routing, cost controls, approval gates Memory Plane: Obsidian vault for durable records and audit trails</p>"},{"location":"#example-workflow","title":"Example Workflow","text":"<ol> <li>Operator asks in Slack: \"Find competitor campaigns this week and propose a test\"</li> <li>Nanobot receives message via Slack integration</li> <li>Policy routes to Claude Opus (high-value task)</li> <li>Nanobot executes: web_search \u2192 summarize \u2192 synthesizes findings</li> <li>Posts back to Slack with recommendation and source links</li> <li>Logs to Obsidian for audit trail and replay</li> </ol>"},{"location":"#common-use-cases","title":"Common Use Cases","text":"<ul> <li>Product Marketing: Auto-generate content, run competitor research, report KPI deltas</li> <li>Customer Support: 24/7 FAQ routing, knowledge base search, escalate complex cases</li> <li>Research &amp; Development: Capture sources, synthesize findings with citations, stage approval gates</li> <li>Operations/DevOps: GitHub workflow automation, health monitoring, runbook execution</li> <li>Bookkeeping: Expense categorization, transaction reconciliation, month-end summaries</li> </ul>"},{"location":"#core-capabilities-at-a-glance","title":"Core Capabilities at a Glance","text":"Capability Examples LLM Routing Claude, GPT-4, local Ollama, Qwen, DeepSeek, + 95+ more Channels Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix, Mochat, CLI Tools Web search, file read/write/edit, shell commands, GitHub, scheduling, MCP, subagents Skills Obsidian, memory consolidation, summarize, cron, weather, GitHub, skill creator, TMUX Cost Control Tiered routing, budget caps, escalation gates, token tracking Security Role-based access, tool allowlisting, audit logging, workspace isolation"},{"location":"#choose-your-path","title":"Choose Your Path","text":"Local + Cloud LLM (Easiest)VPS + Local Ollama (Advanced) <ul> <li>Setup: 5-10 minutes</li> <li>Cost: $0-50/month</li> <li>Best for: Teams, quick experiments, cost-conscious orgs</li> </ul> <p>\u2192 Quick Install &amp; Setup</p> <ul> <li>Setup: 30-45 minutes</li> <li>Cost: $20-200/month</li> <li>Best for: Privacy, self-hosted inference, scale</li> </ul> <p>\u2192 Build Procedure</p>"},{"location":"#support-community","title":"Support &amp; Community","text":"<ul> <li>GitHub: HKUDS/nanobot</li> <li>Documentation Issues: File on GitHub</li> <li>Feature Requests: Open a discussion</li> </ul>"},{"location":"#version","title":"Version","text":"<p>This documentation covers Nanobot v0.1.4+ (released February 2026)</p> <p>Last updated: February 25, 2026</p>"},{"location":"AOS-Startup-Procedure/","title":"AOS Startup Procedure","text":"<p>Bring nanobot from fully powered down to fully operational. Choose your path based on your deployment scenario.</p>"},{"location":"AOS-Startup-Procedure/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"AOS-Startup-Procedure/#1-overview","title":"1. Overview","text":"<p>Two startup scenarios: - Simple Startup (10 min) - Local nanobot + cloud LLM API - Advanced Startup (15 min) - VPS nanobot + local Ollama inference</p> <p>Both assume initial setup is complete (config files, secrets stored, channels configured).</p>"},{"location":"AOS-Startup-Procedure/#2-assumptions","title":"2. Assumptions","text":"<ul> <li>Installation and hardening are complete</li> <li>Config files exist (<code>~/.nanobot/config.json</code> or <code>.env</code>)</li> <li>All required secrets (API keys, tokens) are stored securely</li> <li>Channels are already configured (Discord, Slack, etc.)</li> <li>Obsidian vault exists (if using obsidian skill)</li> </ul>"},{"location":"AOS-Startup-Procedure/#3-startup-checklist-high-level","title":"3. Startup Checklist (High-Level)","text":"<ul> <li> Verify internet connectivity</li> <li> Start required services (Ollama, Tailscale, VPS, etc. per your architecture)</li> <li> Test LLM provider connectivity</li> <li> Verify channel bot status</li> <li> Run one test command end-to-end</li> <li> Confirm Obsidian write-back (if applicable)</li> </ul>"},{"location":"AOS-Startup-Procedure/#path-a-simple-startup-local-cloud-api","title":"Path A: Simple Startup (Local + Cloud API)","text":"<p>For: Using local nanobot with OpenRouter, Anthropic, OpenAI, or other cloud LLM provider. Time: ~10 minutes</p>"},{"location":"AOS-Startup-Procedure/#step-1-verify-connectivity","title":"Step 1: Verify Connectivity","text":"<pre><code>ping 8.8.8.8\n# Should respond with pings (internet is up)\n</code></pre>"},{"location":"AOS-Startup-Procedure/#step-2-start-nanobot","title":"Step 2: Start nanobot","text":"<pre><code>nanobot gateway\n</code></pre> <p>Should show: <pre><code>Starting Nanobot Gateway v0.1.4+\nLLM Provider: openrouter \u2713 Connected\nDiscord: Connected \u2713\nSlack: Connected \u2713\nReady for messages\n</code></pre></p> <p>If provider fails: - Check <code>.env</code> or <code>config.json</code> for correct API key format - Verify key hasn't expired in your provider dashboard - If key is fresh, wait 1 minute and retry (API sync delay)</p>"},{"location":"AOS-Startup-Procedure/#step-3-discordslack-test","title":"Step 3: Discord/Slack Test","text":"<p>Send a test message in any channel where bot is installed: <pre><code>@BotName hello\n</code></pre></p> <p>Bot should respond within 5 seconds.</p> <p>If bot doesn't respond: - Verify bot is in the channel - Check bot has <code>Send Messages</code> and <code>Read Message History</code> permissions - Verify token in config matches what Discord/Slack shows - Check logs: <code>nanobot logs --last 50</code> to see errors</p>"},{"location":"AOS-Startup-Procedure/#step-4-obsidian-write-test-optional","title":"Step 4: Obsidian Write Test (Optional)","text":"<p>In Discord: <pre><code>@BotName write to Obsidian: \"Startup test at {{timestamp}}\" to 00-System/startup-log.md\n</code></pre></p> <p>Check Obsidian vault. File should appear in <code>00-System/startup-log.md</code>.</p>"},{"location":"AOS-Startup-Procedure/#validation-gate-a","title":"Validation Gate A","text":"<ul> <li>\u2713 nanobot gateway starts without errors</li> <li>\u2713 LLM provider connected</li> <li>\u2713 Bot responds to test message in Discord/Slack</li> <li>\u2713 Obsidian write succeeds (if enabled)</li> </ul>"},{"location":"AOS-Startup-Procedure/#path-b-advanced-startup-vps-local-ollama","title":"Path B: Advanced Startup (VPS + Local Ollama)","text":"<p>For: Using VPS-hosted nanobot with local Ollama inference. Architecture: VPS (gateway) \u2194\ufe0f Local Windows/Mac (Ollama) via Tailscale Time: ~15 minutes</p>"},{"location":"AOS-Startup-Procedure/#step-1-start-local-inference-node","title":"Step 1: Start Local Inference Node","text":"<p>On Windows/Mac (where Ollama is installed):</p> <pre><code>ollama serve\n</code></pre> <p>Keep this running in a terminal. Ollama should listen on <code>localhost:11434</code>.</p>"},{"location":"AOS-Startup-Procedure/#step-2-verify-ollama-is-running","title":"Step 2: Verify Ollama is Running","text":"<pre><code>curl http://localhost:11434/api/tags\n# Should return JSON list of models\n</code></pre>"},{"location":"AOS-Startup-Procedure/#step-3-connect-tailscale-both-machines","title":"Step 3: Connect Tailscale (Both Machines)","text":"<p>On Local Machine: <pre><code>tailscale up\n# Will print: Connected to tailnet as [device-name]\n# Note your local Tailscale IP (e.g., 100.123.45.67)\n</code></pre></p> <p>On VPS: <pre><code>tailscale up\n# Note VPS Tailscale IP (e.g., 100.87.123.45)\n</code></pre></p> <p>Enable MagicDNS in Tailscale admin panel (recommended): https://login.tailscale.com/admin/dns</p>"},{"location":"AOS-Startup-Procedure/#step-4-test-tailscale-path-from-vps","title":"Step 4: Test Tailscale Path (From VPS)","text":"<pre><code>curl http://100.123.45.67:11434/api/tags\n# Should return model list from local Ollama\n</code></pre> <p>If fails: - Check local firewall allows port 11434 (scope to Tailscale interface only) - Verify Ollama is running on local machine - Restart Tailscale on both sides and re-authenticate</p>"},{"location":"AOS-Startup-Procedure/#step-5-start-nanobot-on-vps","title":"Step 5: Start Nanobot on VPS","text":"<pre><code>ssh your-vps-user@your-vps-ip\n# Or use tailscale: ssh your-vps-name\n\n# Start nanobot\nnanobot gateway\n</code></pre> <p>Should show: <pre><code>Starting Nanobot Gateway v0.1.4+\nLLM Provider: ollama \u2713 Connected to http://100.123.45.67:11434\nDiscord: Connected \u2713\nReady for messages\n</code></pre></p>"},{"location":"AOS-Startup-Procedure/#step-6-test-end-to-end","title":"Step 6: Test End-to-End","text":"<p>From Discord/Slack, send: <pre><code>@BotName What is 2+2?\n</code></pre></p> <p>Expected flow: 1. Discord receives message 2. Nanobot (VPS) forwards to Ollama (Local) 3. Ollama generates response 4. Response posted back to Discord</p> <p>If no response: - Check VPS logs: <code>journalctl -u nanobot -n 50</code> (if using systemd service) - Verify Tailscale path again: <code>curl http://100.123.45.67:11434</code> from VPS - Check Ollama logs on local machine for errors - Verify nanobot config has correct Ollama endpoint</p>"},{"location":"AOS-Startup-Procedure/#validation-gate-b","title":"Validation Gate B","text":"<ul> <li>\u2713 Ollama running locally and responding to curl</li> <li>\u2713 Tailscale connected on both machines</li> <li>\u2713 VPS can reach local Ollama via Tailscale IP</li> <li>\u2713 Nanobot gateway starts on VPS</li> <li>\u2713 End-to-end message \u2192 Ollama \u2192 response works</li> <li>\u2713 Discord bot online and responding</li> </ul>"},{"location":"AOS-Startup-Procedure/#common-issues-fixes","title":"Common Issues &amp; Fixes","text":"Symptom Likely Cause Check Fix \"Provider disconnected\" API key invalid/expired Verify in <code>.env</code> and provider dashboard Rotate API key, update config, restart nanobot Bot offline in Discord Token wrong or permissions missing Check developer portal settings Verify token and Message Content Intent enabled Ollama unreachable Network/firewall issue <code>curl http://Local-IP:11434</code> from VPS Allow port 11434 on local firewall; check Tailscale route No response to test message Bot offline or wrong config Check logs and provider status See logs; verify config; restart gateway"},{"location":"AOS-Startup-Procedure/#post-startup-validation","title":"Post-Startup Validation","text":""},{"location":"AOS-Startup-Procedure/#quick-health-check","title":"Quick Health Check","text":"<pre><code>nanobot health\n</code></pre> <p>Expected output: <pre><code>\u2713 Gateway running\n\u2713 LLM provider connected\n\u2713 Discord online\n\u2713 Ollama reachable (if Path B)\n\u2713 Memory consolidation healthy\n</code></pre></p>"},{"location":"AOS-Startup-Procedure/#detailed-logs","title":"Detailed Logs","text":"<pre><code>nanobot logs --follow\n</code></pre> <p>Watch for: - Successful provider connections - Message ingestion from channels - Tool execution traces - Error or warnings</p>"},{"location":"AOS-Startup-Procedure/#startup-monitoring-optional","title":"Startup Monitoring (Optional)","text":""},{"location":"AOS-Startup-Procedure/#monitor-resource-usage","title":"Monitor Resource Usage","text":"<pre><code># On VPS or local machine\ntop\n# Look for: nanobot process CPU/memory usage\n# Should be low at idle (~1-5% CPU, &lt;200MB RAM)\n</code></pre>"},{"location":"AOS-Startup-Procedure/#check-service-persistence-advanced","title":"Check Service Persistence (Advanced)","text":"<p>If using systemd service on VPS: <pre><code>sudo systemctl status nanobot\nsudo systemctl restart nanobot\n# Service should restart cleanly without errors\n</code></pre></p>"},{"location":"AOS-Startup-Procedure/#shutdown-procedure-when-needed","title":"Shutdown Procedure (When Needed)","text":""},{"location":"AOS-Startup-Procedure/#simple-path","title":"Simple Path","text":"<pre><code># Gracefully stop nanobot (Ctrl+C in terminal)\nCtrl+C\n# Nanobot will finish current message and shut down\n</code></pre>"},{"location":"AOS-Startup-Procedure/#advanced-path-vps","title":"Advanced Path (VPS)","text":"<pre><code># Stop systemd service\nsudo systemctl stop nanobot\n\n# Or kill process\npkill -f nanobot\n</code></pre>"},{"location":"AOS-Startup-Procedure/#post-startup-notes","title":"Post-Startup Notes","text":"<p>After successful startup: - Monitor logs for first hour for any warnings - Test a real workflow (not just \"hello\") - Check Obsidian write-back if applicable - Verify cost tracking working (tokens logged, cost estimated) - Document any customizations for recovery purposes</p>"},{"location":"AOS-Startup-Procedure/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-25 2.0.0 Complete rewrite: Added simple startup path (local + cloud API); advanced startup path (VPS + Ollama); split scenario-specific instructions; added detailed troubleshooting; removed WSL2 references Previous 1.1.0 WSL2-based startup procedure"},{"location":"Cost-Calculator-and-Optimization/","title":"Cost Calculator &amp; Optimization Guide","text":"<p>Plan your nanobot deployment cost. Estimate monthly spend, optimize provider routing, and set budget controls.</p>"},{"location":"Cost-Calculator-and-Optimization/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Cost-Calculator-and-Optimization/#1-provider-cost-matrix","title":"1. Provider Cost Matrix","text":"Provider Model Example Cost/1K Tokens Latency Best For Notes OpenRouter GPT-4, Claude 3.5 $0.002-0.03 &lt;2s Cost-conscious mixed Best value for quality; supports 100+ models Anthropic Claude 3 Opus $0.015 &lt;3s Premium tasks Most capable; prompt caching reduces cost OpenAI GPT-4o $0.005 &lt;2s General purpose Reliable; expensive for high volume Qwen (via OpenRouter) Qwen2-72B $0.0005 &lt;4s Budget tier Cheapest option; good quality for cost DeepSeek DeepSeek-67B $0.0003 &lt;5s Ultra-budget Lowest cost; slower Ollama (local) Qwen2, Llama2 $0 2-10s Privacy-critical Free; needs local GPU/CPU Gemini Gemini Pro $0.0005 &lt;2s Google ecosystem Billed per request Cohere Command R $0.0003 &lt;3s Specialized use Command models; moderate cost <p>Cost Tier Summary: - Tier A (Premium): Claude Opus, GPT-4 \u2192 $0.015-0.03/1K tokens (use for high-value tasks) - Tier B (Balanced): Claude Haiku, GPT-4 Mini, Qwen-72B \u2192 $0.0005-0.005/1K tokens - Tier C (Budget): DeepSeek, Gemini, Cohere \u2192 $0.0001-0.0005/1K tokens - Tier D (Free): Ollama local \u2192 $0 (infrastructure only)</p>"},{"location":"Cost-Calculator-and-Optimization/#2-monthly-cost-calculator","title":"2. Monthly Cost Calculator","text":""},{"location":"Cost-Calculator-and-Optimization/#step-1-estimate-daily-token-usage","title":"Step 1: Estimate Daily Token Usage","text":"<p>Typical token consumption per interaction: - Simple query (web search): 500 tokens - Moderate complexity (multi-step): 2,000 tokens - Complex task (analysis + synthesis): 5,000 tokens</p> <p>Example team: - 5 users \u00d7 10 interactions/day = 50 total interactions/day - Average 2,000 tokens per interaction = 100,000 tokens/day</p>"},{"location":"Cost-Calculator-and-Optimization/#step-2-calculate-monthly-cost","title":"Step 2: Calculate Monthly Cost","text":"<p>Formula: <pre><code>(Daily tokens \u00d7 30 days) \u00d7 (Cost per 1K tokens / 1000) = Monthly cost\n</code></pre></p> <p>Examples (100,000 tokens/day):</p> Provider Cost Per Month Annual OpenRouter (Qwen) $1.50 $18 DeepSeek $0.90 $11 Ollama (local GPU cost) ~$50 $600 OpenRouter (Claude Haiku) $15 $180 OpenAI (GPT-4o) $15 $180 Claude Opus $45 $540 <p>Interactive Calculator:</p> <pre><code># Paste into nanobot test mode or Python script\ntokens_per_day = 100000\ncost_per_1k = 0.0005  # DeepSeek: $0.0005/1K\nmonthly_cost = (tokens_per_day * 30 * cost_per_1k) / 1000\nprint(f\"Monthly cost at {cost_per_1k}/1K tokens: ${monthly_cost:.2f}\")\n# Output: Monthly cost: $1.50\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#3-multi-provider-routing-optimize-spend","title":"3. Multi-Provider Routing (Optimize Spend)","text":"<p>Route different tasks to different tiers based on complexity and value.</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-hybrid-multi-tier-routing","title":"Strategy: Hybrid Multi-Tier Routing","text":"<p>Tier Logic: - Tier A (Claude Opus) \u2190 10% of tasks (complex analysis, creative work) - Tier B (Claude Haiku, Qwen) \u2190 60% of tasks (general chat, moderate reasoning) - Tier C (DeepSeek, Budget Models) \u2190 30% of tasks (summarization, classification, routine)</p>"},{"location":"Cost-Calculator-and-Optimization/#implementation-config-example","title":"Implementation: Config Example","text":"<pre><code>{\n  \"llm\": {\n    \"routing\": {\n      \"default\": \"tier_b\",\n      \"rules\": [\n        {\n          \"channel\": \"#vip-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"claude-opus\",\n          \"tier\": \"a\"\n        },\n        {\n          \"channel\": \"#research-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"qwen2:72b\",\n          \"tier\": \"b\"\n        },\n        {\n          \"channel\": \"#bk-*\",\n          \"provider\": \"openrouter\",\n          \"model\": \"deepseek-67b\",\n          \"tier\": \"c\"\n        },\n        {\n          \"keyword\": \"urgent\",\n          \"provider\": \"anthropic\",\n          \"model\": \"claude-opus\",\n          \"tier\": \"a\"\n        }\n      ]\n    }\n  }\n}\n</code></pre> <p>Result:  - VIP channels always get Claude Opus (best quality) - Research uses Qwen (good quality, cheaper) - Backlog use DeepSeek (budget tier, adequate quality) - Urgent keyword triggers Opus regardless of channel</p> <p>Estimated Cost Saving: 60-70% vs. using Claude Opus for everything</p>"},{"location":"Cost-Calculator-and-Optimization/#4-cost-per-workflow-examples","title":"4. Cost Per Workflow Examples","text":"<p>Real-world costs for common nanobot tasks:</p>"},{"location":"Cost-Calculator-and-Optimization/#example-1-daily-knowledge-consolidation","title":"Example 1: Daily Knowledge Consolidation","text":"<p>Workflow: Cron job nightly; collect Discord messages from #prd channel; summarize + write to Obsidian</p> <p>Tokens consumed: - Read 50 messages: 10,000 tokens - Summarization: 5,000 tokens - Write Obsidian: 500 tokens - Total: ~15,000 tokens/day</p> <p>Cost (using Tier C): <pre><code>15,000 tokens/day \u00d7 30 days \u00d7 $0.0005/1K = $0.225/month\n</code></pre></p> <p>ROI: ~1 person-hour saved daily = Worth $500+ in labor, cost $0.23 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-2-multi-channel-content-posting","title":"Example 2: Multi-Channel Content Posting","text":"<p>Workflow: User requests article post to Discord, Slack, Telegram simultaneously</p> <p>Tokens consumed: - Generate content: 3,000 tokens - Format for channels: 1,500 tokens - Post &amp; confirm: 500 tokens - Total: ~5,000 tokens per post</p> <p>Cost (using Tier B): <pre><code>5,000 tokens \u00d7 $0.002/1K = $0.01 per post\n</code></pre></p> <p>ROI: Saves 15 mins manual cross-posting, cost $0.01 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-3-github-automation-daily","title":"Example 3: GitHub Automation (Daily)","text":"<p>Workflow: Cron job to scan issues, summarize PRs, post status to Discord</p> <p>Tokens consumed: - Fetch &amp; parse 10 PRs: 8,000 tokens - Summarize each: 4,000 tokens - Generate status report: 3,000 tokens - Total: ~15,000 tokens/day</p> <p>Cost (using Tier C): <pre><code>15,000 tokens/day \u00d7 30 days \u00d7 $0.0005/1K = $0.225/month\n</code></pre></p> <p>ROI: Saves ~30 mins team review time daily, cost $0.225 \ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#example-4-customer-support-bot-high-volume","title":"Example 4: Customer Support Bot (High Volume)","text":"<p>Workflow: 100 support questions/day across Discord, Slack, Telegram</p> <p>Tokens consumed per day: - Answer questions: 100 \u00d7 1,500 tokens = 150,000 tokens - Total: ~150,000 tokens/day</p> <p>Cost Options: - Tier B (Qwen): 150,000 \u00d7 30 \u00d7 0.0005/1K = **2.25/month** - Tier A (Claude): 150,000 \u00d7 30 \u00d7 0.002/1K = **9/month**</p> <p>ROI: Deflects 50+ support tickets/month = Worth $1,000+ in labor\ud83c\udfaf</p>"},{"location":"Cost-Calculator-and-Optimization/#5-budget-caps-token-limits","title":"5. Budget Caps &amp; Token Limits","text":""},{"location":"Cost-Calculator-and-Optimization/#set-monthly-budget-cap","title":"Set Monthly Budget Cap","text":"<p>Config example:</p> <pre><code>{\n  \"costs\": {\n    \"monthly_budget\": 100.00,\n    \"alert_at_percent\": [50, 75, 90, 100],\n    \"action_on_exceed\": \"queue_lower_tier\"\n  }\n}\n</code></pre> <p>Behavior: - At 50%: Log warning message - At 75%: Downgrade new requests to Tier C only - At 90%: Downgrade to Tier C, alert ops team - At 100%: All new requests \u2192 local Ollama (free)</p>"},{"location":"Cost-Calculator-and-Optimization/#per-team-budget-allocation","title":"Per-Team Budget Allocation","text":"<p>For multi-team deployments:</p> <pre><code>{\n  \"teams\": {\n    \"prd\": {\n      \"monthly_budget\": 50,\n      \"tier\": \"b\"\n    },\n    \"research\": {\n      \"monthly_budget\": 30,\n      \"tier\": \"a\"\n    },\n    \"support\": {\n      \"monthly_budget\": 20,\n      \"tier\": \"c\"\n    }\n  }\n}\n</code></pre> <p>Each team gets its own pool. When exhausted: - Auto-fallback to local Ollama (if available) - Or queue requests for next billing cycle</p>"},{"location":"Cost-Calculator-and-Optimization/#token-usage-tracking","title":"Token Usage Tracking","text":"<pre><code># View current month spend\nnanobot cost report --this-month\n# Output:\n# Feb 2026: 3,000,000 tokens / $4.50 (Qwen tier)\n# Budget remaining: $95.50 / 30% of quota\n\n# View by channel\nnanobot cost report --by-channel\n# Output:\n# #prd: 1,500,000 tokens / $2.25\n# #research: 1,000,000 tokens / $1.50\n# #support: 500,000 tokens / $0.75\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#6-optimization-strategies","title":"6. Optimization Strategies","text":""},{"location":"Cost-Calculator-and-Optimization/#strategy-1-batch-processing-save-40","title":"Strategy 1: Batch Processing (Save 40%)","text":"<p>Instead of 50 real-time requests daily, batch into: - Morning batch (8am): 30 requests - Afternoon batch (2pm): 20 requests</p> <p>Token reduction: Fewer context switches = shorter responses Estimated savings: 30-40%</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-2-cache-repetitive-prompts-save-20","title":"Strategy 2: Cache Repetitive Prompts (Save 20%)","text":"<p>If 30% of tasks use the same system prompt:</p> <pre><code>{\n  \"cache\": {\n    \"strategy\": \"claude_prompt_cache\",\n    \"system_prompts\": [\n      {\n        \"name\": \"support_bot\",\n        \"prompt\": \"You are a customer support agent...\",\n        \"ttl_hours\": 24\n      }\n    ]\n  }\n}\n</code></pre> <p>Cost reduction: Cached tokens cost 90% less (Anthropic)</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-3-local-ollama-for-off-peak-save-70","title":"Strategy 3: Local Ollama for Off-Peak (Save 70%)","text":"<p>Run expensive tasks during off-peak hours on local GPU:</p> <pre><code>{\n  \"scheduling\": {\n    \"research_summaries\": {\n      \"time\": \"02:00\",\n      \"provider\": \"ollama\",\n      \"model\": \"qwen2:72b\"\n    }\n  }\n}\n</code></pre> <p>Cost reduction: Free compute hours + cloud API for urgent tasks</p>"},{"location":"Cost-Calculator-and-Optimization/#strategy-4-summarize-long-conversations-save-30","title":"Strategy 4: Summarize Long Conversations (Save 30%)","text":"<p>Instead of feeding full history to LLM:</p> <pre><code># Every 20 messages, auto-summarize conversation history\n# Insert summary instead of full history\n</code></pre> <p>Token reduction: 20-30% fewer tokens per interaction</p>"},{"location":"Cost-Calculator-and-Optimization/#7-break-even-analysis-cloud-vs-self-hosted","title":"7. Break-Even Analysis: Cloud vs. Self-Hosted","text":""},{"location":"Cost-Calculator-and-Optimization/#scenario-team-of-10-people-50-daily-interactions","title":"Scenario: Team of 10 people, 50 daily interactions","text":"<p>Cloud (OpenRouter Qwen) approach: <pre><code>100,000 tokens/day \u00d7 30 \u00d7 $0.0005/1K = $1.50/month\nTeam cost: $1.50 + ZenDesk/Slack = $500/month\n</code></pre></p> <p>Self-Hosted (VPS + Ollama) approach: <pre><code>VPS: $20/month (4GB RAM, CPU)\nGPU compute (rented): $200/month (NVIDIA A100 sharing)\nOllama updates: $0\nTotal: $220/month\n</code></pre></p> <p>Break-even: Self-hosted cheaper at &gt;150k tokens/day consistently</p> <p>Recommendation: - &lt;50k tokens/day: Cloud only (too cheap to self-host) - 50k-200k tokens/day: Hybrid (cloud + local batching) - &gt;200k tokens/day: Self-hosted (ROI in 2-3 months)</p>"},{"location":"Cost-Calculator-and-Optimization/#8-cost-monitoring-checklist","title":"8. Cost Monitoring Checklist","text":"<p>Monthly review:</p> <ul> <li> Total tokens consumed vs. budget</li> <li> Cost per channel (is any team over-using?)</li> <li> Average tokens per interaction (trending up/down?)</li> <li> Tier distribution (are we using Tier A too often?)</li> <li> Cache hit rate (prompt caching effectiveness)</li> <li> Ollama uptime (if self-hosted; justify continued use?)</li> </ul> <pre><code># Generate comprehensive monthly report\nnanobot cost-report --detailed --month=feb\n</code></pre>"},{"location":"Cost-Calculator-and-Optimization/#9-cost-reduction-checklist","title":"9. Cost Reduction Checklist","text":"<p>Quick wins (easy, 10-30% savings): - [ ] Enable prompt caching (Anthropic) - [ ] Switch to Qwen for routine tasks - [ ] Batch non-urgent summarization to 2am window - [ ] Add tier-based routing by channel</p> <p>Medium effort (30-50% savings): - [ ] Set up conversation summarization every 20 messages - [ ] Implement local Ollama for off-peak batch jobs - [ ] Review and reduce system prompt verbosity</p> <p>Major changes (50-70% savings): - [ ] Deploy self-hosted VPS + Ollama for high volume - [ ] Migrate to on-device models (less privacy tradeoff) - [ ] Implement aggressive batching (hourly vs. real-time)</p>"},{"location":"Cost-Calculator-and-Optimization/#10-example-annual-budget-forecast","title":"10. Example Annual Budget Forecast","text":"<p>10-person team, 100,000 tokens/day:</p> Approach Monthly Annual Notes Cloud Only (Qwen) $1.50 $18 Cheapest; accept minimal latency Cloud + Caching $1.20 $14 With Anthropic prompt cache Hybrid (Cloud+Local) $40 $480 VPS $20 + part-time GPU $20 Full Self-Hosted $220 $2,640 VPS $20 + GPU $200 <p>Sweet spot for most teams: Cloud (Tier C/B) + local batching = $20-40/month</p>"},{"location":"Cost-Calculator-and-Optimization/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial cost calculator and optimization guide"},{"location":"Essential-AOS-Skills/","title":"Essential AOS Skills","text":"<p>This document lists the 5 core skills (pre-built bundles) recommended for every Nanobot Agentic Operating System deployment. For complete reference including all 9 pre-built skills, 14 tools, and custom skill creation, see Tools &amp; Skills Reference.</p> <p>Plain-English Note: A skill is a pre-built bundle of tools configured for a specific business workflow. Install these five first, then add others as needed.</p>"},{"location":"Essential-AOS-Skills/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Essential-AOS-Skills/#1-the-5-essential-skills","title":"1. The 5 Essential Skills","text":""},{"location":"Essential-AOS-Skills/#1-obsidian","title":"1. obsidian","text":"<p>Purpose: Read, write, and query Obsidian vault from nanobot Why Essential: Core memory plane; all AOS artifacts stored here for audit and recovery Install: Built-in or <code>nanobot skill add obsidian</code> Config: <pre><code>{\n  \"obsidianVaultPath\": \"~/Documents/ObsidianVault\",\n  \"obsidianRestEndpoint\": \"http://localhost:18790\",\n  \"obsidianRestToken\": \"token...\"\n}\n</code></pre> Usage Examples: - <code>\"Read the Q1 roadmap from Strategy.md\"</code> - <code>\"Write a research summary to 08-Research/AI-Safety/findings.md\"</code> - <code>\"Query all notes tagged #decision\"</code></p>"},{"location":"Essential-AOS-Skills/#2-memory","title":"2. memory","text":"<p>Purpose: Automatic session management, memory consolidation, context optimization Why Essential: Enables long conversations without token explosion; automatic history summarization Install: Built-in Config: <pre><code>{\n  \"session\": {\n    \"memoryWindow\": 100,\n    \"maxSessionTokens\": 32000,\n    \"consolidationInterval\": 10\n  }\n}\n</code></pre> Automatic \u2014 No user interaction needed; agent manages conversation memory transparently.</p>"},{"location":"Essential-AOS-Skills/#3-cron","title":"3. cron","text":"<p>Purpose: Schedule tasks to run on recurring schedules Why Essential: Enables proactive, always-on operations (daily journal, health checks, backups) Install: <code>nanobot skill add cron</code> Examples: - <code>\"Schedule a health check every hour\"</code> - <code>\"Run daily journal summarizer at 23:50 every day\"</code> - <code>\"Backup workspace every Sunday at 2 AM\"</code></p>"},{"location":"Essential-AOS-Skills/#4-summarize","title":"4. summarize","text":"<p>Purpose: Condense long content while preserving key information Why Essential: Reduces token burn, improves clarity for reports and digests Install: Built-in Usage Examples: - <code>\"Summarize this 50-page PDF to 1 page\"</code> - <code>\"Create a 3-sentence summary of today's Discord activity\"</code> - <code>\"Condense research findings into key insights + citations\"</code></p>"},{"location":"Essential-AOS-Skills/#5-github","title":"5. github","text":"<p>Purpose: GitHub automation (search repos, create PRs, trigger workflows) Why Essential: Enables GitOps automation from chat; CI/CD triggers from Discord/Slack Install: Built-in; requires token Config: <pre><code>{\n  \"github\": {\n    \"token\": \"github_pat_...\",\n    \"defaultOrg\": \"your-org\",\n    \"allowFrom\": [\"OPERATOR_USER_ID\"]\n  }\n}\n</code></pre> Usage Examples: - <code>\"Search our backend repo for TypeScript errors\"</code> - <code>\"Create a PR to update dependencies in main branch\"</code> - <code>\"Trigger the 'deploy' workflow\"</code></p>"},{"location":"Essential-AOS-Skills/#2-installation-checklist","title":"2. Installation Checklist","text":"<ul> <li> obsidian - Configured with vault path and REST endpoint</li> <li> memory - Session consolidation enabled (default)</li> <li> cron - Installed and tested with one schedule</li> <li> summarize - Tested with a long document</li> <li> github - Token configured and tested with one search</li> </ul>"},{"location":"Essential-AOS-Skills/#3-daily-journal-example-using-cron-obsidian-summarize","title":"3. Daily Journal Example (Using cron + obsidian + summarize)","text":"<p>Combine three essential skills to automate daily operational journaling:</p> <p>Step 1: Set up Archivist personality</p> <p>Add to <code>config.json</code> or <code>~/.nanobot/agents/primary/SOUL.md</code>:</p> <pre><code># AOS Archivist Identity\n\nEvery night at 23:50, run this routine:\n\n1. **Analyze Discord history** from #aos-control and #general channels\n2. **Extract key metadata:** milestones, technical hurdles, model performance notes\n3. **Format for Obsidian** using structured template\n4. **Write to vault** at 00-System/AOS-Journal/{{date}}.md\n5. **Include metadata:** \n   - Model used today\n   - Context efficiency notes\n   - 3-sentence summary\n\n**Template:**\n# AOS Operational Journal: {{date}}\n\n## \ud83d\udee0 Technical Milestones\n* [List of tasks completed]\n\n## \ud83e\udde0 Model Context &amp; Performance\n* Model Used: {{primary_model}}\n* Context Efficiency: [Memory retention rating]\n\n## \ud83d\udcdd Summary\n[3-sentence summary of the day]\n</code></pre> <p>Step 2: Schedule the routine</p> <pre><code>User: \"@BotName schedule a task: Run the Archivist routine every day at 23:50\"\n</code></pre> <p>Step 3: Test manually</p> <pre><code>User: \"@BotName force-run Archivist routine for today\"\n</code></pre> <p>Expected: Bot replies with success, entry appears in Obsidian vault.</p>"},{"location":"Essential-AOS-Skills/#4-security-best-practices","title":"4. Security Best Practices","text":"<p>Tool Allowlisting: <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"allowedTools\": {\n        \"#ctl-nanobot\": [\"shell\", \"mcp\", \"github\"],\n        \"#prd-*\": [\"web\", \"file\", \"message\"],\n        \"#bk-*\": [\"file\", \"message\", \"obsidian\"],\n        \"#res-*\": [\"web\", \"message\", \"obsidian\"],\n        \"default\": [\"web\", \"file\", \"message\"]\n      }\n    }\n  }\n}\n</code></pre></p> <p>Secret Management: - Never commit <code>.env</code> or config files with tokens - Store API keys in environment variables: <code>export GITHUB_TOKEN=...</code> - Use allowlists to restrict who can invoke sensitive skills</p>"},{"location":"Essential-AOS-Skills/#5-complete-skill-catalog","title":"5. Complete Skill Catalog","text":"<p>This document covers the 5 essential skills. Four more are available: - weather - Weather data retrieval - clawhub - Skill marketplace integration - skill-creator - Auto-generate skills from natural language - tmux - Terminal multiplexer control</p> <p>See Tools &amp; Skills Reference for: - All 14 built-in tools (web_search, file_*, shell, mcp, subagent_spawn, etc.) - All 9 pre-built skills with full examples - Cost/performance matrix - Creating custom tools and skills - Tool allowlisting patterns</p>"},{"location":"Essential-AOS-Skills/#6-troubleshooting","title":"6. Troubleshooting","text":"Issue Fix Skill not found Confirm installed: <code>nanobot skill list</code> Obsidian write fails Verify vault path and REST endpoint in config Cron task not running Check time format (24-hour) and time zone GitHub auth fails Verify token format and repo permissions"},{"location":"Essential-AOS-Skills/#7-revision-history","title":"7. Revision History","text":"Date Version Change 2026-02-25 2.0.0 Major simplification: 5 essential skills only; removed outdated references; added cross-references to comprehensive Tools &amp; Skills Reference; updated config examples and daily journal walkthrough Previous 1.x Outdated skill inventory and setup instructions"},{"location":"Governance-Policies-and-Config-Examples/","title":"Governance Policies &amp; Config Examples","text":"<p>Enforce organizational guardrails, access control, and cost accountability. Templates and patterns for production deployments.</p>"},{"location":"Governance-Policies-and-Config-Examples/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Governance-Policies-and-Config-Examples/#1-overview-the-3-plane-governance-model","title":"1. Overview: The 3-Plane Governance Model","text":"<p>Plane 1: Control \u2014 Who can do what? (access control, tool allowlisting) Plane 2: Policy \u2014 How are decisions made? (routing rules, escalation, approval flows) Plane 3: Memory \u2014 What does the system know? (vault scope, retention policies)</p> <p>All three planes are channel-aware (work in Discord, Slack, Telegram, etc.).</p>"},{"location":"Governance-Policies-and-Config-Examples/#2-access-control-patterns","title":"2. Access Control Patterns","text":""},{"location":"Governance-Policies-and-Config-Examples/#pattern-a-role-based-tool-allowlisting-rbac","title":"Pattern A: Role-Based Tool Allowlisting (RBAC)","text":"<p>Use Case: Different teams get different tools.</p> <p>Config example:</p> <pre><code>{\n  \"teams\": {\n    \"engineering\": {\n      \"channels\": [\"#dev\", \"#devops\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"github_*\",\n        \"shell_exec\",\n        \"file_*\",\n        \"mcp_call\",\n        \"cron_schedule\"\n      ],\n      \"forbidden_tools\": [\"shell_exec:rm\", \"shell_exec:sudo\"],\n      \"llm_tier\": \"b\"\n    },\n    \"marketing\": {\n      \"channels\": [\"#marketing\", \"#content-hub\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"file_read\",\n        \"message_send\",\n        \"obsidian\"\n      ],\n      \"forbidden_tools\": [\"shell_exec\", \"github_*\"],\n      \"llm_tier\": \"c\"\n    },\n    \"executive\": {\n      \"channels\": [\"#exec\", \"#leadership\"],\n      \"allowed_tools\": [\n        \"web_search\",\n        \"file_read\",\n        \"message_send\",\n        \"summarize\"\n      ],\n      \"forbidden_tools\": [\"shell_exec\", \"cron\", \"mcp\"],\n      \"llm_tier\": \"a\",\n      \"escalation\": \"required\"\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> Team Can use Cannot use LLM Engineering All tools except destructive shell rm, sudo, reboot Tier B Marketing Search, read, message, obsidian Shell, GitHub, MCP Tier C Executive Search, read, message, summarize Shell, GitHub, cron, MCP Tier A <p>Enforcement:</p> <p>If marketing user tries <code>@BotName shell_exec: ls /</code>: <pre><code>\u274c Tool 'shell_exec' not allowed for #marketing team.\n   Allowed tools: web_search, file_read, message_send, obsidian\n   Contact: @engineering-lead for access request\n</code></pre></p>"},{"location":"Governance-Policies-and-Config-Examples/#pattern-b-channel-level-tool-restrictions","title":"Pattern B: Channel-Level Tool Restrictions","text":"<p>Use Case: Public channels more restricted than private.</p> <pre><code>{\n  \"channels\": {\n    \"#general\": {\n      \"tools\": [\"web_search\", \"message_send\"],\n      \"visibility\": \"public\"\n    },\n    \"#dev\": {\n      \"tools\": [\"web_search\", \"shell_exec\", \"github_*\", \"mcp_call\"],\n      \"visibility\": \"team\"\n    },\n    \"#devops-secrets\": {\n      \"tools\": [\"shell_exec\", \"file_*\", \"mcp_call\"],\n      \"visibility\": \"restricted\",\n      \"requires_approval\": true,\n      \"approval_group\": \"@devops-leads\"\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> <ul> <li><code>#general</code>: Only safe, read-only tools</li> <li><code>#dev</code>: Dev-friendly tools, no approval needed</li> <li><code>#devops-secrets</code>: Full power, but every action logged + approved</li> </ul>"},{"location":"Governance-Policies-and-Config-Examples/#pattern-c-per-user-rate-limiting","title":"Pattern C: Per-User Rate Limiting","text":"<p>Use Case: Prevent cost overruns and abuse.</p> <pre><code>{\n  \"rate_limits\": {\n    \"default_user\": {\n      \"tokens_per_day\": 50000,\n      \"requests_per_hour\": 60,\n      \"web_search_per_day\": 20\n    },\n    \"power_users\": {\n      \"tokens_per_day\": 200000,\n      \"requests_per_hour\": 300,\n      \"web_search_per_day\": 100\n    },\n    \"limited_users\": {\n      \"tokens_per_day\": 5000,\n      \"requests_per_hour\": 10,\n      \"web_search_per_day\": 5\n    }\n  },\n  \"team_quotas\": {\n    \"engineering\": {\n      \"daily_tokens\": 500000,\n      \"monthly_budget\": 100\n    },\n    \"marketing\": {\n      \"daily_tokens\": 100000,\n      \"monthly_budget\": 30\n    }\n  }\n}\n</code></pre> <p>Behavior:</p> <p>User exceeds daily limit: <pre><code>\u26a0\ufe0f Daily token limit reached (50,000/50,000)\n   Your limit resets tomorrow at 12:00am UTC\n   Need more capacity? Request upgrade: https://...\n</code></pre></p> <p>Team exceeds budget: <pre><code>\ud83d\udcb0 Team monthly budget exhausted ($100/$100)\n   Remaining requests will use local Ollama (free)\n   Budget resets in 5 days\n</code></pre></p>"},{"location":"Governance-Policies-and-Config-Examples/#3-channel-naming-convention-governance","title":"3. Channel Naming Convention &amp; Governance","text":"<p>Goal: Channel names automatically enforce policy.</p>"},{"location":"Governance-Policies-and-Config-Examples/#standard-naming-scheme","title":"Standard Naming Scheme","text":"<pre><code>{scope}-{purpose}-{privacy}\n\nScope: prd, bk, res, ctl, fin, hr, lgl\nPurpose: any lowercase string\nPrivacy: none (public), -private, -secret\n</code></pre> <p>Examples:</p> Channel Scope Team Tools Allowed Privacy <code>#prd-architecture</code> prd engineering All dev tools Public <code>#prd-secrets</code> prd engineering Full power Restricted <code>#bk-payroll</code> bk hr Read-only files Restricted <code>#res-customer-data</code> res research Web search, file read Restricted <code>#ctl-emergency</code> ctl ops All tools, instant approval Restricted <code>#fin-quarterly</code> fin finance Summarize, search Private"},{"location":"Governance-Policies-and-Config-Examples/#config-based-routing","title":"Config-based Routing","text":"<pre><code>{\n  \"channel_policy\": {\n    \"naming_scheme\": \"{scope}-{purpose}[-{privacy}]\",\n    \"routing_rules\": [\n      {\n        \"pattern\": \"prd-*\",\n        \"team\": \"engineering\",\n        \"tools\": \"engineering_allowed\",\n        \"tier\": \"b\",\n        \"cost_center\": \"engineering\"\n      },\n      {\n        \"pattern\": \"bk-*\",\n        \"team\": \"operations\",\n        \"tools\": \"operations_allowed\",\n        \"tier\": \"c\",\n        \"cost_center\": \"operations\"\n      },\n      {\n        \"pattern\": \"*-secret\",\n        \"requires_approval\": true,\n        \"audit_level\": \"verbose\",\n        \"approval_group\": \"@security-team\"\n      },\n      {\n        \"pattern\": \"ctl-*\",\n        \"tier\": \"a\",\n        \"approval\": \"instant\",\n        \"cost_center\": \"operations\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Behavior:</p> <p>When user creates channel <code>#prd-auth-secret</code>: <pre><code>\u2713 Channel created: #prd-auth-secret\n  Automatically assigned:\n  - Team: engineering\n  - Tools allowed: {engineering_allowed}\n  - Cost center: engineering\n  - LLM tier: b\n  - Approval required: Yes (contains 'secret')\n  - Audit logging: Verbose\n\n  Confirm policies? [Y/n]\n</code></pre></p>"},{"location":"Governance-Policies-and-Config-Examples/#4-provider-routing-by-workflow","title":"4. Provider Routing by Workflow","text":"<p>Goal: Smart cost optimization. Route by channel/keyword/priority.</p> <pre><code>{\n  \"llm_routing\": {\n    \"rules\": [\n      {\n        \"channel\": \"#prd-*\",\n        \"priority\": \"high\",\n        \"provider\": \"openrouter\",\n        \"model\": \"claude-opus\",\n        \"tier\": \"a\",\n        \"fallback\": \"openrouter-qwen\"\n      },\n      {\n        \"channel\": \"#research-*\",\n        \"priority\": \"medium\",\n        \"provider\": \"openrouter\",\n        \"model\": \"qwen2:72b\",\n        \"tier\": \"b\",\n        \"fallback\": \"openrouter-deepseek\"\n      },\n      {\n        \"channel\": \"#bk-*\",\n        \"priority\": \"low\",\n        \"provider\": \"openrouter\",\n        \"model\": \"deepseek-67b\",\n        \"tier\": \"c\",\n        \"fallback\": \"local-ollama\"\n      },\n      {\n        \"keyword\": \"urgent\",\n        \"priority\": \"critical\",\n        \"provider\": \"anthropic\",\n        \"model\": \"claude-opus\",\n        \"tier\": \"a\"\n      },\n      {\n        \"keyword\": \"batch\",\n        \"time_window\": \"02:00-06:00\",\n        \"provider\": \"local\",\n        \"model\": \"ollama-qwen\",\n        \"tier\": \"free\"\n      },\n      {\n        \"time\": \"22:00-08:00\",\n        \"default_tier\": \"c\",\n        \"reason\": \"off-peak budget mode\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Examples:</p> <pre><code>User in #prd-architecture:\n@BotName: Design async connection pooling\n\n\u2192 Route: claude-opus (Tier A, $0.015/1K tokens)\nReason: High-priority engineering channel\n</code></pre> <pre><code>User in #bk-categorization:\n@BotName: Classify these 100 support tickets\n\n\u2192 Route: deepseek-67b (Tier C, $0.0003/1K tokens)\nReason: Backlog/batch, low priority\nCost estimate: ~$0.03 instead of $0.30 if using Opus\n</code></pre> <pre><code>User in #prd-emergency:\n@BotName urgent: Production database down, need immediate diagnosis\n\n\u2192 Route: claude-opus (Tier A, instant)\nReason: Keyword \"urgent\"\nBypass tier restrictions\n</code></pre>"},{"location":"Governance-Policies-and-Config-Examples/#5-approval-workflows-for-high-risk-actions","title":"5. Approval Workflows for High-Risk Actions","text":"<p>Goal: Prevent costly or dangerous operations without human review.</p> <pre><code>{\n  \"approval_required\": {\n    \"rules\": [\n      {\n        \"tool\": \"shell_exec\",\n        \"with_keywords\": [\"rm\", \"sudo\", \"chmod\", \"kill\"],\n        \"approvers\": [\"@security-team\"],\n        \"timeout\": 300\n      },\n      {\n        \"tool\": \"mcp_call\",\n        \"to_system\": [\"external_api\", \"database_write\"],\n        \"approvers\": [\"@devops-leads\"],\n        \"timeout\": 600\n      },\n      {\n        \"action\": \"cost_exceeds\",\n        \"threshold\": 50,\n        \"approvers\": [\"@finance-team\"],\n        \"timeout\": 3600\n      },\n      {\n        \"channel\": \"*-secret\",\n        \"any_tool\": true,\n        \"approvers\": [\"@security-team\"],\n        \"timeout\": 300\n      }\n    ]\n  }\n}\n</code></pre> <p>Example Flow:</p> <pre><code>User in #prd-database:\n@BotName shell_exec: rm -rf /data/cache/*\n\n\u274c APPROVAL REQUIRED\nSafe mode blocked destructive command: rm\n\nDescription: Remove all cache data\nRequested by: @alice\nApprovers needed: @security-team, @devops-leads\nApproval timeout: 5 minutes\n\nApproving this will:\n- Delete /data/cache\n- Cannot be undone\n- See audit trail: https://...\n\n[View Details] [Approve] [Deny]\n</code></pre> <p>If approved: <pre><code>\u2705 Approved by @eve (security-team)\n\u2705 Approved by @frank (devops-leads)\n\nExecuting: rm -rf /data/cache/*\n\nCommand output:\n[operation results]\n\nAudit entry created: ID-2026-0225-0447\n</code></pre></p>"},{"location":"Governance-Policies-and-Config-Examples/#6-escalation-workflows","title":"6. Escalation Workflows","text":"<p>Goal: Uncertain decisions bubble up to humans.</p> <pre><code>{\n  \"escalation\": {\n    \"rules\": [\n      {\n        \"confidence_below\": 0.70,\n        \"escalate_to\": \"@support-team\",\n        \"message\": \"Low confidence response; please review\"\n      },\n      {\n        \"cost_estimate_exceeds\": 100,\n        \"escalate_to\": \"@finance-team\",\n        \"message\": \"High-cost operation; needs approval\"\n      },\n      {\n        \"error_rate_above\": 0.10,\n        \"escalate_to\": \"@devops-team\",\n        \"message\": \"Tool failure rate elevated; investigate\"\n      },\n      {\n        \"channel\": \"#legal-*\",\n        \"any_question\": true,\n        \"escalate_to\": \"@legal-team\",\n        \"message\": \"All legal channel requests auto-escalate\"\n      }\n    ]\n  }\n}\n</code></pre> <p>Example:</p> <pre><code>User in #support:\n@BotName: What's our HIPAA compliance status?\n\n\ud83e\udd14 Low confidence response (58%)\nEscalating to human...\n\nConversation forwarded to: @support-team\nEstimated response: 15 mins\n\nCustomer message:\n\"Our specialist team is reviewing your question.\nYou'll get a detailed response shortly.\"\n</code></pre>"},{"location":"Governance-Policies-and-Config-Examples/#7-audit-logging-policies","title":"7. Audit &amp; Logging Policies","text":"<p>Goal: Track all actions for security and cost compliance.</p> <pre><code>{\n  \"audit\": {\n    \"log_level\": {\n      \"default\": \"info\",\n      \"*-secret\": \"verbose\",\n      \"mcp_call\": \"verbose\",\n      \"shell_exec\": \"verbose\",\n      \"github_*\": \"info\"\n    },\n    \"retention\": {\n      \"default\": 90,\n      \"*-secret\": 365,\n      \"security_events\": 730\n    },\n    \"fields\": [\n      \"timestamp\",\n      \"user_id\",\n      \"team\",\n      \"channel\",\n      \"tool_used\",\n      \"cost_incurred\",\n      \"tokens_consumed\",\n      \"success_or_error\",\n      \"approval_chain\"\n    ],\n    \"export\": {\n      \"frequency\": \"daily\",\n      \"format\": \"json\",\n      \"destination\": \"s3://audit-logs/\"\n    }\n  }\n}\n</code></pre> <p>Usage:</p> <pre><code># View audit logs for a user\nnanobot audit --user alice --since \"7 days ago\"\n\n# View by team\nnanobot audit --team engineering --since \"this month\"\n\n# View security events\nnanobot audit --event-type shell_exec,mcp_call --since \"30 days ago\"\n\n# Export for compliance\nnanobot audit export --format csv --destination ./audit-report.csv\n</code></pre>"},{"location":"Governance-Policies-and-Config-Examples/#8-cost-allocation-chargeback","title":"8. Cost Allocation &amp; Chargeback","text":"<p>Goal: Multi-team deployments need to track who spent what.</p> <pre><code>{\n  \"cost_allocation\": {\n    \"teams\": {\n      \"engineering\": {\n        \"cost_center\": \"eng-ops\",\n        \"monthly_budget\": 150,\n        \"alert_at\": 100,\n        \"override_contact\": \"alice@company.com\"\n      },\n      \"marketing\": {\n        \"cost_center\": \"mkt-ops\",\n        \"monthly_budget\": 50,\n        \"alert_at\": 35,\n        \"override_contact\": \"bob@company.com\"\n      },\n      \"research\": {\n        \"cost_center\": \"r-and-d\",\n        \"monthly_budget\": 200,\n        \"alert_at\": 150,\n        \"override_contact\": \"carol@company.com\"\n      }\n    },\n    \"reporting\": {\n      \"frequency\": \"weekly\",\n      \"recipients\": [\"cfo@company.com\", \"ops-team@company.com\"],\n      \"format\": \"html\"\n    }\n  }\n}\n</code></pre> <p>Weekly Report Example:</p> <pre><code>Cost Allocation Report - Week of Feb 24, 2026\n\nEngineering:\n  Budget: $150/month | Spent this week: $32.50 (22%)\n  YTD: $130 / Projected total: $520\n\nMarketing:\n  Budget: $50/month | Spent this week: $8.20 (16%)\n  YTD: $30 / Projected total: $120\n\nResearch:\n  Budget: $200/month | Spent this week: $45.80 (23%)\n  YTD: $190 / Projected total: $760 (ESTIMATE EXCEEDS)\n\n\u26a0\ufe0f Research team on track to exceed budget\n   Contact: @carol | Recommend: Increase budget or reduce scope\n</code></pre>"},{"location":"Governance-Policies-and-Config-Examples/#9-sample-complete-config-all-planes","title":"9. Sample Complete Config (All Planes)","text":"<p>Control Plane (Access):</p> <pre><code>{\n  \"access_control\": {\n    \"teams\": {\n      \"engineering\": {\n        \"channels\": [\"#dev\", \"#devops\", \"#prd-*\"],\n        \"allowed_tools\": [\"web_search\", \"shell_exec\", \"github_*\", \"file_*\", \"mcp_call\"],\n        \"excluded_tools\": [\"shell_exec:rm\", \"shell_exec:sudo\"]\n      }\n    }\n  }\n}\n</code></pre> <p>Policy Plane (Routing &amp; Approval):</p> <pre><code>{\n  \"routing\": {\n    \"default\": \"tier_b\",\n    \"rules\": [\n      { \"channel\": \"#prd-*\", \"tier\": \"a\", \"provider\": \"anthropic\" },\n      { \"channel\": \"#bk-*\", \"tier\": \"c\", \"provider\": \"openrouter-deepseek\" }\n    ]\n  },\n  \"approval\": {\n    \"rules\": [\n      { \"tool\": \"shell_exec\", \"with_keywords\": [\"rm\"], \"required\": true }\n    ]\n  }\n}\n</code></pre> <p>Memory Plane (Scope &amp; Retention):</p> <pre><code>{\n  \"memory\": {\n    \"vault_policies\": {\n      \"#dev\": { \"path\": \"/vault/dev\", \"retention\": 90 },\n      \"#secret\": { \"path\": \"/vault/secret\", \"retention\": 730, \"encrypted\": true }\n    }\n  }\n}\n</code></pre>"},{"location":"Governance-Policies-and-Config-Examples/#10-governance-checklist-deployment","title":"10. Governance Checklist (Deployment)","text":"<p>Before going live:</p> <p>Access Control: - [ ] Define teams and their allowed tools - [ ] Set per-user rate limits - [ ] Set team budgets - [ ] Publish channel naming convention</p> <p>Routing &amp; Cost: - [ ] Define tier assignments (A/B/C) by channel - [ ] Set provider fallback chain - [ ] Test multi-provider failover - [ ] Validate cost estimates</p> <p>Approval &amp; Escalation: - [ ] List high-risk tools requiring approval - [ ] Define escalation rules (confidence, cost) - [ ] Train approvers on response time - [ ] Test approval workflow end-to-end</p> <p>Audit &amp; Compliance: - [ ] Set log retention policy - [ ] Configure audit export - [ ] Set up weekly cost reports - [ ] Define compliance requirements</p> <p>Enforcement: - [ ] Test access denied scenario - [ ] Test approval workflow - [ ] Test escalation triggers - [ ] Monitor first week closely</p>"},{"location":"Governance-Policies-and-Config-Examples/#11-troubleshooting-governance-issues","title":"11. Troubleshooting Governance Issues","text":"Problem Symptom Solution User complains \"tool not allowed\" Tool blocked for user Check RBAC config; user in right team? Check channel policy Cost running over budget Monthly spend exceeds threshold Review routing rules; are low-priority tasks using high tiers? Approvals taking too long Users waiting for action Check approval timeout; add more approvers; use instant approval for low-risk Audit logs missing Cannot find historical actions Check log_level and retention; increase verbosity for critical tools Escalations not triggering Cases not bubbling to humans Verify escalation rules match actual thresholds; test with manual override"},{"location":"Governance-Policies-and-Config-Examples/#12-common-patterns-by-organization-type","title":"12. Common Patterns by Organization Type","text":""},{"location":"Governance-Policies-and-Config-Examples/#startup-lean-speed-focused","title":"Startup (Lean, Speed-Focused)","text":"<pre><code>{\n  \"teams\": [\"engineering\"],\n  \"policies\": \"minimal\",\n  \"approval\": \"self-approve\",\n  \"audit\": \"basic\",\n  \"budget\": \"flexible\"\n}\n</code></pre> <p>Philosophy: Move fast, minimal overhead.</p>"},{"location":"Governance-Policies-and-Config-Examples/#scale-up-multiple-teams","title":"Scale-Up (Multiple Teams)","text":"<pre><code>{\n  \"teams\": [\"engineering\", \"marketing\", \"operations\"],\n  \"policies\": \"channel-based\",\n  \"approval\": \"for high-risk + high-cost\",\n  \"audit\": \"weekly reports\",\n  \"budget\": \"per-team allocation\"\n}\n</code></pre> <p>Philosophy: Balance autonomy + accountability.</p>"},{"location":"Governance-Policies-and-Config-Examples/#enterprise-compliance-heavy","title":"Enterprise (Compliance-Heavy)","text":"<pre><code>{\n  \"teams\": [\"engineering\", \"marketing\", \"operations\", \"legal\", \"finance\"],\n  \"policies\": \"strict RBAC\",\n  \"approval\": \"required for all risky actions\",\n  \"audit\": \"verbose + compliance export\",\n  \"budget\": \"strict cost centers + chargeback\"\n}\n</code></pre> <p>Philosophy: Governance by default; audit everything.</p>"},{"location":"Governance-Policies-and-Config-Examples/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial governance policies and config examples"},{"location":"LLM-Provider-Setup-Guide/","title":"LLM Provider Setup Guide","text":"<p>Configure nanobot to use different AI models based on workflow type, cost, and capability requirements.</p>"},{"location":"LLM-Provider-Setup-Guide/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"LLM-Provider-Setup-Guide/#1-overview","title":"1. Overview","text":"<p>Nanobot supports 100+ LLM models via unified configuration. Choose your provider based on: - Cost - Qwen, DeepSeek cheaper; Opus more expensive but capable - Latency - Local faster; cloud slightly slower - Capability - Opus best for complex reasoning; Haiku fastest - Data residency - Local Ollama for sensitive data</p>"},{"location":"LLM-Provider-Setup-Guide/#2-supported-providers","title":"2. Supported Providers","text":"Provider Models Setup Difficulty Cost Latency OpenRouter (Recommended) 100+ (Claude, GPT, Qwen, etc.) \u2b50 Easy $1-5/M Medium Anthropic Direct Claude Opus, Sonnet, Haiku \u2b50 Easy $3-15/M Medium OpenAI Direct GPT-4, GPT-4o, GPT-3.5 \u2b50 Easy $5-30/M Fast Local (Ollama) Llama, Mistral, etc. \u2b50\u2b50 Moderate $0 Fast DeepSeek DeepSeek-Chat, Code \u2b50 Easy $0.14/M Medium Qwen (Alibaba) Qwen-Plus, -Turbo \u2b50 Easy $0.008/M Medium Gemini (Google) Gemini Pro, Ultra \u2b50 Easy $0.5-10/M Medium Cohere Command R, R+ \u2b50 Easy $0.5-3/M Medium"},{"location":"LLM-Provider-Setup-Guide/#3-quick-setup-5-minutes","title":"3. Quick Setup (5 minutes)","text":""},{"location":"LLM-Provider-Setup-Guide/#option-a-openrouter-all-in-one","title":"Option A: OpenRouter (All-in-One)","text":"<p>OpenRouter gives you access to 100+ models with one API key.</p> <p>Step 1: Get API Key - Visit https://openrouter.ai/keys - Sign up or log in - Copy your API key</p> <p>Step 2: Configure <pre><code>{\n  \"providers\": {\n    \"openrouter\": {\n      \"apiKey\": \"sk-or-v1-YOUR_KEY_HERE\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"anthropic/claude-opus-4-5\",\n      \"provider\": \"openrouter\"\n    }\n  }\n}\n</code></pre> Save to <code>~/.nanobot/config.json</code> (or set <code>OPENROUTER_API_KEY</code> env var)</p> <p>Step 3: Test <pre><code>nanobot agent\nask a question\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#option-b-local-ollama","title":"Option B: Local Ollama","text":"<p>Perfect for sensitive data, no API costs.</p> <p>Step 1: Install Ollama - Download from https://ollama.ai - Install on your machine</p> <p>Step 2: Pull a Model <pre><code>ollama pull mistral\n</code></pre></p> <p>Step 3: Configure nanobot <pre><code>{\n  \"providers\": {\n    \"ollama\": {\n      \"baseUrl\": \"http://localhost:11434\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"mistral\",\n      \"provider\": \"ollama\"\n    }\n  }\n}\n</code></pre></p> <p>Step 4: Start Ollama <pre><code>ollama serve\n</code></pre> (Keep this running in background)</p> <p>Step 5: Test <pre><code>nanobot agent\nask a question\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#option-c-direct-anthropic-claude","title":"Option C: Direct Anthropic (Claude)","text":"<p>Best if using Claude exclusively.</p> <p>Step 1: Get API Key - Visit https://console.anthropic.com - Create API key</p> <p>Step 2: Configure <pre><code>{\n  \"providers\": {\n    \"anthropic\": {\n      \"apiKey\": \"sk-ant-YOUR_KEY_HERE\"\n    }\n  },\n  \"agents\": {\n    \"defaults\": {\n      \"model\": \"claude-opus-4-5\",\n      \"provider\": \"anthropic\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#4-multi-provider-setup-cost-optimization","title":"4. Multi-Provider Setup (Cost Optimization)","text":"<p>Use different models for different workflows:</p> <pre><code>{\n  \"providers\": {\n    \"openrouter\": {\n      \"apiKey\": \"sk-or-v1-...\"\n    }\n  },\n  \"agents\": {\n    \"default\": {\n      \"model\": \"openai/gpt-4-turbo\",\n      \"provider\": \"openrouter\"\n    },\n    \"research\": {\n      \"model\": \"anthropic/claude-opus-4-5\",\n      \"provider\": \"openrouter\"\n    },\n    \"bookkeeping\": {\n      \"model\": \"qwen/qwen-plus\",\n      \"provider\": \"openrouter\"\n    },\n    \"fast-response\": {\n      \"model\": \"anthropic/claude-haiku\",\n      \"provider\": \"openrouter\"\n    }\n  }\n}\n</code></pre> <p>Then in Discord/Slack policy: Route <code>#bk-*</code> to bookkeeping agent, <code>#res-*</code> to research agent, etc.</p>"},{"location":"LLM-Provider-Setup-Guide/#5-token-budgeting-cost-control","title":"5. Token Budgeting &amp; Cost Control","text":"<p>Configure per-request and per-agent limits:</p> <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"maxInputTokens\": 8000,\n      \"maxOutputTokens\": 4096,\n      \"temperature\": 0.1,\n      \"maxIterations\": 40\n    },\n    \"research\": {\n      \"maxInputTokens\": 32000,\n      \"maxOutputTokens\": 8192,\n      \"temperature\": 0.3,\n      \"maxIterations\": 40\n    }\n  }\n}\n</code></pre>"},{"location":"LLM-Provider-Setup-Guide/#6-prompt-caching-cost-optimization","title":"6. Prompt Caching (Cost Optimization)","text":"<p>Anthropic Claude supports prompt caching. Enable to reduce costs on repeated queries:</p> <pre><code>{\n  \"providers\": {\n    \"anthropic\": {\n      \"apiKey\": \"sk-ant-...\",\n      \"cacheControl\": true\n    }\n  }\n}\n</code></pre> <p>This re-uses cached prompts for 5 minutes, reducing cost by ~10%.</p>"},{"location":"LLM-Provider-Setup-Guide/#7-environment-variable-override","title":"7. Environment Variable Override","text":"<p>Set a model for a single command: <pre><code>NANOBOT_MODEL=openai/gpt-4 nanobot agent\n</code></pre></p>"},{"location":"LLM-Provider-Setup-Guide/#8-web-search-api-brave","title":"8. Web Search API (Brave)","text":"<p>To enable web search, add Brave API key:</p> <pre><code>{\n  \"braveApiKey\": \"YOUR_BRAVE_API_KEY\"\n}\n</code></pre> <p>Get key from https://api.search.brave.com/</p>"},{"location":"LLM-Provider-Setup-Guide/#9-fallback-degraded-mode","title":"9. Fallback &amp; Degraded Mode","text":"<p>If primary provider fails, fall back to secondary:</p> <pre><code>{\n  \"agents\": {\n    \"defaults\": {\n      \"fallbackChain\": [\n        \"openrouter\",\n        \"anthropic\",\n        \"ollama\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Nanobot tries first provider, falls back to next on error.</p>"},{"location":"LLM-Provider-Setup-Guide/#10-testing-troubleshooting","title":"10. Testing &amp; Troubleshooting","text":"<p>Test provider connection: <pre><code>nanobot doctor\n</code></pre></p> <p>Expected output: <pre><code>Provider: openrouter \u2713 Connected\nModel: claude-opus-4-5 \u2713 Available\nTokens available: Yes \u2713\n</code></pre></p> Issue Check <code>401 Unauthorized</code> Verify API key format and validity <code>Model not found</code> Confirm model name is correct for provider <code>Rate limited</code> Wait or upgrade API plan <code>Timeout</code> Check network connection or try different model"},{"location":"LLM-Provider-Setup-Guide/#11-aos-integration","title":"11. AOS Integration","text":"<p>Map channels to cost-tier models:</p> <ul> <li><code>#bk-*</code> \u2192 Qwen (cheapest, bookkeeping is lower-risk)</li> <li><code>#prd-*-analytics</code> \u2192 Claude Haiku (fast, moderate cost)</li> <li><code>#prd-*-marketing</code> \u2192 Claude Opus (high quality, moderate cost)</li> <li><code>#res-*</code> \u2192 Claude Opus (complex synthesis)</li> <li><code>#res-* (escalated)</code> \u2192 Claude Opus (no cost cap)</li> </ul> <p>Implement this via LLM policy document governing which agent routes to which provider.</p>"},{"location":"LLM-Provider-Setup-Guide/#12-revision-history","title":"12. Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial guide covering 8 major providers, multi-provider setup, cost controls, and caching"},{"location":"Master-Index/","title":"Nanobot Agentic Operating System Master Index","text":"<p>Repository: HKUDS/nanobot For Nanobot Version: v0.1.4 and later Last Updated: February 25, 2026</p>"},{"location":"Master-Index/#1-purpose","title":"1. Purpose","text":"<p>This document is the control index for the Nanobot operational document set. It shows how multiple communication channels, LLM governance, and Obsidian memory work together as one coordinated system\u2014independent of which chat platform (Discord, Slack, Telegram, Feishu, etc.) operators use.</p>"},{"location":"Master-Index/#11-executive-summary-one-page","title":"1.1 Executive Summary (One-Page)","text":"<p>The Nanobot Agentic Operating System is a three-plane, channel-agnostic operating model: - Control Plane (Multi-Channel): workflow intake via Discord, Slack, Telegram, Feishu, or other platforms; approvals and operator visibility. - Policy Plane (LLM Governance): model routing (Claude, GPT, Qwen, Ollama, etc.), risk gates, budget controls, and cost optimization. - Memory Plane (Obsidian): durable records, audit trails, recovery evidence, and long-term knowledge indexing.</p> <p>Nanobot is the agent orchestration runtime: it receives messages from any integrated channel, routes them through policy constraints, executes tasks (shell commands, file operations, web research, API calls, MCP tools, scheduled jobs), manages memory, and returns results back to the operator's chosen platform.</p> <p>How it works in practice: 1. Operator sends request in a policy-approved channel (e.g., Discord #prd-widget-marketing, Slack #prd-widget-marketing, Telegram group, or any supported platform). 2. Nanobot receives the message via channel integration. 3. LLM policy routes to appropriate model class (Claude, GPT, local Ollama, etc.) with cost/security constraints. 4. Nanobot executes tasks: web search (Brave API), file read/write/edit, shell commands, GitHub automation, weather data, MCP tool calls, cron tasks, or spawns parallel subagents. 5. Results are logged with structured metadata (request_id, project_id, tokens, cost, timing). 6. Response is posted back to the requesting channel with citations, confidence notes, and references. 7. Structured artifacts are written to Obsidian for replay, audit, and recovery.</p>"},{"location":"Master-Index/#example-scenario-product-campaign-research-to-action-channel-independent","title":"Example Scenario: Product Campaign Research to Action (Channel-Independent)","text":"<ol> <li>Operator asks in Slack #prd-widget-marketing: \"Find 3 competitor campaigns this week and propose one test we can run.\"</li> <li>Nanobot receives message via Slack channel integration.</li> <li>Policy routes to model trained on current data (e.g., Claude Opus via OpenRouter).</li> <li>Nanobot invokes: web_search tool (Brave API) \u2192 retrieves competitor campaign data with cost/context controls.</li> <li>Web results \u2192 summarize skill \u2192 synthesizes findings with citations.</li> <li>Nanobot posts back to Slack with recommendation, source links, and confidence assessment.</li> <li>Nanobot writes structured artifact to Obsidian: request_id, project_id, sources, reasoning, next steps.</li> <li>Operator approves test \u2192 change logged in Obsidian for compliance/audit trail.</li> </ol>"},{"location":"Master-Index/#12-nanobot-core-capabilities","title":"1.2 Nanobot Core Capabilities","text":"<p>Nanobot ships with these built-in features:</p> <p>LLM Provider Routing: - OpenAI (GPT-4, etc.), Anthropic (Claude), Google Gemini, Cohere, Mistral, DeepSeek, Qwen, Moonshot, MiniMax, VolcEngine - Local inference via vLLM or Ollama - Custom provider support for proprietary models - Prompt caching (Anthropic) for cost optimization - Token budgeting and cost estimation</p> <p>Multi-Channel Integration: - Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix/Element, Mochat, CLI (local) - Channel-level access control and allowlists - Media/file support across platforms - Long message handling (Discord splitting, Slack threading, etc.)</p> <p>Tool System (What Nanobot Can Execute): - Web Search &amp; Fetch - Real-time search via Brave API, page retrieval - File Operations - Read, write, edit, list files (workspace-scoped) - Shell Commands - Execute system commands (operator-restricted) - Message/Notifications - Send alerts, escalations, cross-channel notifications - Scheduling (Cron) - Run tasks on recurring schedules - MCP (Model Context Protocol) - Integrate external tools/services (filesystem, web, databases, APIs) - Subagents - Spawn parallel agent instances for complex/delegated work - GitHub Automation - Search repos, create/update PRs, manage issues, trigger workflows - Custom Tools - Extend with user-defined tool implementations</p> <p>Pre-Built Skills: - Obsidian - Read/write vault entries, query knowledge base - Summarize - Content condensation with context preservation - Memory - Session management, conversation consolidation - Cron - Scheduled task definitions and execution - Weather - Weather data retrieval - Skill Creator - Auto-generate new skills from natural language - ClawHub - Search public skill marketplace and install skills - TMUX - Terminal multiplexer control for advanced automation</p> <p>Reliability &amp; Optimization: - Session continuity with automatic memory consolidation - Heartbeat system for connection health monitoring - Retry/fallback strategies with degraded mode - Tool-call validation and error handling - Structured logging for debugging and audit</p>"},{"location":"Master-Index/#13-cost-control-summary","title":"1.3 Cost Control Summary","text":"<p>Primary cost controls used by this AOS: - Tiered model routing (Class A/B/C) by workflow type and risk level. - Budget caps at request, workflow/channel, and project levels. - Escalation gates - Approval required for high-cost model classes or complexity triggers. - Context optimization - Memory summarization, prompt caching, and efficient retrieval to limit token burn. - Provider selection - Route to cheaper models (Qwen, DeepSeek) for routine tasks; reserve expensive models (Claude Opus) for complex work. - Fallback/degraded mode - Stop runaway retries and implement cost circuit-breakers. - Weekly KPI review - Track cost per successful workflow, escalation rate, and model utilization.</p>"},{"location":"Master-Index/#14-security-compliance-baseline","title":"1.4 Security &amp; Compliance Baseline","text":"<p>Primary security &amp; compliance protocols used by this AOS: - Channel isolation by project/workflow to prevent context bleed between teams. - Role-based access control - Operator, Reviewer, Owner roles with specific permissions. - Workspace binding - Agent sandbox respects workspace directory boundaries; no filesystem escape. - Allowlist enforcement - Only specified users/channels can invoke sensitive tools (shell, MCP, GitHub automation). - Audit trail - All requests logged with request_id, operator identity, timestamp, tool usage, and cost. - Monthly security audit - Run <code>nanobot security audit --deep</code> to validate config, allowlists, and tool constraints. - Trust boundaries - Split execution contexts when operators are mutually untrusted; separate sessions per user. - Secret management - API keys, tokens, MCP auth headers stored in <code>.env</code> files, never committed.</p>"},{"location":"Master-Index/#15-small-business-enterprise-support-examples","title":"1.5 Small Business &amp; Enterprise Support Examples","text":"<p>Example ways this AOS supports organizations: - Bookkeeping: Ingest expense receipts, reconcile transactions, categorize spending, publish month-end summaries to Obsidian\u2014 all with traceable request_id chains for audit. - Product Marketing: Run product-scoped Slack/Discord/Telegram channels, auto-generate content drafts, run competitor research, report KPI deltas with cost-controlled model routing. - Research &amp; Development: Capture source links, synthesize findings with citations, evolve ideas through staged approval gates (hypothesis \u2192 design \u2192 test \u2192 post-mortem), all archived in Obsidian. - Customer Support: Automate FAQ routing, search knowledge base, generate pre-approval responses, escalate complex cases to humans with full context. - Operations/DevOps: Automate GitHub workflow triggers, monitor system health via cron jobs, log incidents with evidence, execute runbooks via shell tools.</p>"},{"location":"Master-Index/#2-core-documents","title":"2. Core Documents","text":""},{"location":"Master-Index/#setup-installation","title":"Setup &amp; Installation","text":"<ul> <li>Nanobot Quick Install &amp; Setup \u2b50 Start here - Install nanobot, configure LLM provider, verify setup</li> <li>LLM Provider Setup Guide - Configure Claude, GPT, local Ollama, Qwen, and other models</li> <li>Multi-Channel Integration Guide - Set up Discord, Slack, Telegram, Feishu, or other platforms</li> </ul>"},{"location":"Master-Index/#operations-deployment","title":"Operations &amp; Deployment","text":"<ul> <li>Nanobot Build Procedure - Deploy to local or VPS (simple and advanced paths)</li> <li>AOS Startup Procedure - Bring system from power-down to fully operational</li> </ul>"},{"location":"Master-Index/#features-extensibility","title":"Features &amp; Extensibility","text":"<ul> <li>Tools &amp; Skills Reference - All built-in tools, pre-built skills, and how to create custom tools/skills</li> <li>Essential AOS Skills - Recommended pre-built skills for every deployment</li> </ul>"},{"location":"Master-Index/#workflows-examples","title":"Workflows &amp; Examples","text":"<ul> <li>Workflow Examples &amp; Recipes - Real-world workflows: knowledge consolidation, multi-channel posting, customer support bot, research agent, GitHub automation</li> <li>Cost Calculator &amp; Optimization Guide - Monthly cost estimation, provider routing for cost savings, budget caps and tracking</li> </ul>"},{"location":"Master-Index/#governance-policy","title":"Governance &amp; Policy","text":"<ul> <li>Governance Policies &amp; Config Examples - Role-based access control, channel allowlisting, approval workflows, escalation rules, audit logging, multi-team cost allocation</li> </ul>"},{"location":"Master-Index/#security-compliance","title":"Security &amp; Compliance","text":"<ul> <li>Nanobot Agentic Operating System Security Validation Runbook - Monthly security audit, hardening steps, incident response</li> </ul>"},{"location":"Master-Index/#3-interoperability-summary","title":"3. Interoperability Summary","text":""},{"location":"Master-Index/#31-system-handshake-channel-independent","title":"3.1 System Handshake (Channel-Independent)","text":"<ol> <li>Operator sends request in any integrated channel (Discord, Slack, Telegram, Feishu, etc.) using chat interface.</li> <li>Channel Integration receives message and forwards to Nanobot via message bus event (InboundMessage).</li> <li>Agent Loop receives event; builds context: conversation history, user permissions, LLM policy, available tools.</li> <li>LLM Routing applies policy: selects model (Claude, GPT, local Ollama, etc.), enforces cost/risk constraints, prepares context.</li> <li>Tool Execution loop (up to 40 iterations):</li> <li>LLM returns tool calls (web search, file read, shell command, MCP call, spawn subagent, etc.)</li> <li>Each tool executes; results logged with request_id, tokens, latency, cost</li> <li>Tool outputs returned to LLM for next iteration</li> <li>LLM returns final response or tool error handling</li> <li>Response Composition - Nanobot formats response with citations, confidence, metadata, next steps</li> <li>Memory Logging - Structured metadata written to Obsidian: request_id, project_id, workflow_domain, tokens, cost, tools used</li> <li>Channel Output - Response posted back to original channel (Discord, Slack, Telegram, etc.) with reference links</li> </ol>"},{"location":"Master-Index/#32-shared-control-principles","title":"3.2 Shared Control Principles","text":"<ul> <li>Channel agnostic - Governance works the same regardless of communication platform.</li> <li>Least privilege - Bot and user permissions restricted to required channels/tools; operator role gates sensitive actions.</li> <li>Context isolation - Separate sessions by user; channel family prevents cross-project data leakage.</li> <li>Structured logging - All requests logged with consistent metadata for tracing, cost accounting, and compliance.</li> <li>Model routing - Cost-optimal model selection per workflow type; expensive models (Opus) reserved for high-complexity work.</li> <li>Tool constraints - Workspace-scoped filesystem, allowlist-gated shell/MCP/GitHub tools, sensitive action approvals.</li> <li>Durable audit trail - Obsidian artifacts provide replay, recovery, and compliance evidence.</li> <li>Restore drills - Periodic validation that artifacts can be replayed and systems recovered.</li> </ul>"},{"location":"Master-Index/#33-security-baseline-cross-doc","title":"3.3 Security Baseline (Cross-Doc)","text":"<ul> <li>Configuration-driven access control - Allowlist of users/channels per tool in <code>config.json</code> or environment.</li> <li>Remote access - VPS-based agent uses SSH + Tailscale tunnel OR public cloud API auth (no direct public exposure).</li> <li>Session isolation - Each user gets independent session; no cross-user context bleed.</li> <li>Workspace binding - Agent sandbox respects workspace root; cannot escape to parent directories or system files.</li> <li>MCP security - Custom auth headers supported for external tool connections; credentials stored in secrets, not code.</li> <li>Tool opt-in - Tools disabled by default; operator explicitly enables (web search, shell, MCP, etc.) per deployment.</li> <li>Monthly audit - Run <code>nanobot security audit --deep</code> to validate allowlists, disabled tools, workspace constraints, and access logs.</li> <li>Incident response - Failed security checks automatically escalate; sensitive operations require explicit approval.</li> <li>Secret management - API keys, model credentials, MCP auth stored in <code>.env</code>, never committed to version control.</li> </ul>"},{"location":"Master-Index/#4-shared-data-contract-cross-doc","title":"4. Shared Data Contract (Cross-Doc)","text":"<p>Use these fields consistently across Discord logs, LLM telemetry, and Obsidian notes: - request_id - project_id - workflow_domain - owner or requester - status - timestamp_utc - model_class and model_name (when applicable) - input_tokens / output_tokens / estimated_cost (LLM executions) - reference (link to note/runbook/output)</p> <p>Plain-English Note: Using the same core fields across systems makes tracing and recovery much faster.</p>"},{"location":"Master-Index/#5-naming-and-path-standards","title":"5. Naming and Path Standards","text":""},{"location":"Master-Index/#51-multi-channel-naming-convention","title":"5.1 Multi-Channel Naming Convention","text":"<p>Use consistent naming across all integrated channels (Discord, Slack, Telegram, Feishu, etc.) for easy operator recognition: - Product channels: <code>prd-&lt;project_id&gt;-marketing</code>, <code>prd-&lt;project_id&gt;-sales</code>, <code>prd-&lt;project_id&gt;-analytics</code> - Bookkeeping channels: <code>bk-&lt;project_id&gt;-inbox</code>, <code>bk-&lt;project_id&gt;-reconcile</code>, <code>bk-&lt;project_id&gt;-reporting</code> - Research channels: <code>res-&lt;project_id&gt;-inbox</code>, <code>res-&lt;topic&gt;</code>, <code>res-syntheses</code> - Control/Admin channels: <code>ctl-nanobot-commands</code>, <code>ctl-nanobot-alerts</code>, <code>ctl-nanobot-audit</code></p> <p>Note: Exact channel naming syntax varies by platform (Discord uses <code>#</code>, Slack uses <code>#</code>, Telegram uses group names, Feishu uses channel topics, etc.), but adopt this semantic naming across all platforms.</p>"},{"location":"Master-Index/#52-obsidian-vault-structure-v1","title":"5.2 Obsidian Vault Structure (v1)","text":"<ul> <li>02-Ideas// - Proposals, hypotheses, early-stage concepts <li>08-Research/// - Research artifacts, syntheses, cited sources <li>07-Operations/Change-Records// - Approved changes, executions, outcomes <li>07-Operations/Recovery-Drills/ - Drill evidence, restoration success logs</li> <li>00-System/AOS-Journal/ - Daily operational journaling (if journaler skill is enabled)</li> <li>00-System/Audit-Logs/ - Monthly security audit results and remediation</li>"},{"location":"Master-Index/#53-web-research-tier-mapping-channel-model-class","title":"5.3 Web Research Tier Mapping (Channel \u2192 Model Class)","text":"<p>When enabling web search (Brave API), use these tier guidelines to balance cost and depth:</p> Channel Family Research Depth Cost Tier Model Tier Notes <code>#bk-*</code> Metadata only R1 A Snippet-level financial data, no full-page retrieval <code>#prd-*-analytics</code> Bounded data R1 A Industry metrics, light competitive analysis <code>#prd-*-marketing</code> Full-page R2 B Content research, campaign analysis, limited depth <code>#res-*</code> Deep research R2 B Multi-source synthesis, citations required <code>#res-* (escalated)</code> Exhaustive R3 C Comprehensive analysis; requires Owner approval <code>#ctl-*</code> Policy-limited Restricted A only Control channel; internet access optional <p>Plain-English Note: R1 = cheap/shallow, R2 = moderate cost/depth, R3 = expensive/comprehensive. Model tier (A/B/C) controls which LLM is used; escalate to higher-cost models only for complex work.</p>"},{"location":"Master-Index/#6-raci-snapshot-who-owns-what","title":"6. RACI Snapshot (Who Owns What)","text":"Area Owner Operator Reviewer Discord channel policy Owner Operator Reviewer LLM routing and budgets Owner Operator Reviewer Obsidian metadata and retention Owner Operator Reviewer Incident response execution Owner Operator Reviewer Recovery drill governance Owner Operator Reviewer"},{"location":"Master-Index/#7-review-cadence","title":"7. Review Cadence","text":"<ul> <li>Daily: alerts, budget anomalies, failed runs.</li> <li>Weekly: KPI and cost review, blocked workflow review.</li> <li>Monthly: restore drill and policy adjustments.</li> <li>Quarterly: channel cleanup, model portfolio review, disaster drill.</li> </ul>"},{"location":"Master-Index/#8-change-management-flow","title":"8. Change Management Flow","text":"<ol> <li>Propose change in Discord change-review channel.</li> <li>Assess risk, cost impact, and rollback plan.</li> <li>Update affected docs (Discord/LLM/Obsidian/Procedure).</li> <li>Execute controlled test.</li> <li>Approve and promote to active.</li> <li>Log outcome and references in Obsidian change records.</li> </ol>"},{"location":"Master-Index/#9-interoperability-health-checklist","title":"9. Interoperability Health Checklist","text":"<ul> <li> Channel naming follows the project_id pattern.</li> <li> Each active channel family maps to an Obsidian path.</li> <li> Each workflow domain maps to a default LLM class.</li> <li> Escalation and fallback are configured and tested.</li> <li> Required shared metadata fields appear in logs/notes.</li> <li> Monthly restore drill completed with evidence.</li> <li> Gateway loopback and remote-access hardening are validated.</li> <li> DM pairing policy and allowlists are active and tested.</li> <li> Trust-boundary and sandbox policies are validated for shared channels.</li> <li> Monthly security audit findings are logged and remediated.</li> </ul>"},{"location":"Master-Index/#10-current-status-notes","title":"10. Current Status Notes","text":"<ul> <li>Document orchestration links exist across Discord, LLM, and Obsidian guides.</li> <li>Discord and Obsidian path placeholders have been aligned to project_id and vault v1 structure.</li> <li>Remaining work is execution readiness (creating starter MOCs/notes and running first drill).</li> </ul>"},{"location":"Master-Index/#11-revision-history","title":"11. Revision History","text":"Date Version Change 2026-02-25 2.0.0 Major update: Made AOS system channel-agnostic (Discord/Slack/Telegram/Feishu/etc.); documented all actual nanobot capabilities (LLM routing, tools, skills, MCP, web search, subagents, cron); updated Core Documents section with new guides; expanded security baseline to cover all deployment scenarios; clarified 3-plane governance model applies to any channel 2026-02-24 1.1.10 Added Discord Messaging Setup Guide to core docs for onboarding field collection and allowlist formatting 2026-02-24 1.1.9 Added Nanobot Onboarding Guide link for manual-mode local-gateway onboarding standard 2026-02-23 1.1.8 Added AOS Project Startup Guide for standardized new-project onboarding 2026-02-23 1.1.7 Renamed document title to \"Nanobot Agentic Operating System Master Index\" for project-name consistency 2026-02-23 1.1.6 Added explicit Nanobot orchestration-runtime role statement to Executive Summary 2026-02-23 1.1.5 Added concrete \"How it works in practice\" scenario for product campaign research-to-action flow 2026-02-23 1.1.4 Added executive summary with operating model, cost controls, security protocol overview, and small-business support examples 2026-02-23 1.1.3 Added compact R1/R2/R3 internet research tier mapping table for operator quick reference 2026-02-23 1.1.2 Added Master Index reference to LLM Internet Research Policy controls 2026-02-23 1.1.1 Added Security Validation Runbook to core document set 2026-02-23 1.1.0 Security Hardening v1: added cross-doc security baseline and enforcement checklist items 2026-02-23 1.0.0 Initial master index: interoperability map, shared contract, standards, and review cadence"},{"location":"Multi-Channel-Integration-Guide/","title":"Multi-Channel Integration Guide","text":"<p>Connect nanobot to Discord, Slack, Telegram, Feishu, or other chat platforms.</p>"},{"location":"Multi-Channel-Integration-Guide/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Multi-Channel-Integration-Guide/#1-overview","title":"1. Overview","text":"<p>Nanobot works across 12+ chat platforms with unified governance. Same policy, security model, and memory apply regardless of which channel operators use.</p> <p>Supported Channels: Discord, Slack, Telegram, Feishu, DingTalk, WhatsApp, Email, QQ, Matrix/Element, Mochat</p>"},{"location":"Multi-Channel-Integration-Guide/#2-discord-setup-5-minutes","title":"2. Discord Setup (5 minutes)","text":""},{"location":"Multi-Channel-Integration-Guide/#step-1-create-bot-in-developer-portal","title":"Step 1: Create Bot in Developer Portal","text":"<ol> <li>Visit https://discord.com/developers/applications</li> <li>Click New Application</li> <li>Name: <code>My Nanobot</code> (or your preference)</li> <li>Go to Bot tab \u2192 Add Bot</li> <li>Copy bot TOKEN (keep secret!)</li> </ol>"},{"location":"Multi-Channel-Integration-Guide/#step-2-configure-bot-settings","title":"Step  2: Configure Bot Settings","text":"<p>In Discord Developer Portal, under Bot: - Toggle Message Content Intent ON (required for reading messages) - Permissions: <code>Send Messages</code>, <code>Read Message History</code> (minimal) - Intents: <code>Message Content</code>, <code>Direct Messages</code></p>"},{"location":"Multi-Channel-Integration-Guide/#step-3-invite-bot-to-server","title":"Step 3: Invite Bot to Server","text":"<ol> <li>Go to OAuth2 \u2192 URL Generator</li> <li>Select Scopes: <code>bot</code></li> <li>Select Permissions: <code>Send Messages</code>, <code>Read Message History</code></li> <li>Copy generated URL</li> <li>Open URL, select your Discord server, authorize</li> </ol>"},{"location":"Multi-Channel-Integration-Guide/#step-4-configure-nanobot","title":"Step 4: Configure nanobot","text":"<p>Add to <code>~/.nanobot/config.json</code>: <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"token\": \"YOUR_BOT_TOKEN\",\n      \"allowFrom\": [\"YOUR_USER_ID_HERE\"]\n    }\n  }\n}\n</code></pre></p> <p>Get your Discord User ID: In Discord, enable Developer Mode (Settings \u2192 Advanced), right-click your name, Copy User ID.</p>"},{"location":"Multi-Channel-Integration-Guide/#step-5-run-nanobot","title":"Step 5: Run nanobot","text":"<pre><code>nanobot gateway\n</code></pre> <p>Should show: <code>Discord: Connected</code></p>"},{"location":"Multi-Channel-Integration-Guide/#step-6-test","title":"Step 6: Test","text":"<p>Type in any channel the bot is in: <code>@MyNanobot hello</code></p> <p>Bot should respond.</p>"},{"location":"Multi-Channel-Integration-Guide/#3-slack-setup-5-minutes","title":"3. Slack Setup (5 minutes)","text":""},{"location":"Multi-Channel-Integration-Guide/#step-1-create-app","title":"Step 1: Create App","text":"<ol> <li>Visit https://api.slack.com/apps</li> <li>Create New App \u2192 From scratch</li> <li>App Name: <code>Nanobot</code></li> <li>Pick your workspace</li> </ol>"},{"location":"Multi-Channel-Integration-Guide/#step-2-configure-permissions","title":"Step 2: Configure Permissions","text":"<p>In OAuth &amp; Permissions: - Scopes:   - <code>chat:write</code> (send messages)   - <code>channels:read</code> (read channel list)   - <code>users:read</code> (read user info)   - <code>files:read</code> (read files)</p>"},{"location":"Multi-Channel-Integration-Guide/#step-3-install-app","title":"Step 3: Install App","text":"<p>Click Install to Workspace \u2192 Authorize</p> <p>Copy Bot User OAuth Token (starts with <code>xoxb-</code>)</p>"},{"location":"Multi-Channel-Integration-Guide/#step-4-configure-nanobot_1","title":"Step 4: Configure nanobot","text":"<pre><code>{\n  \"channels\": {\n    \"slack\": {\n      \"enabled\": true,\n      \"botToken\": \"xoxb-YOUR_TOKEN\",\n      \"appToken\": \"xapp-YOUR_APP_TOKEN\",\n      \"allowFrom\": []\n    }\n  }\n}\n</code></pre> <p>Get App Token: App Level Tokens tab, create token with <code>connections:write</code> scope.</p>"},{"location":"Multi-Channel-Integration-Guide/#step-5-run-test","title":"Step 5: Run &amp; Test","text":"<pre><code>nanobot gateway\n</code></pre> <p>In a Slack channel, mention the bot: <code>@Nanobot hello</code></p>"},{"location":"Multi-Channel-Integration-Guide/#4-telegram-setup-5-minutes","title":"4. Telegram Setup (5 minutes)","text":""},{"location":"Multi-Channel-Integration-Guide/#step-1-create-bot","title":"Step 1: Create Bot","text":"<ol> <li>Open Telegram, search <code>@BotFather</code></li> <li>Send <code>/newbot</code></li> <li>Follow prompts, get TOKEN</li> </ol>"},{"location":"Multi-Channel-Integration-Guide/#step-2-configure-nanobot","title":"Step 2: Configure nanobot","text":"<pre><code>{\n  \"channels\": {\n    \"telegram\": {\n      \"enabled\": true,\n      \"token\": \"YOUR_BOT_TOKEN\",\n      \"allowFrom\": [\"YOUR_USER_ID\"]\n    }\n  }\n}\n</code></pre> <p>Get your Telegram User ID: Search <code>@userinfobot</code>, send <code>/start</code>, note your ID.</p>"},{"location":"Multi-Channel-Integration-Guide/#step-3-run-test","title":"Step 3: Run &amp; Test","text":"<pre><code>nanobot gateway\n</code></pre> <p>Message your bot on Telegram.</p>"},{"location":"Multi-Channel-Integration-Guide/#5-feishu-setup-5-minutes","title":"5. Feishu Setup (5 minutes)","text":"<p>Feishu (\u98de\u4e66) is popular in China. Uses WebSocket\u2014no public IP needed!</p>"},{"location":"Multi-Channel-Integration-Guide/#step-1-create-bot-app","title":"Step 1: Create Bot App","text":"<ol> <li>Visit https://open.feishu.cn/app</li> <li>Create App \u2192 Bot</li> <li>Get App ID and App Secret</li> </ol>"},{"location":"Multi-Channel-Integration-Guide/#step-2-configure-permissions_1","title":"Step 2: Configure Permissions","text":"<ul> <li>Permissions: <code>im:message</code> (send/receive messages)</li> <li>Events: <code>im.message.receive_v1</code> (Long Connection mode recommended)</li> </ul>"},{"location":"Multi-Channel-Integration-Guide/#step-3-configure-nanobot","title":"Step 3: Configure nanobot","text":"<pre><code>{\n  \"channels\": {\n    \"feishu\": {\n      \"enabled\": true,\n      \"appId\": \"cli_...\",\n      \"appSecret\": \"...\",\n      \"allowFrom\": []\n    }\n  }\n}\n</code></pre>"},{"location":"Multi-Channel-Integration-Guide/#step-4-run","title":"Step 4: Run","text":"<pre><code>nanobot gateway\n</code></pre> <p>Long Connection mode: Bot establishes WebSocket to Feishu, receives events immediately. No webhook/port forwarding needed!</p>"},{"location":"Multi-Channel-Integration-Guide/#6-multi-channel-aos-configuration","title":"6. Multi-Channel AOS Configuration","text":"<p>Enable multiple channels simultaneously with unified allowlist:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"token\": \"...\",\n      \"allowFrom\": [\"YOUR_DISCORD_ID\"]\n    },\n    \"slack\": {\n      \"enabled\": true,\n      \"botToken\": \"...\",\n      \"allowFrom\": []\n    },\n    \"telegram\": {\n      \"enabled\": true,\n      \"token\": \"...\",\n      \"allowFrom\": [\"YOUR_TELEGRAM_ID\"]\n    }\n  }\n}\n</code></pre> <p>Same sessions, memory, and tools work across all channels!</p>"},{"location":"Multi-Channel-Integration-Guide/#7-channel-level-access-control","title":"7. Channel-Level Access Control","text":"<p>Restrict certain channels to sensitive tools:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"allowed_tools\": {\n        \"#ctl-nanobot-commands\": [\"shell\", \"mcp\", \"github\"],\n        \"#prd-*\": [\"web\", \"file\", \"message\"],\n        \"#bk-*\": [\"file\", \"message\"],\n        \"default\": [\"web\", \"file\", \"message\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"Multi-Channel-Integration-Guide/#8-multi-channel-naming-convention","title":"8. Multi-Channel Naming Convention","text":"<p>For consistency across platforms, use same channel naming:</p> Workspace Domain Discord Slack Telegram Feishu Product <code>#prd-widget-marketing</code> <code>#prd-widget-marketing</code> <code>Prd Widget Marketing</code> Product \u2192 Widget Marketing Bookkeeping <code>#bk-proj-reconcile</code> <code>#bk-proj-reconcile</code> <code>Bk Proj Reconcile</code> Bookkeeping \u2192 Proj Reconcile Research <code>#res-ai-synthesis</code> <code>#res-ai-synthesis</code> <code>Res AI Synthesis</code> Research \u2192 AI Synthesis <p>Operators recognize the same workflow context across platforms.</p>"},{"location":"Multi-Channel-Integration-Guide/#9-testing-channel-connectivity","title":"9. Testing Channel Connectivity","text":"<pre><code>nanobot doctor\n</code></pre> <p>Output shows which channels are connected: <pre><code>Discord: Connected \u2713\nSlack: Connected \u2713\nTelegram: Connected \u2713\nFeishu: Connected \u2713\n</code></pre></p>"},{"location":"Multi-Channel-Integration-Guide/#10-troubleshooting","title":"10. Troubleshooting","text":"Symptom Fix Bot offline in one channel Check token/credentials and re-authenticate Bot doesn't respond to mentions Verify Message Content Intent (Discord) or permissions (Slack) Rate limited in Slack Upgrade Slack plan or reduce message frequency Feishu not receiving messages Check Long Connection mode is enabled in Feishu app settings"},{"location":"Multi-Channel-Integration-Guide/#11-security-best-practices","title":"11. Security Best Practices","text":"<ul> <li>Never commit tokens to version control; use <code>.env</code> files</li> <li>Rotate tokens periodically (quarterly minimum)</li> <li>Use allowlists to restrict who can invoke commands</li> <li>Log all interactions via Obsidian for audit</li> <li>Monitor rate limits to catch abuse early</li> </ul>"},{"location":"Multi-Channel-Integration-Guide/#12-revision-history","title":"12. Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial guide covering Discord, Slack, Telegram, Feishu; multi-channel setup; AOS naming conventions"},{"location":"Nanobot-Build-Procedure/","title":"Nanobot Build Procedure","text":"<p>Build and configure nanobot for deployment. For simple quick-start in 5 minutes, see Nanobot Quick Install &amp; Setup.</p>"},{"location":"Nanobot-Build-Procedure/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 2.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Nanobot-Build-Procedure/#overview","title":"Overview","text":"<p>Two deployment scenarios:</p> <ol> <li>Simple Build (5 min) - Local pip install + cloud LLM (easiest)</li> <li>Advanced Build (30 min) - VPS infrastructure + local Ollama inference</li> </ol> <p>This document covers nanobot build/config steps. For VPS infrastructure (Tailscale, firewall, SSH keys), see your VPS provider's setup guide.</p>"},{"location":"Nanobot-Build-Procedure/#path-a-simple-build-local-cloud-llm","title":"Path A: Simple Build (Local + Cloud LLM)","text":"<p>For: Personal/team use with OpenRouter, Anthropic, OpenAI, or compatible cloud provider. Prerequisites: Python \u22653.11, pip, internet connection Time: 5 minutes</p>"},{"location":"Nanobot-Build-Procedure/#step-1-install-nanobot","title":"Step 1: Install nanobot","text":"<pre><code>pip install nanobot-ai\n</code></pre> <p>Verifies: <pre><code>nanobot version\n# Output: nanobot v0.1.4+ (or higher)\n\nnanobot health\n# Output: Checking installation...\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#step-2-initialize-config","title":"Step 2: Initialize Config","text":"<pre><code>nanobot init\n</code></pre> <p>Interactive prompt will ask: - LLM provider? \u2192 Choose cloud provider (openrouter, anthropic, openai, qwen, deepseek) - API key? \u2192 Paste from provider dashboard - Discord token? \u2192 (or Slack, Telegram\u2014choose your channel) - Default channel? \u2192 e.g., #general or DM - Obsidian vault path? \u2192 (optional; press Enter to skip)</p> <p>Config saved to: - Linux/Mac: <code>~/.nanobot/config.json</code> - Windows: <code>%APPDATA%\\nanobot\\config.json</code></p>"},{"location":"Nanobot-Build-Procedure/#step-3-test-installation","title":"Step 3: Test Installation","text":"<pre><code>nanobot test\n</code></pre> <p>Should start interactive test mode: <pre><code>Nanobot Test Mode (type 'exit' to quit)\nLoading config: \u2713\nStarting LLM provider: openrouter \u2713\nConnected to: Discord \u2713\n\nnanobot&gt; hello\n[LLM response]\n\nnanobot&gt; web_search: python async patterns\n[web search results]\n\nnanobot&gt; exit\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#validation-gate-a","title":"Validation Gate A","text":"<ul> <li>\u2713 <code>nanobot version</code> returns v0.1.4+</li> <li>\u2713 <code>nanobot init</code> completes without errors</li> <li>\u2713 Config file exists and is valid JSON</li> <li>\u2713 <code>nanobot test</code> returns responses from LLM</li> <li>\u2713 Web search, tool execution work in test mode</li> </ul>"},{"location":"Nanobot-Build-Procedure/#deployment-simple-build","title":"Deployment: Simple Build","text":"<p>Once validated, start the gateway:</p> <pre><code>nanobot gateway\n</code></pre> <p>Nanobot will now listen to Discord, Slack, or other configured channels and respond to messages.</p> <p>To run in background (Linux/Mac): <pre><code>nanobot gateway &amp;\n# Or use systemd (see Advanced Build)\n</code></pre></p> <p>To run in background (Windows): Use Task Scheduler or Windows Service installer: <pre><code>nanobot install-service\n# Then: Net Start Nanobot\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#path-b-advanced-build-vps-local-ollama","title":"Path B: Advanced Build (VPS + Local Ollama)","text":"<p>For: Self-hosted inference, privacy-critical workflows, cost optimization with local models. Architecture: VPS (gateway + routing) \u2194\ufe0f Local machine (Ollama inference) via Tailscale-encrypted tunnel Time: ~30 minutes for build; ~15 minutes for startup Prerequisites: VPS access, local machine with Ollama, Tailscale account</p>"},{"location":"Nanobot-Build-Procedure/#prerequisites-checklist","title":"Prerequisites Checklist","text":"<ul> <li> VPS deployed (Ubuntu 22.04+ recommended)</li> <li> SSH access to VPS</li> <li> Local machine with Ollama installed (Windows/Mac/Linux)</li> <li> Tailscale account (free tier OK)</li> <li> Discord/Slack token ready</li> <li> API keys for fallback provider (OpenRouter recommended)</li> </ul>"},{"location":"Nanobot-Build-Procedure/#phase-a-vps-preparation-15-min","title":"Phase A: VPS Preparation (15 min)","text":""},{"location":"Nanobot-Build-Procedure/#step-1-connect-to-vps","title":"Step 1: Connect to VPS","text":"<pre><code>ssh your-vps-user@your-vps-ip\n# Or configure SSH key for passwordless access\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-2-system-updates","title":"Step 2: System Updates","text":"<pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\nsudo apt install -y python3.11 python3.11-venv python3-pip build-essential\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-3-install-tailscale","title":"Step 3: Install Tailscale","text":"<pre><code>curl -fsSL https://tailscale.com/install.sh | sh\nsudo tailscale up\n# Will print auth URL; open in browser; authenticate\n</code></pre> <p>After auth, note your VPS Tailscale IP (e.g., <code>100.87.123.45</code>). Print it: <pre><code>tailscale ip -4\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#step-4-create-nanobot-user-optional-but-recommended","title":"Step 4: Create nanobot User (Optional but Recommended)","text":"<pre><code>sudo useradd -m -s /bin/bash nanobot\nsudo su - nanobot\n# Now running as nanobot user for isolation\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#validation-vps-ready","title":"Validation: VPS Ready","text":"<ul> <li>\u2713 SSH access works</li> <li>\u2713 Python 3.11+ installed</li> <li>\u2713 Tailscale running and connected</li> <li>\u2713 Nanobot user created (optional)</li> </ul>"},{"location":"Nanobot-Build-Procedure/#phase-b-local-ollama-configuration-10-min","title":"Phase B: Local Ollama Configuration (10 min)","text":"<p>On your local machine (where Ollama will run):</p>"},{"location":"Nanobot-Build-Procedure/#step-1-install-ollama","title":"Step 1: Install Ollama","text":"<p>Download from: https://ollama.ai</p>"},{"location":"Nanobot-Build-Procedure/#step-2-set-ollama-listen-address","title":"Step 2: Set Ollama Listen Address","text":"<p>Allow remote connections via Tailscale. Edit Ollama systemd unit or set environment:</p> <p>Linux/Mac: <pre><code>export OLLAMA_HOST=0.0.0.0:11434\nollama serve\n</code></pre></p> <p>Windows: <pre><code>setx OLLAMA_HOST 0.0.0.0:11434\n# Restart Ollama from system tray\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#step-3-connect-tailscale-locally","title":"Step 3: Connect Tailscale Locally","text":"<pre><code>tailscale up\n# Note your local Tailscale IP (e.g., 100.123.45.67)\ntailscale ip -4\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-4-install-model","title":"Step 4: Install Model","text":"<pre><code>ollama pull qwen2:latest\n# Or: ollama pull llama2, mistral, neural-chat, etc.\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-5-test-local-ollama","title":"Step 5: Test Local Ollama","text":"<pre><code>curl http://localhost:11434/api/tags\n# Should return JSON with model list\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#validation-ollama-ready","title":"Validation: Ollama Ready","text":"<ul> <li>\u2713 Ollama running</li> <li>\u2713 Tailscale connected locally</li> <li>\u2713 Model downloaded</li> <li>\u2713 Local curl responds with model list</li> </ul>"},{"location":"Nanobot-Build-Procedure/#phase-c-tailscale-tunnel-validation-5-min","title":"Phase C: Tailscale Tunnel Validation (5 min)","text":"<p>From VPS, test reaching local Ollama through Tailscale:</p> <pre><code># SSH into VPS\nssh your-vps-user@your-vps-ip\n\n# Test connectivity (replace 100.123.45.67 with your local Tailscale IP)\ncurl http://100.123.45.67:11434/api/tags\n# Should return JSON model list\n</code></pre> <p>If failed: - Verify Ollama listening on <code>0.0.0.0:11434</code> (not just <code>localhost</code>) - Check local firewall allows port 11434 - Verify both machines on same Tailscale network - Restart Tailscale on both sides</p>"},{"location":"Nanobot-Build-Procedure/#validation-tunnel-ready","title":"Validation: Tunnel Ready","text":"<ul> <li>\u2713 VPS can curl to local Ollama endpoint</li> <li>\u2713 Response includes model names</li> </ul>"},{"location":"Nanobot-Build-Procedure/#phase-d-nanobot-installation-vps","title":"Phase D: Nanobot Installation (VPS)","text":"<p>On VPS:</p>"},{"location":"Nanobot-Build-Procedure/#step-1-install-nanobot_1","title":"Step 1: Install nanobot","text":"<pre><code>pip install nanobot-ai\nnanobot version\n# Should print: nanobot v0.1.4+\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-2-create-config-file","title":"Step 2: Create Config File","text":"<pre><code># Create config directory\nmkdir -p ~/.nanobot\nnano ~/.nanobot/config.json\n</code></pre> <p>Minimal config for ollama + discord: <pre><code>{\n  \"llm\": {\n    \"provider\": \"ollama\",\n    \"model\": \"qwen2:latest\",\n    \"endpoint\": \"http://100.123.45.67:11434\",\n    \"fallback_provider\": \"openrouter\",\n    \"fallback_key\": \"sk-or-xxxxx\"\n  },\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"token\": \"your-discord-bot-token\"\n    }\n  },\n  \"skills\": {\n    \"obsidian\": {\n      \"enabled\": true,\n      \"vault_path\": \"/path/to/obsidian/vault\"\n    }\n  }\n}\n</code></pre></p> <p>Key values: - <code>endpoint</code>: Use local Tailscale IP (e.g., <code>http://100.123.45.67:11434</code>) - <code>discord.token</code>: Get from Discord Developer Portal - <code>vault_path</code>: Absolute path to Obsidian vault (if applicable) - <code>fallback_key</code>: OpenRouter API key for fallback when Ollama down</p>"},{"location":"Nanobot-Build-Procedure/#step-3-test-configuration","title":"Step 3: Test Configuration","text":"<pre><code>nanobot health\n# Output should show: ollama \u2713 connected, discord \u2713 ready\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#validation-nanobot-config-valid","title":"Validation: Nanobot Config Valid","text":"<ul> <li>\u2713 Config file parses (valid JSON)</li> <li>\u2713 <code>nanobot health</code> shows all components connected</li> <li>\u2713 Ollama endpoint reachable from VPS</li> </ul>"},{"location":"Nanobot-Build-Procedure/#phase-e-systemd-service-optional-but-recommended","title":"Phase E: Systemd Service (Optional but Recommended)","text":"<p>To auto-start nanobot on VPS reboot:</p>"},{"location":"Nanobot-Build-Procedure/#step-1-create-service-file","title":"Step 1: Create Service File","text":"<pre><code>sudo nano /etc/systemd/system/nanobot.service\n</code></pre> <p>Paste: <pre><code>[Unit]\nDescription=Nanobot Agentic Operating System\nAfter=network.target\n\n[Service]\nType=simple\nUser=nanobot\nWorkingDirectory=/home/nanobot\nExecStart=/usr/bin/python3 -m nanobot.gateway\nRestart=on-failure\nRestartSec=10\nEnvironment=\"PATH=/home/nanobot/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin\"\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p>"},{"location":"Nanobot-Build-Procedure/#step-2-enable-start","title":"Step 2: Enable &amp; Start","text":"<pre><code>sudo systemctl daemon-reload\nsudo systemctl enable nanobot\nsudo systemctl start nanobot\nsudo systemctl status nanobot\n# Should show: active (running)\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#step-3-view-logs","title":"Step 3: View Logs","text":"<pre><code>sudo journalctl -u nanobot -f\n# Ctrl+C to exit\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#phase-f-startup-validation-full-end-to-end-test","title":"Phase F: Startup Validation (Full End-to-End Test)","text":"<p>Follow AOS Startup Procedure (Path B section) for detailed startup testing.</p> <p>Quick version: 1. Local machine: Start Ollama (<code>ollama serve</code>) 2. VPS: Start nanobot (<code>nanobot gateway</code> or <code>systemctl start nanobot</code>) 3. Discord: Send test message <code>@BotName hello</code> 4. Expected: Response from local Ollama model (via Tailscale tunnel)</p>"},{"location":"Nanobot-Build-Procedure/#cost-performance-reference","title":"Cost &amp; Performance Reference","text":"Component Resource Cost Performance Notes Local Inference (Ollama) 1x GPU/CPU Latency 2-10s Fine for async workflows; not real-time chat Cloud LLM (OpenRouter) $0.001-0.01 per msg Latency &lt;1s Fast; pay per request; good for hybrid VPS (minimal) $5-20/month Constant Tailscale ingress is free; only covers VPS uptime Total (Advanced) VPS + Cloud fallback Best UX Ollama primary; cloud as fallback if local down"},{"location":"Nanobot-Build-Procedure/#post-build-verification-checklist","title":"Post-Build Verification Checklist","text":"<p>After build completion:</p> <ul> <li> <code>nanobot version</code> returns v0.1.4+</li> <li> Config file exists at expected location</li> <li> <code>nanobot health</code> all components green</li> <li> Test message in Discord/Slack gets response</li> <li> Tool execution works (web_search, file operations)</li> <li> Obsidian write-back functional (if enabled)</li> <li> Systemd service auto-restarts on crash (advanced only)</li> <li> Cost tracking working (tokens logged, cost estimated)</li> </ul>"},{"location":"Nanobot-Build-Procedure/#troubleshooting-build-issues","title":"Troubleshooting Build Issues","text":"Problem Symptom Solution Python version mismatch <code>Error: nanobot-ai requires Python \u22653.11</code> <code>python3 --version</code>; upgrade Python; use <code>python3.11</code> explicitly Config parsing error <code>Config validation failed: ...</code> Use JSON validator (jsonlint); check quote marks and commas Ollama unreachable <code>Ollama connection refused</code> Verify Ollama running; check endpoint URL; verify Tailscale tunnel Discord token invalid <code>Discord authentication failed</code> Re-generate token in Developer Portal; verify it's bot token, not user token Dependency conflict <code>pip install nanobot-ai</code> fails Clean environment: <code>pip install --upgrade pip setuptools wheel</code> then retry"},{"location":"Nanobot-Build-Procedure/#build-paths-decision-tree","title":"Build Paths Decision Tree","text":"<pre><code>Are you okay with API costs (OpenRouter/Anthropic/OpenAI)?\n\u251c\u2500 YES \u2192 Use Simple Build (Path A)\n\u2502        5 minutes to deployment\n\u2502        Cost: $0.01-0.10 per conversation\n\u2502        Easiest for teams\n\u2502\n\u2514\u2500 NO \u2192 Are you willing to manage VPS + Ollama?\n         \u251c\u2500 YES \u2192 Use Advanced Build (Path B)\n         \u2502        30 minutes setup\n         \u2502        Cost: $5-20/month VPS + cloud fallback\n         \u2502        Best for privacy/control\n         \u2502\n         \u2514\u2500 NO \u2192 Use Simple Build anyway\n                  OpenRouter is cheapest cloud option\n                  Fallback to free Ollama if costs high\n</code></pre>"},{"location":"Nanobot-Build-Procedure/#revision-history","title":"Revision History","text":"Date Version Changes 2026-02-25 2.0.0 Complete rewrite: Split simple (Path A: pip install) vs. advanced (Path B: VPS+Ollama); removed npm/pnpm references; added systemd examples; added Tailscale tunnel validation; reduced from 796 to ~400 lines Previous 1.1.0 Monolithic VPS-focused build procedure"},{"location":"Nanobot-Quick-Install-Setup/","title":"Nanobot Quick Install &amp; Setup","text":"<p>Start here if you're new to nanobot. This guide gets you a working AI assistant in 5 minutes.</p>"},{"location":"Nanobot-Quick-Install-Setup/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0  </li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Nanobot-Quick-Install-Setup/#1-objective","title":"1. Objective","text":"<p>Get nanobot installed, configured with an LLM provider, and working end-to-end in minimal time.</p>"},{"location":"Nanobot-Quick-Install-Setup/#2-quick-prerequisites","title":"2. Quick Prerequisites","text":"<ul> <li>Python 3.11+ installed</li> <li>An LLM API key (or local Ollama running)</li> <li>Intending to use CLI, Discord, Slack, or another channel</li> </ul>"},{"location":"Nanobot-Quick-Install-Setup/#3-install-2-minutes","title":"3. Install (2 minutes)","text":""},{"location":"Nanobot-Quick-Install-Setup/#option-a-via-pip-recommended","title":"Option A: via pip (Recommended)","text":"<pre><code>pip install nanobot-ai\n</code></pre>"},{"location":"Nanobot-Quick-Install-Setup/#option-b-via-uv-fast","title":"Option B: via uv (Fast)","text":"<pre><code>uv tool install nanobot-ai\n</code></pre>"},{"location":"Nanobot-Quick-Install-Setup/#option-c-from-source","title":"Option C: From source","text":"<pre><code>git clone https://github.com/HKUDS/nanobot.git\ncd nanobot\npip install -e .\n</code></pre>"},{"location":"Nanobot-Quick-Install-Setup/#4-first-run-interactive-setup-2-minutes","title":"4. First Run: Interactive Setup (2 minutes)","text":"<pre><code>nanobot onboard\n</code></pre> <p>This launches an interactive wizard. Answer these key questions:</p> Question Answer API key or local? Paste your API key (e.g., OpenRouter, OpenAI, Anthropic) OR leave blank for local Ollama Which channels? Choose Discord, Slack, Telegram, Feishu, or CLI (local chat) Model to start with? anthropic/claude-opus-4-5 (via OpenRouter) OR llama2 (local) <p>The wizard creates <code>~/.nanobot/config.json</code> with your choices.</p>"},{"location":"Nanobot-Quick-Install-Setup/#5-test-it-1-minute","title":"5. Test It (1 minute)","text":""},{"location":"Nanobot-Quick-Install-Setup/#cli-test-easiest","title":"CLI Test (Easiest)","text":"<p><pre><code>nanobot agent\n</code></pre> Type a question. Hit Enter. You should get a response.</p>"},{"location":"Nanobot-Quick-Install-Setup/#discordslacktelegram-test","title":"Discord/Slack/Telegram Test","text":"<p>The wizard output shows your bot token and setup instructions for your chosen channel. Paste the token into Discord/Slack/etc. settings, then send a message in a channel the bot is in.</p>"},{"location":"Nanobot-Quick-Install-Setup/#6-next-steps","title":"6. Next Steps","text":"<p>For AOS-style governance: - See LLM Provider Setup Guide for multiple model routing - See Multi-Channel Integration Guide for channel policies - See Tools &amp; Skills Reference for what nanobot can do</p> <p>For advanced (VPS + Ollama + Tailscale): - See Nanobot Build Procedure</p>"},{"location":"Nanobot-Quick-Install-Setup/#7-common-issues","title":"7. Common Issues","text":"Symptom Fix <code>ModuleNotFoundError: nanobot</code> Reinstall: <code>pip install nanobot-ai --force-reinstall</code> API key rejected Verify key format and expiry in your API provider dashboard No response in CLI Check internet connection and model availability Discord bot offline Paste correct bot token and check Message Content Intent is enabled"},{"location":"Nanobot-Quick-Install-Setup/#8-what-nanobot-can-do-out-of-the-box","title":"8. What Nanobot Can Do (Out of the Box)","text":"<p>\u2705 Web Search - Real-time information via Brave API \u2705 File Ops - Read, write, edit files (workspace-scoped) \u2705 Shell - Execute commands (with allowlist) \u2705 GitHub - Search repos, manage PRs/issues \u2705 Scheduling - Run tasks on cron schedule \u2705 Memory - Remember conversation context \u2705 MCP Tools - Integrate external services  </p> <p>See Tools &amp; Skills Reference for details.</p>"},{"location":"Nanobot-Quick-Install-Setup/#9-revision-history","title":"9. Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial quick-install guide for nanobot v0.1.4+"},{"location":"Security-Validation-Runbook/","title":"Nanobot Agentic Operating System Security Validation Runbook","text":""},{"location":"Security-Validation-Runbook/#1-purpose","title":"1. Purpose","text":"<p>This runbook defines the recurring security validation steps for the Nanobot Agentic Operating System.</p>"},{"location":"Security-Validation-Runbook/#2-frequency-and-ownership","title":"2. Frequency and Ownership","text":"<ul> <li>Frequency: Monthly (minimum), and after major config changes</li> <li>Owner: Security/Platform Owner</li> <li>Operator: Assigned Operator</li> <li>Reviewer: Assigned Reviewer</li> </ul>"},{"location":"Security-Validation-Runbook/#3-preconditions","title":"3. Preconditions","text":"<ul> <li>Access to gateway host</li> <li>Access to Discord server settings</li> <li>Access to Nanobot config and logs</li> <li>Access to Obsidian operational records</li> </ul>"},{"location":"Security-Validation-Runbook/#4-validation-sequence","title":"4. Validation Sequence","text":"<p>Execute in this order to ensure consistent evidence collection.</p>"},{"location":"Security-Validation-Runbook/#step-1-gateway-exposure-check","title":"Step 1: Gateway Exposure Check","text":"<ul> <li>Verify gateway bind is loopback-only.</li> <li>Confirm no unintended public bind (0.0.0.0) is active.</li> <li>Validate remote access path is SSH tunnel or tailnet-based.</li> <li>Validate Ollama on local Windows host is reachable from VPS only via trusted tailnet path and is not publicly exposed.</li> </ul> <p>Pass Criteria - Gateway is loopback-bound and remote access is controlled.</p> <p>Fail Criteria - Any direct public exposure without approved exception.</p>"},{"location":"Security-Validation-Runbook/#step-2-dm-policy-and-allowlist-check","title":"Step 2: DM Policy and Allowlist Check","text":"<ul> <li>Verify DM policy is pairing mode by default.</li> <li>Validate unknown sender behavior (no command execution before approval).</li> <li>Verify allowlist entries are current and minimal.</li> </ul> <p>Pass Criteria - DM pairing flow works and allowlist scope is least-privilege.</p>"},{"location":"Security-Validation-Runbook/#step-3-trust-boundary-check","title":"Step 3: Trust Boundary Check","text":"<ul> <li>Confirm no mutually untrusted operator groups share one gateway trust boundary.</li> <li>Validate separation model (separate gateway/host/OS user) where required.</li> </ul> <p>Pass Criteria - Trust boundaries are documented and enforced.</p>"},{"location":"Security-Validation-Runbook/#step-4-sandbox-policy-check","title":"Step 4: Sandbox Policy Check","text":"<ul> <li>Verify non-main/shared channels run under sandbox profile where required.</li> <li>Confirm high-risk tools are not broadly exposed in shared contexts.</li> </ul> <p>Pass Criteria - Sandbox rules match policy for shared/non-main sessions.</p>"},{"location":"Security-Validation-Runbook/#step-5-security-audit-execution","title":"Step 5: Security Audit Execution","text":"<ul> <li>Run Nanobot security audit --deep.</li> <li>Verify deployed Nanobot version is 2026.2.23 or later.</li> <li>Review latest Nanobot security advisories and confirm no unpatched High/Critical findings apply to deployed version.</li> <li>Capture findings and classify severity.</li> <li>Confirm critical findings have immediate mitigation plan.</li> </ul> <p>Pass Criteria - No unresolved critical findings. - Deployed version is at or above the current patched minimum for published advisories.</p>"},{"location":"Security-Validation-Runbook/#step-6-secrets-and-token-hygiene","title":"Step 6: Secrets and Token Hygiene","text":"<ul> <li>Confirm tokens/secrets are in .env or approved secret store only.</li> <li>Confirm no secrets are present in notes, docs, or source-controlled config.</li> <li>Validate token rotation readiness and last rotation date.</li> </ul> <p>Pass Criteria - Secret handling policy is fully compliant.</p>"},{"location":"Security-Validation-Runbook/#step-7-logging-and-evidence-integrity","title":"Step 7: Logging and Evidence Integrity","text":"<ul> <li>Confirm required telemetry fields exist (request_id, project_id, workflow_domain, status, timestamps, model/cost fields where applicable).</li> <li>Confirm incident and change records are persisted to Obsidian.</li> </ul> <p>Pass Criteria - Security-relevant logs are complete and traceable end-to-end.</p>"},{"location":"Security-Validation-Runbook/#5-evidence-to-capture","title":"5. Evidence to Capture","text":"<ul> <li>Command output snippets (including security audit)</li> <li>Nanobot version output (Nanobot --version) and advisory review date</li> <li>Config screenshots or sanitized config excerpts</li> <li>Allowlist review record</li> <li>Sandbox policy verification record</li> <li>Remediation tickets with owners and due dates</li> </ul>"},{"location":"Security-Validation-Runbook/#6-remediation-sla","title":"6. Remediation SLA","text":"<ul> <li>Critical: immediate containment + fix plan same day</li> <li>High: remediation within 7 days</li> <li>Medium: remediation within 30 days</li> <li>Low: backlog with documented rationale</li> </ul>"},{"location":"Security-Validation-Runbook/#7-runbook-output-record-template","title":"7. Runbook Output Record Template","text":"<pre><code># Security Validation Report - &lt;YYYY-MM-DD&gt;\n- Run ID:\n- Owner:\n- Operator:\n- Reviewer:\n- Environment:\n\n## Results by Step\n1. Gateway Exposure Check: Pass/Fail\n2. DM Policy and Allowlist Check: Pass/Fail\n3. Trust Boundary Check: Pass/Fail\n4. Sandbox Policy Check: Pass/Fail\n5. Security Audit Execution: Pass/Fail\n6. Secrets and Token Hygiene: Pass/Fail\n7. Logging and Evidence Integrity: Pass/Fail\n\n## Findings\n- Critical:\n- High:\n- Medium:\n- Low:\n\n## Remediation Plan\n- Item:\n  - Owner:\n  - Due Date:\n  - Status:\n\n## Final Decision\n- Overall Status: Pass / Conditional Pass / Fail\n- Next Review Date:\n</code></pre>"},{"location":"Security-Validation-Runbook/#8-gono-go-rule","title":"8. Go/No-Go Rule","text":"<ul> <li>Go: all critical controls pass and no unresolved critical findings.</li> <li>No-Go: any unresolved critical finding or trust-boundary violation.</li> </ul>"},{"location":"Security-Validation-Runbook/#9-related-documents","title":"9. Related Documents","text":"<ul> <li>Nanobot Build Procedure</li> <li>Master Index</li> <li>Tools &amp; Skills Reference</li> <li>Governance Policies &amp; Config Examples</li> </ul>"},{"location":"Security-Validation-Runbook/#10-revision-history","title":"10. Revision History","text":"Date Version Change 2026-02-24 1.1.1 Added explicit Nanobot minimum patched-version check and latest-advisory verification step 2026-02-24 1.1.0 Added explicit Windows-host Ollama exposure validation to Step 1 for native-Windows inference architecture alignment 2026-02-23 1.0.0 Initial monthly security validation runbook for Nanobot Agentic Operating System"},{"location":"Tools-and-Skills-Reference/","title":"Tools &amp; Skills Reference","text":"<p>Complete reference for all built-in tools and pre-built skills in nanobot, plus how to create custom tools/skills.</p>"},{"location":"Tools-and-Skills-Reference/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Tools-and-Skills-Reference/#1-tools-overview","title":"1. Tools Overview","text":"<p>Tools are the executable actions nanobot can perform. All tools are opt-in and can be allowlisted per channel.</p>"},{"location":"Tools-and-Skills-Reference/#quick-tool-matrix","title":"Quick Tool Matrix","text":"Tool Purpose Risk Tier Notes web_search Real-time web search (Brave API) Low Requires Brave API key web_fetch Retrieve &amp; parse full web pages Low Limited by rate limits &amp; context file_read Read files (workspace-scoped) Low Sandbox-enforced; no parent dir escape file_write Create/overwrite files Medium Audit-logged; idempotent support file_edit Edit specific lines in files Medium Line-based for precision; audit-logged file_list List directory contents Low Only workspace-visible directories shell_exec Execute shell commands High Operator-restricted; all commands logged message_send Send alerts/notifications Low Cross-channel notifications possible mcp_call Call MCP server tools High Custom auth headers supported cron_schedule Schedule recurring tasks Medium Cron syntax; can be expensive at scale subagent_spawn Launch parallel agents High Spawned agents have own context/memory github_search Search GitHub repos Low No auth needed; public access github_pr_create Create pull requests High Requires GitHub token; write access github_action_trigger Trigger workflows High Requires org/repo permissions"},{"location":"Tools-and-Skills-Reference/#2-tool-details-configuration","title":"2. Tool Details &amp; Configuration","text":""},{"location":"Tools-and-Skills-Reference/#web_search","title":"web_search","text":"<p>Purpose: Real-time search via Brave Search API Required API Key: Yes (Brave) Cost: ~$0.01-0.05 per search Config: <pre><code>{\n  \"braveApiKey\": \"YOUR_BRAVE_KEY\"\n}\n</code></pre> Usage: <code>nanobot: \"Find 3 articles about AI safety from this week\"</code></p>"},{"location":"Tools-and-Skills-Reference/#web_fetch","title":"web_fetch","text":"<p>Purpose: Download and parse web pages full-text Required API Key: No Cost: None Config: Built-in, no config needed Usage: <code>nanobot: \"Summarize this page: https://example.com/article\"</code></p>"},{"location":"Tools-and-Skills-Reference/#file_read-file_write-file_edit-file_list","title":"file_read / file_write / file_edit / file_list","text":"<p>Purpose: Access workspace files Workspace Scope: All paths are relative to agent workspace (e.g., <code>~/.nanobot/workspace/</code>) Security: Cannot escape workspace root (e.g., cannot read <code>/etc/passwd</code>) Config: No special config; enabled by default with workspace binding Usage Examples: <pre><code>\"Read the project README\"\n\"Create a deployment checklist in deploy-checklist.md\"\n\"Update line 10 in config.json to set debug=true\"\n\"List all Python files in src/\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#shell_exec","title":"shell_exec","text":"<p>Purpose: Execute OS commands Risk Tier: High Restrictions: - Only operators with explicit allowlist can invoke - All commands logged with timestamp, operator, exit code, output - Dangerous commands (rm -rf /, sudo) can be blocklisted Config: <pre><code>{\n  \"tools\": {\n    \"shell\": {\n      \"enabled\": true,\n      \"allowFrom\": [\"USER_ID_1\", \"USER_ID_2\"],\n      \"timeout\": 30,\n      \"blocklist\": [\"rm -rf\", \"sudo dd\"]\n    }\n  }\n}\n</code></pre> Usage: <code>nanobot: \"Deploy the latest build: make deploy\"</code></p>"},{"location":"Tools-and-Skills-Reference/#message_send","title":"message_send","text":"<p>Purpose: Send cross-channel alerts, escalations, notifications Config: Built-in Usage Examples: <pre><code>\"Alert team in #incidents that model latency &gt; 5s\"\n\"Send daily summary to #ops-digest\"\n\"Notify owner in #alerts about high spend ($50/day)\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#mcp_call","title":"mcp_call","text":"<p>Purpose: Call externally hosted MCP (Model Context Protocol) tools Examples of MCP Tools:  - Filesystem operations on remote systems - Database queries - API calls to internal services - Custom business logic tools Config: <pre><code>{\n  \"mcpServers\": {\n    \"mydb\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/db_mcp_server.py\"],\n      \"customHeaders\": {\n        \"Authorization\": \"Bearer YOUR_TOKEN\"\n      }\n    }\n  }\n}\n</code></pre> Docs: https://modelcontextprotocol.io</p>"},{"location":"Tools-and-Skills-Reference/#cron_schedule","title":"cron_schedule","text":"<p>Purpose: Schedule tasks to run on recurring schedule Syntax: Standard cron (minute hour day month weekday) Examples: <pre><code>\"0 9 * * 1-5\" \u2192 Every weekday at 9 AM\n\"0 * * * *\" \u2192 Every hour\n\"*/15 * * * *\" \u2192 Every 15 minutes\n\"0 23 * * *\" \u2192 Daily at 11 PM\n</code></pre> Config: No special config; enabled via Cron skill Usage: <code>nanobot: \"Schedule a daily digest at 23:50 every day\"</code></p>"},{"location":"Tools-and-Skills-Reference/#subagent_spawn","title":"subagent_spawn","text":"<p>Purpose: Launch independent agents for parallel work Use Cases:  - Parallel research across multiple sources - Delegated tasks (e.g., \"research this, fix that, monitor that\") - Complex multi-step workflows Config: No special config; built-in Usage: <pre><code>\"Spawn 3 agents to each research a different competitor, then synthesize findings\"\n\"Spawn agent to monitor GitHub repo for issues while you work on design doc\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#github_search-github_pr_create-github_action_trigger","title":"github_search / github_pr_create / github_action_trigger","text":"<p>Purpose: Automate GitHub workflows Required: GitHub personal access token (for create/trigger) Config: <pre><code>{\n  \"tools\": {\n    \"github\": {\n      \"token\": \"github_pat_...\",\n      \"allowFrom\": [\"USER_ID\"]\n    }\n  }\n}\n</code></pre> Usage Examples: <pre><code>\"Search nanobot repo for issues tagged 'bug'\"\n\"Create a PR to add docstrings to parser.py\"\n\"Trigger the 'deploy' workflow in main branch\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#3-skills-overview","title":"3. Skills Overview","text":"<p>Skills are pre-built, opinionated bundles of tools configured for specific business functions.</p>"},{"location":"Tools-and-Skills-Reference/#built-in-skills","title":"Built-In Skills","text":""},{"location":"Tools-and-Skills-Reference/#1-obsidian","title":"1. obsidian","text":"<p>Purpose: Read, write, and query Obsidian vault from nanobot Install: <code>nanobot skill add obsidian</code> (or included by default) Config: <pre><code>{\n  \"obsidianVaultPath\": \"~/Documents/ObsidianVault\",\n  \"obsidianRestEndpoint\": \"http://localhost:18790\",\n  \"obsidianRestToken\": \"token...\"\n}\n</code></pre> Usage: <pre><code>\"Read the project roadmap from Roadmap.md\"\n\"Write a research summary to 08-Research/AI-Safety/2026-02.md\"\n\"Query all notes tagged with #decision\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#2-memory","title":"2. memory","text":"<p>Purpose: Manage conversation sessions and memory consolidation Install: Built-in Features: - Automatic memory consolidation for long conversations - Session isolation per user - Token budget enforcement - Retention policies Usage: Automatic; configure via: <pre><code>{\n  \"session\": {\n    \"memoryWindow\": 100,\n    \"maxSessionTokens\": 32000\n  }\n}\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#3-summarize","title":"3. summarize","text":"<p>Purpose: Condense long content while preserving key information Install: Built-in Config: No special config Usage: <pre><code>\"Summarize this 50-page PDF to 1 page\"\n\"Create a 3-sentence summary of today's Discord activity\"\n\"Condense this research into key findings + citations\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#4-cron-scheduler","title":"4. cron (Scheduler)","text":"<p>Purpose: Run tasks on recurring schedules Install: <code>nanobot skill add cron</code> Config: <pre><code>{\n  \"cron\": {\n    \"enabled\": true,\n    \"allowedJobs\": [\"daily_digest\", \"backup\", \"health_check\"]\n  }\n}\n</code></pre> Usage Examples: <pre><code>\"Schedule a health check every hour\"\n\"Run a daily journal summarizer at 23:50\"\n\"Backup workspace every Sunday at 2 AM\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#5-weather","title":"5. weather","text":"<p>Purpose: Fetch current and forecast weather data Install: <code>nanobot skill add weather</code> Config: No API key needed (free service) Usage: <pre><code>\"What's the weather in San Francisco?\"\n\"Get 5-day forecast for New York\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#6-clawhub","title":"6. clawhub","text":"<p>Purpose: Search and install public skills from ClawHub marketplace Install: <code>nanobot skill add clawhub</code> Usage: <pre><code>\"Search ClawHub for 'email' skills\"\n\"Install the 'LinkedIn Poster' skill from ClawHub\"\n</code></pre> Note: ClawHub is a skill marketplace; vet all skills before installing.</p>"},{"location":"Tools-and-Skills-Reference/#7-skill-creator","title":"7. skill-creator","text":"<p>Purpose: Auto-generate new skills from natural language descriptions Install: <code>nanobot skill add skill-creator</code> Usage: <pre><code>\"Create a new skill: read financial PDFs and extract quarterly earnings\"\n\"Generate a skill for checking DNS records\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#8-tmux","title":"8. tmux","text":"<p>Purpose: Control terminal multiplexer for advanced automation Install: <code>nanobot skill add tmux</code> Config: <pre><code>{\n  \"tmux\": {\n    \"defaultSession\": \"main\",\n    \"allowFrom\": [\"TRUSTED_USER_ID\"]\n  }\n}\n</code></pre> Usage: <code>\"Start a tmux session 'dev' and run my build script\"</code></p>"},{"location":"Tools-and-Skills-Reference/#9-github","title":"9. github","text":"<p>Purpose: GitHub automation (search, create PRs, trigger workflows) Install: Built-in Config: <pre><code>{\n  \"github\": {\n    \"token\": \"github_pat_...\",\n    \"defaultOrg\": \"your-org\"\n  }\n}\n</code></pre> Usage: <pre><code>\"Search our 'frontend' repo for TypeScript issues\"\n\"Create a PR to update dependencies\"\n\"Trigger 'test' workflow\"\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#4-custom-tools","title":"4. Custom Tools","text":"<p>Add custom tool implementations to extend nanobot:</p> <p>Example: Custom Weather Tool <pre><code># ~/.nanobot/tools/custom_weather.py\nfrom nanobot.agent.tools import BaseTool\n\nclass CustomWeatherTool(BaseTool):\n    name = \"custom_weather\"\n    description = \"Fetch weather from internal weather service\"\n\n    async def execute(self, location: str) -&gt; dict:\n        # Your custom logic here\n        return {\"temperature\": 72, \"condition\": \"sunny\"}\n</code></pre></p> <p>Register in config: <pre><code>{\n  \"customTools\": [\n    \"~/.nanobot/tools/custom_weather\"\n  ]\n}\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#5-custom-skills","title":"5. Custom Skills","text":"<p>Create a new skill by bundling tools with business logic:</p> <p>Example: Bookkeeping Reconciliation Skill <pre><code># ~/.nanobot/skills/bk_reconcile.py\nfrom nanobot.agent.skills import BaseSkill\n\nclass BookkeepingReconcileSkill(BaseSkill):\n    id = \"bk_reconcile\"\n    description = \"Reconcile transactions against ledger\"\n\n    async def execute(self, csv_file: str, ledger_date: str) -&gt; dict:\n        # 1. Read CSV via file_read tool\n        # 2. Parse transactions\n        # 3. Query ledger (via MCP or database tool)\n        # 4. identify discrepancies\n        # 5. Write summary to Obsidian\n        return {\"status\": \"reconciled\", \"discrepancies\": [...]}\n</code></pre></p> <p>Install: <pre><code>nanobot skill add ~/.nanobot/skills/bk_reconcile\n</code></pre></p>"},{"location":"Tools-and-Skills-Reference/#6-tool-allowlisting-aos-security","title":"6. Tool Allowlisting (AOS Security)","text":"<p>Restrict tools per channel:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"allowedTools\": {\n        \"#ctl-nanobot\": [\"shell\", \"mcp\", \"github\"],\n        \"#prd-*\": [\"web\", \"file\", \"message\"],\n        \"#bk-*\": [\"file\", \"message\", \"obsidian\"],\n        \"#res-*\": [\"web\", \"message\", \"obsidian\"],\n        \"default\": [\"web\", \"file\", \"message\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"Tools-and-Skills-Reference/#7-tool-cost-performance-reference","title":"7. Tool Cost &amp; Performance Reference","text":"Tool Latency Cost/Call Context Impact web_search 2-5s ~$0.01 5-10KB web_fetch 1-3s None 10-50KB file_* &lt;100ms None &lt;1KB shell_exec 1-30s None Varies message_send &lt;100ms None &lt;1KB mcp_call Varies Varies Depends cron_schedule N/A None None subagent_spawn High +cost per agent +memory github_* 1-5s None &lt;5KB"},{"location":"Tools-and-Skills-Reference/#8-troubleshooting-tools","title":"8. Troubleshooting Tools","text":"<p>Tool disabled error: <pre><code>\"web_search\" tool not available in #bk-finances\n</code></pre> Fix: Add <code>web</code> to allowed tools for that channel.</p> <p>Tool timeout: <pre><code>shell_exec timed out after 30s\n</code></pre> Fix: Increase <code>timeout</code> config or optimize command.</p> <p>MCP connection failed: <pre><code>Cannot connect to MCP server: mydb\n</code></pre> Fix: Verify MCP server is running and auth headers are correct.</p>"},{"location":"Tools-and-Skills-Reference/#9-revision-history","title":"9. Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial comprehensive reference for 14 tools and 9 pre-built skills"},{"location":"Workflow-Examples-and-Recipes/","title":"Workflow Examples &amp; Recipes","text":"<p>Real-world nanobot workflows. Copy, customize, and deploy.</p>"},{"location":"Workflow-Examples-and-Recipes/#document-control","title":"Document Control","text":"<ul> <li>Owner:</li> <li>Version: 1.0.0</li> <li>Last Updated: 2026-02-25</li> <li>Status: Active</li> </ul>"},{"location":"Workflow-Examples-and-Recipes/#1-daily-knowledge-consolidation-obsidian-cron-summarize","title":"1. Daily Knowledge Consolidation (Obsidian + Cron + Summarize)","text":"<p>Goal: Every night at 2am, summarize yesterday's Discord #prd channel into Obsidian vault.</p> <p>Tools used: cron_schedule, file_read, file_write, shell_exec (python + summarize skill)</p> <p>Why useful: Engineering teams generate insights constantly; capturing them prevents loss.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup","title":"Setup","text":"<p>1.1 Config (in ~/.nanobot/config.json):</p> <pre><code>{\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"token\": \"your-discord-token\",\n      \"listen_channels\": [\"prd\"]\n    }\n  },\n  \"skills\": {\n    \"obsidian\": {\n      \"enabled\": true,\n      \"vault_path\": \"/path/to/obsidian/vault\"\n    },\n    \"summarize\": {\n      \"enabled\": true,\n      \"model\": \"qwen2:latest\"\n    },\n    \"cron\": {\n      \"enabled\": true\n    }\n  }\n}\n</code></pre> <p>1.2 Create Cron Job (in Discord):</p> <p>Send this message to trigger scheduled job creation:</p> <pre><code>@BotName cron create: nightly_prd_summary\n  schedule: \"0 2 * * *\"\n  action: \"Summarize Discord #prd from yesterday and write to Obsidian daily-standup/{date}.md\"\n  provider: qwen2:latest\n  output_format: markdown\n</code></pre> <p>1.3 Check Job Created:</p> <pre><code>@BotName cron list\n</code></pre> <p>Output: <pre><code>\u2713 nightly_prd_summary (0 2 * * *) - Last run: 2026-02-25 02:01\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#execution-automatic-every-night","title":"Execution (Automatic Every Night)","text":"<p>What happens at 2am:</p> <ol> <li>Nanobot reads last 24h of #prd messages</li> <li>Runs summarize skill: \"Extract key decisions, blockers, and discussions\"</li> <li>Formats as Markdown with timestamps and attributions</li> <li>Writes to: <code>Obsidian/01-Daily/2026-02-25.md</code></li> <li>Posts confirmation to #prd: \"Summary written \u2713\"</li> </ol>"},{"location":"Workflow-Examples-and-Recipes/#sample-output","title":"Sample Output","text":"<p>File: <code>/Obsidian/01-Daily/2026-02-25.md</code></p> <pre><code># Daily Standup - Feb 25, 2026\n\n## Key Decisions\n- **Design System:** Approved new component library (Alex, 2:15pm)\n- **Timeline:** Sprint ends Friday with demo Friday 4pm (Sara, 3:22pm)\n\n## Blockers\n- S3 integration failing with session token expiration (James, 1:45pm)\n  - Action: James to investigate IAM policy with DevOps team\n\n## Technical Discussions\n- Python async patterns for high-concurrency services (3 messages)\n- Caching strategy for API responses (2 threads)\n\n## Attendees\n- @alex, @sara, @james, @yuki, @alex\n\n## Full Transcript\n[link to Discord thread]\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#customization-ideas","title":"Customization Ideas","text":"<p>Variation 1: Weekly Executive Summary</p> <pre><code>schedule: \"0 8 * * 1\"  // Monday 8am\nformat: executive_brief  // Shorter, business-focused\nchannels: [\"prd\", \"exec\", \"strategy\"]  // Multiple channels\n</code></pre> <p>Variation 2: Per-Team Summaries</p> <pre><code>{\n  \"cron_jobs\": [\n    { \"channel\": \"prd\", \"team\": \"engineering\", \"time\": \"8am\" },\n    { \"channel\": \"marketing\", \"team\": \"marketing\", \"time\": \"9am\" },\n    { \"channel\": \"sales\", \"team\": \"sales\", \"time\": \"10am\" }\n  ]\n}\n</code></pre> <p>Variation 3: Slack Instead of Obsidian</p> <pre><code>action: \"Summarize and post to Slack #daily-standup\"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#2-multi-channel-content-distribution","title":"2. Multi-Channel Content Distribution","text":"<p>Goal: User writes article in Discord. Automatically posts to Discord, Slack, Telegram with platform-specific formatting.</p> <p>Tools used: message_send (with channel routing), file_read, shell_exec (for formatting)</p> <p>Why useful: Marketing teams write once, distribute everywhere. No copy-pasting errors.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_1","title":"Setup","text":"<p>2.1 Config:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": { \"enabled\": true },\n    \"slack\": { \"enabled\": true },\n    \"telegram\": { \"enabled\": true }\n  },\n  \"tools\": {\n    \"message_send\": {\n      \"enabled\": true,\n      \"default_channel\": \"discord\",\n      \"routing\": {\n        \"twitter\": \"telegram\",\n        \"blog\": [\"discord\", \"slack\"],\n        \"announcement\": [\"discord\", \"slack\", \"telegram\"]\n      }\n    }\n  }\n}\n</code></pre> <p>2.2 Trigger in Discord:</p> <p>User post in #content-hub:</p> <pre><code>@BotName post:\nTitle: \"5 Nanobot Best Practices\"\nBody: &gt; Best practices for deploying nanobot at scale...\n[full article text]\n\nDistribute to: announcement\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution","title":"Execution","text":"<p>What Bot Does:</p> <ol> <li>Format for Discord:</li> <li>Embed with title + body + author</li> <li>Link to full document</li> <li> <p>Reactions for feedback</p> </li> <li> <p>Format for Slack:</p> </li> <li>Slack blocks layout</li> <li>Threading support</li> <li> <p>Mention relevant team members</p> </li> <li> <p>Format for Telegram:</p> </li> <li>Plain text (Telegram markdown)</li> <li>Link in thread</li> </ol>"},{"location":"Workflow-Examples-and-Recipes/#sample-output_1","title":"Sample Output","text":"<p>Discord: <pre><code>\ud83d\udcf0 5 Nanobot Best Practices\nby @alice | #content-hub\n\nBest practices for deploying nanobot at scale...\n[Read Full Article](link)\n\n\ud83d\udc4d \u2764\ufe0f \ud83d\udd17\n</code></pre></p> <p>Slack: <pre><code>5 Nanobot Best Practices\nPosted by alice in #content-hub\n\nBest practices for deploying nanobot at scale...\nRead Full Article: [link]\n\n\nThread: 0 replies | 2 emoji reactions\n</code></pre></p> <p>Telegram: <pre><code>\ud83d\udcf0 5 Nanobot Best Practices\n@alice\n\nBest practices for deploying nanobot...\n\nRead: [link]\n</code></pre></p>"},{"location":"Workflow-Examples-and-Recipes/#cost-0005-per-distribution-tier-b","title":"Cost: ~$0.005 per distribution (Tier B)","text":""},{"location":"Workflow-Examples-and-Recipes/#3-customer-support-bot-multi-channel","title":"3. Customer Support Bot (Multi-Channel)","text":"<p>Goal: Answer customer questions in Discord, Slack, Telegram. Route to human if confidence &lt;70%.</p> <p>Tools used: web_search, file_read (knowledge base), message_send, mcp_call (to ticket system)</p> <p>Why useful: 24/7 support, reduce ticket volume by 50-60%, instant answers.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_2","title":"Setup","text":"<p>3.1 Config:</p> <pre><code>{\n  \"channels\": {\n    \"discord\": { \"enabled\": true, \"channels\": [\"#support\"] },\n    \"slack\": { \"enabled\": true, \"channels\": [\"#help\"] },\n    \"telegram\": { \"enabled\": true }\n  },\n  \"tools\": {\n    \"web_search\": { \"enabled\": true, \"api_key\": \"brave_key\" },\n    \"file_read\": { \"enabled\": true }\n  },\n  \"skills\": {\n    \"memory\": {\n      \"enabled\": true,\n      \"knowledge_base\": \"/path/to/support-docs\"\n    }\n  },\n  \"routing\": {\n    \"confidence_threshold\": 0.70,\n    \"low_confidence_action\": \"escalate_to_human\"\n  }\n}\n</code></pre> <p>3.2 Knowledge Base File Structure:</p> <pre><code>/knowledge-base/\n\u251c\u2500\u2500 faq.md (Common questions &amp; answers)\n\u251c\u2500\u2500 troubleshooting.md (Error codes + fixes)\n\u251c\u2500\u2500 api-docs.md (API reference)\n\u2514\u2500\u2500 pricing.md (Pricing &amp; billing)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_1","title":"Execution","text":"<p>User in Discord #support:</p> <pre><code>@BotName: How do I enable multi-channel support?\n</code></pre> <p>Bot Process:</p> <ol> <li>Search knowledge base for \"multi-channel\"</li> <li>Search web if not found locally</li> <li>Generate answer with confidence score</li> <li>If confidence &gt;70%: Post answer</li> <li>If confidence &lt;70%: Tag @support-team with context</li> </ol> <p>Sample Output:</p> <pre><code>\u2713 How do I enable multi-channel support?\n\nTo enable multi-channel support, edit ~/.nanobot/config.json:\n\n{\n  \"channels\": {\n    \"discord\": { \"enabled\": true },\n    \"slack\": { \"enabled\": true }\n  }\n}\n\nThen restart: nanobot gateway\n\n\ud83d\udcda See: [Full Multi-Channel Guide](link)\n\ud83d\udc65 Still need help? Thread @alice, @bob, or @support-team\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#advanced-escalation-logic","title":"Advanced: Escalation Logic","text":"<p>If bot unsure, creates MCP ticket:</p> <pre><code>\ud83e\udd14 I'm not confident in my answer (62% confidence).\nEscalating to human team...\n\n\ud83d\udccb Internal Ticket ID: SUP-2026-0225-001\n\ud83d\udc65 Assigned to: next available\n\u23f1\ufe0f Est. response: 15 mins\n\nCustomer sees: \"A human team member will respond shortly\"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#handle-volume","title":"Handle Volume","text":"<p>For 100 support questions/day: - Auto-answer: 60-70 questions (~$2.25/month Tier C) - Escalate: 30-40 questions (~30 mins human review) - ROI: ~2 person-hours saved, net positive</p>"},{"location":"Workflow-Examples-and-Recipes/#4-research-agent-web-search-synthesis","title":"4. Research Agent (Web Search + Synthesis)","text":"<p>Goal: User asks research question. Bot searches web, reads articles, synthesizes findings into report.</p> <p>Tools used: web_search, file_read, file_write, shell_exec (for web scraping)</p> <p>Why useful: Replace 2-3 hour research task with 2-minute bot task.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_3","title":"Setup","text":"<p>4.1 Config:</p> <pre><code>{\n  \"tools\": {\n    \"web_search\": {\n      \"enabled\": true,\n      \"api_key\": \"brave_api_key\",\n      \"max_results\": 10\n    },\n    \"file_read\": { \"enabled\": true },\n    \"file_write\": { \"enabled\": true }\n  },\n  \"llm\": {\n    \"model\": \"claude-opus\",\n    \"tier\": \"a\"\n  }\n}\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#trigger-in-discord-research","title":"Trigger (in Discord #research)","text":"<pre><code>@BotName research:\nQuestion: \"What are latest trends in AI agent frameworks (Feb 2026)?\"\nFormat: report\nOutput: obsidian_file\nVault path: /obsidian/01-Research/{date}-{topic}.md\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_2","title":"Execution","text":"<p>Bot Process (takes 2-3 min):</p> <ol> <li>Web search: \"AI agent frameworks 2026 trends\"</li> <li>Read top 10 articles</li> <li>Extract key points: frameworks, capabilities, costs, adoption</li> <li>Synthesize into structured report</li> <li>Write to Obsidian with citations</li> </ol> <p>Sample Output:</p> <p>File: <code>/Obsidian/01-Research/2026-02-25-AI-Agent-Frameworks.md</code></p> <pre><code># AI Agent Frameworks - Trends Feb 2026\n\n## Executive Summary\n3 major frameworks dominating: Nanobot, AutoGPT-7, and Cursor-AI v2.\nCommon pattern: LLM routing + tool composition + memory consolidation.\n\n## Framework Comparison\n\n| Framework | LLM Support | Tools | Channels | Cost/mo |\n|---|---|---|---|---|\n| **Nanobot** | 100+ | 14 | 12+ | $0-200 |\n| **AutoGPT-7** | OpenAI only | 30 | 5 | $50-500 |\n| **Cursor-AI** | varies | 50+ | 3 | $20-300 |\n\n## Key Trends\n\n1. **Multi-provider routing** - Cost optimization (Trend strength: ++++)\n2. **Memory consolidation** - Reduce context window costs (++++)\n3. **Self-hosted inference** - Privacy + cost control (+++)\n4. **Tool composition** - Complex workflows from simple primitives (++++)\n\n## Detailed Analysis\n[30-50 lines of synthesis]\n\n## Sources\n- [Article 1](url) - \"2026 State of AI Agents\"\n- [Article 2](url) - \"Framework Benchmark Report\"\n- [Article 3](url) - \"Enterprise AI Agent Adoption\"\n\nGenerated 2026-02-25 by Nanobot Research Agent\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#cost-002-per-research-task-tier-a-claude-opus","title":"Cost: ~$0.02 per research task (Tier A - Claude Opus)","text":"<p>ROI: Replaces 1-2 hours manual research at cost of $0.02 \ud83c\udfaf</p>"},{"location":"Workflow-Examples-and-Recipes/#5-github-automation-daily-standup","title":"5. GitHub Automation &amp; Daily Standup","text":"<p>Goal: Every morning, summarize overnight PRs/issues, post to Discord #engineering.</p> <p>Tools used: github_get_prs, github_get_issues, summarize skill, message_send, cron_schedule</p> <p>Why useful: Engineering team aware of PRs needing review without checking GitHub.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_4","title":"Setup","text":"<p>5.1 Config:</p> <pre><code>{\n  \"tools\": {\n    \"github\": {\n      \"enabled\": true,\n      \"token\": \"github-personal-access-token\",\n      \"org\": \"your-org\",\n      \"repos\": [\"nanobot\", \"cli-tools\", \"integrations\"]\n    }\n  },\n  \"skills\": {\n    \"cron\": { \"enabled\": true },\n    \"summarize\": { \"enabled\": true }\n  },\n  \"channels\": {\n    \"discord\": { \"enabled\": true }\n  }\n}\n</code></pre> <p>5.2 Create Cron Job:</p> <pre><code>@BotName cron create: morning_github_standup\n  schedule: \"0 8 * * 1-5\"  // Mon-Fri 8am\n  action: \"\n    Get all open PRs and issues from last 24h across repos\n    Summarize: PRs awaiting review, merged PRs, new critical issues\n    Post to Discord #engineering with action items\n  \"\n  provider: openrouter/qwen2:latest\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#execution_3","title":"Execution","text":"<p>Every Weekday 8am:</p> <p>Bot fetches from GitHub: - 3 PRs opened overnight (with file diffs) - 8 PRs merged yesterday - 2 new critical issues - 15 comments on open PRs</p> <p>Generates summary:</p> <p>Discord #engineering:</p> <pre><code>\ud83d\udcca GitHub Standup - Thursday Feb 25\n\n## PRs Awaiting Review (3)\n\ud83d\udd34 #456: Refactor auth middleware (alice) - 8 files, needs review\n\ud83d\udfe1 #457: Add caching layer (bob) - 3 files, 1 approval needed\n\ud83d\udfe1 #458: Update dependencies (dependabot) - automated\n\n## Merged Yesterday (8)\n\u2705 #445: Fix S3 upload bug\n\u2705 #446: Add telemetry logging\n\u2705 #447-452: Dependency updates\n\n## Critical Issues (2)\n\ud83d\udd34 #2034: Memory leak in connection pool (opened 3h ago)\n\ud83d\udd34 #2035: API rate limiting broken\n\n## Action Items\n- @alice: Review #457 (3 mins)\n- @james: Investigate #2034 (estimate 1h)\n- @sara: Prioritize #2035 after standup\n\n## Stats\n- 8 PRs merged | 3 awaiting review | 14 commits\n- Test coverage: 87% (\u2191 1%)\n\n[Full report](link to GitHub)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#cost-0003-per-run-tier-c-daily-0003-per-run-tier-c-daily-009month","title":"Cost: ~0.003 per run (Tier C - daily) = **0.09/month**","text":""},{"location":"Workflow-Examples-and-Recipes/#6-obsidian-sync-weekly-review","title":"6. Obsidian Sync + Weekly Review","text":"<p>Goal: Friday 5pm, auto-generate weekly review from Obsidian vault + Discord logs.</p> <p>Tools used: file_read (Obsidian), shell_exec (Obsidian API), summarize skill, file_write</p> <p>Why useful: Weekly reflection on team progress, decisions, and blockers.</p>"},{"location":"Workflow-Examples-and-Recipes/#setup_5","title":"Setup","text":"<p>6.1 Obsidian Vault Structure:</p> <pre><code>/Vault/\n\u251c\u2500\u2500 00-System/\n\u2502   \u2514\u2500\u2500 weekly-review-template.md\n\u251c\u2500\u2500 01-Daily/\n\u2502   \u251c\u2500\u2500 2026-02-21.md\n\u2502   \u251c\u2500\u2500 2026-02-22.md\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 02-Project/\n\u2502   \u251c\u2500\u2500 project-a.md\n\u2502   \u251c\u2500\u2500 project-b.md\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 03-Archive/\n    \u2514\u2500\u2500 weekly-2026-w08.md\n</code></pre> <p>6.2 Cron Job:</p> <pre><code>@BotName cron create: weekly_review\n  schedule: \"0 17 * * 5\"  // Friday 5pm\n  action: \"\n    1. Read daily notes from last 7 days\n    2. Extract decisions, blockers, wins\n    3. Summarize project updates\n    4. Generate weekly review\n    5. Save to 03-Archive/weekly-{date}.md\n    6. Post summary to Discord #weekly-review\n  \"\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#sample-output_2","title":"Sample Output","text":"<p>Discord #weekly-review:</p> <pre><code>\ud83d\udccb Weekly Review - Week of Feb 24\n\n**Wins This Week**\n\u2705 Launched multi-channel support (Major!)\n\u2705 Cut API latency by 40% with caching\n\u2705 Onboarded 3 new team members\n\n**Blockers**\n\ud83d\udd34 S3 integration still failing (blocker for 2 PRs)\n\ud83d\udfe1 API rate limits causing test flakiness\n\n**Key Decisions**\n- \u2713 Approved new design system (for Q2 rollout)\n- \u2713 Migrated to OpenRouter for cost control (saving 70%)\n- \u2713 Delayed mobile app launch to May (more runway needed)\n\n**Team Metrics**\n- 23 PRs merged | 3 critical bugs fixed\n- Code coverage: 87% (\u2191 1%)\n- Release readiness: 94%\n\n**Next Week Priorities**\n1. Fix S3 blocker (alice + james)\n2. Complete onboarding (sara)\n3. Q2 planning kickoff (friday afternoon)\n\n[Full weekly review](link)\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#mixing-matching","title":"Mixing &amp; Matching","text":"<p>All these recipes share common patterns. Combine them:</p> <ul> <li>Daily Standup + Multi-Channel Distribution: Write once, post everywhere</li> <li>Research Agent + Obsidian: Auto-capture findings</li> <li>GitHub Standup + Cron: Every morning, team has context</li> <li>Customer Support + Memory: Knowledge base grows with every ticket</li> </ul> <p>Cost for running all 6 workflows continuously: - ~$50-100/month combined (using Tier B+C routing) - Replaces: ~10-15 person-hours/week work - ROI: 20-30x annual payback</p>"},{"location":"Workflow-Examples-and-Recipes/#customization-template","title":"Customization Template","text":"<p>Use this for building your own workflow:</p> <pre><code>Name: [workflow name]\nGoal: [what problem does this solve]\nTools: [list tools used]\n\nSetup:\n1. [Config changes]\n2. [File structures needed]\n3. [Initial trigger/setup]\n\nExecution:\n- [Step 1]\n- [Step 2]\n- [Step 3]\n\nSample Output:\n[Real example of what user sees]\n\nCost:\n[Est. cost/month]\n\nVariations:\n- [Variation 1]\n- [Variation 2]\n</code></pre>"},{"location":"Workflow-Examples-and-Recipes/#revision-history","title":"Revision History","text":"Date Version Change 2026-02-25 1.0.0 Initial workflow examples and recipes"}]}